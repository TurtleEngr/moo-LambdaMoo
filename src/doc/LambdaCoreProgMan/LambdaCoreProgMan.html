<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <!-- Created by texi2html 1.56k from LambdaCoreProgMan.texinfo on 25 August 1999 -->
  <title>LambdaCore Database User's Manual</title>
</head>
<body>
  <h1>LambdaCore Database Programmer's Manual</h1>
  <h2>For LambdaMOO version 1.3</h2>
  <h2>July 1991</h2>
  <address>
    Mike Prudence (blip)
  </address>
  <address>
    Simon Hunt (Ezeke)
  </address>
  <address>
    Floyd Moore (Phantom)
  </address>
  <address>
    Kelly Larson (Zaphod)
  </address>
  <address>
    Al Harringtom (Geezer)
  </address>
  <hr />
  <h2>Table of Contents</h2>
  <ul>
    <li>
      <a name="TOC1"
          href="LambdaCoreProgMan.html#SEC1"
          id="TOC1">Introduction</a>
    </li>
    <li>
      <a name="TOC2"
          href="LambdaCoreProgMan.html#SEC2"
          id="TOC2">The LambdaCore Classes</a>
      <ul>
        <li>
          <a name="TOC3"
              href="LambdaCoreProgMan.html#SEC3"
              id="TOC3">The LambdaCore Generic Classes</a>
          <ul>
            <li>
              <a name="TOC4"
                  href="LambdaCoreProgMan.html#SEC4"
                  id="TOC4">The Root Class</a>
            </li>
            <li>
              <a name="TOC5"
                  href="LambdaCoreProgMan.html#SEC5"
                  id="TOC5">The Room Class</a>
            </li>
            <li>
              <a name="TOC6"
                  href="LambdaCoreProgMan.html#SEC6"
                  id="TOC6">The Thing Class</a>
            </li>
            <li>
              <a name="TOC7"
                  href="LambdaCoreProgMan.html#SEC7"
                  id="TOC7">The Exit Class</a>
            </li>
            <li>
              <a name="TOC8"
                  href="LambdaCoreProgMan.html#SEC8"
                  id="TOC8">The Player Class</a>
            </li>
          </ul>
        </li>
        <li>
          <a name="TOC9"
              href="LambdaCoreProgMan.html#SEC9"
              id="TOC9">The Mail Room Class</a>
          <ul>
            <li>
              <a name="TOC10"
                  href="LambdaCoreProgMan.html#SEC10"
                  id="TOC10">Mail Commands and Properties on The Player
                  Class</a>
            </li>
            <li>
              <a name="TOC11"
                  href="LambdaCoreProgMan.html#SEC11"
                  id="TOC11">The Mail Room or Mail Editor</a>
            </li>
            <li>
              <a name="TOC12"
                  href="LambdaCoreProgMan.html#SEC12"
                  id="TOC12">The generic Editor Class</a>
            </li>
            <li>
              <a name="TOC13"
                  href="LambdaCoreProgMan.html#SEC13"
                  id="TOC13">The System Object Class</a>
            </li>
            <li>
              <a name="TOC14"
                  href="LambdaCoreProgMan.html#SEC14"
                  id="TOC14">The Container Class</a>
            </li>
            <li>
              <a name="TOC15"
                  href="LambdaCoreProgMan.html#SEC15"
                  id="TOC15">The Note Class</a>
            </li>
            <li>
              <a name="TOC16"
                  href="LambdaCoreProgMan.html#SEC16"
                  id="TOC16">The Newspaper Class</a>
            </li>
            <li>
              <a name="TOC17"
                  href="LambdaCoreProgMan.html#SEC17"
                  id="TOC17">The Letter Class</a>
            </li>
            <li>
              <a name="TOC18"
                  href="LambdaCoreProgMan.html#SEC18"
                  id="TOC18">The Generic Programmer Class</a>
            </li>
            <li>
              <a name="TOC19"
                  href="LambdaCoreProgMan.html#SEC19"
                  id="TOC19">The Help Database Class</a>
            </li>
          </ul>
        </li>
        <li>
          <a name="TOC20"
              href="LambdaCoreProgMan.html#SEC20"
              id="TOC20">The LambdaCore Utility Classes</a>
          <ul>
            <li>
              <a name="TOC21"
                  href="LambdaCoreProgMan.html#SEC21"
                  id="TOC21">The String Utilities Class</a>
            </li>
            <li>
              <a name="TOC22"
                  href="LambdaCoreProgMan.html#SEC22"
                  id="TOC22">The Permissions Utils Class</a>
            </li>
            <li>
              <a name="TOC23"
                  href="LambdaCoreProgMan.html#SEC23"
                  id="TOC23">The Code Utils Class</a>
            </li>
            <li>
              <a name="TOC24"
                  href="LambdaCoreProgMan.html#SEC24"
                  id="TOC24">The Command Utilities Class</a>
            </li>
            <li>
              <a name="TOC25"
                  href="LambdaCoreProgMan.html#SEC25"
                  id="TOC25">The List Utilities Class</a>
            </li>
            <li>
              <a name="TOC26"
                  href="LambdaCoreProgMan.html#SEC26"
                  id="TOC26">The Building Utils Class</a>
            </li>
            <li>
              <a name="TOC27"
                  href="LambdaCoreProgMan.html#SEC27"
                  id="TOC27">The Lock Utilities Class</a>
              <ul>
                <li>
                  <a name="TOC28"
                      href="LambdaCoreProgMan.html#SEC28"
                      id="TOC28">Key Representation For Locks</a>
                </li>
              </ul>
            </li>
            <li>
              <a name="TOC29"
                  href="LambdaCoreProgMan.html#SEC29"
                  id="TOC29">Verbs for Manipulating Locks and Keys</a>
            </li>
            <li>
              <a name="TOC30"
                  href="LambdaCoreProgMan.html#SEC30"
                  id="TOC30">The Object Utilities Class</a>
            </li>
            <li>
              <a name="TOC31"
                  href="LambdaCoreProgMan.html#SEC31"
                  id="TOC31">The Matching Utilities</a>
            </li>
            <li>
              <a name="TOC32"
                  href="LambdaCoreProgMan.html#SEC32"
                  id="TOC32">The Trigonometric Utilities</a>
            </li>
            <li>
              <a name="TOC33"
                  href="LambdaCoreProgMan.html#SEC33"
                  id="TOC33">The Time Utilities</a>
            </li>
            <li>
              <a name="TOC34"
                  href="LambdaCoreProgMan.html#SEC34"
                  id="TOC34">The Gender Utilities</a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <a name="TOC35"
          href="LambdaCoreProgMan.html#SEC35"
          id="TOC35">Common Questions - How to do Useful Things</a>
    </li>
    <li>
      <a name="TOC36"
          href="LambdaCoreProgMan.html#SEC36"
          id="TOC36">Verb Index</a>
    </li>
    <li>
      <a name="TOC37"
          href="LambdaCoreProgMan.html#SEC37"
          id="TOC37">Property Index</a>
    </li>
  </ul>
  <hr />
  <p>Copyright (C) 1991 Mike Prudence, Simon Hunt, Floyd Moore, Kelly Larson,
  Al Harrington.</p>
  <p>Copies of the electronic source for this document can be obtained using
  anonymous FTP on the Internet. At the site <code>belch.berkeley.edu</code>
  the files are <code>pub/moo/LambdaMOO/LambdaCoreProgMan.*</code>; several
  different file formats are provided, including Texinfo, plain text, and
  Postscript.</p>
  <p>Permission is granted to make and distribute verbatim copies of this
  manual provided the copyright notice and this permission notice are
  preserved on all copies.</p>
  <p>Permission is granted to copy and distribute modified versions of this
  manual under the conditions for verbatim copying, provided that the entire
  resulting derived work is distributed under the terms of a permission
  notice identical to this one.</p>
  <p>Permission is granted to copy and distribute translations of this manual
  into another language, under the above conditions for modified versions,
  except that this permission notice may be stated in a translation approved
  by the author.</p>
  <h1><a name="SEC1"
     href="LambdaCoreProgMan_toc.html#TOC1"
     id="SEC1">Introduction</a></h1>
  <p>The LambdaCore database provides the facilities needed to make a
  LambdaMOO server useful for Multi User Adventuring. If you compare the
  LambdaMOO server to a piece of computer hardware, then LambdaCore is the
  operating system needed to allow the user to do useful work.</p>
  <p>This document gives a rundown on the elements of the LambdaCore
  database, and provides details of each of the verbs used by the database.
  It also provides source for some of the verbs, to aid understanding and
  provide extra information.</p>
  <p>The user is assumed to have read the two companion manuals to this one,
  <em>The LambdaMOO Programmer's Manual</em> and <em>The LambdaCore User's
  Manual</em>. An understanding of MOO concepts, the MOO language and the
  facilities provided by the LambdaCore database is needed to follow the
  explanations given in this document.</p>
  <h1><a name="SEC2"
     href="LambdaCoreProgMan_toc.html#TOC2"
     id="SEC2">The LambdaCore Classes</a></h1>
  <p>The LambdaCore database provides several basic classes that are used to
  define the virtual world. It is these classes that provide the
  <em>core</em> of any MOO database built on the LambdaCore database. As well
  as defining obvious things like players, rooms and exits, the classes also
  provide all the commands used to interact with the database, and several
  utility functions for use by the MOO programmer writing his or her own
  verbs.</p>
  <p>The LambdaCore classes can be divided into two categories:</p>
  <ul>
    <li>Generics: These are classes containing generic objects, for example
    players, rooms, exits and so on. If a new generic object is created, it
    would be placed in this list.</li>
    <li>Utilities: These are classes containing utility verbs that can be
    used by other verbs. Example include string utilities, trig functions
    etc.</li>
  </ul>
  <p>The sections that follow describe the LambdaCore classes in detail,
  providing insight into what each verb and property is used for, and some
  idea of how they should be used in your own MOO programs.</p>
  <h2><a name="SEC3"
     href="LambdaCoreProgMan_toc.html#TOC3"
     id="SEC3">The LambdaCore Generic Classes</a></h2>
  <p>The following generic classes are available in the LambdaCore
  database:</p>
  <pre>
</pre>
  <dl compact="compact">
    <dt><code>The Root Class ($root_class)</code></dt>
    <dd>This is the basic class from which everything else in the database is
    descended. It defines basic operations and properties on an object.</dd>
    <dt><code>The Generic Room ($room)</code></dt>
    <dd>This class is the parent for all the rooms in the database.</dd>
    <dt><code>The Mail Distribution Center ($mail_room)</code></dt>
    <dd>This is a special class used to define a room for dealing with MOO
    mail. It is a child of the generic <code>Room</code> class.</dd>
    <dt><code>The Generic Mail Recipient</code></dt>
    <dd>To be written.</dd>
    <dt><code>The Generic Editor's Office ($editor)</code></dt>
    <dd>This is a special class used to define a room used for program
    editing. It is a child of the generic <code>Room</code> class.</dd>
    <dt><code>System Object (#0)</code></dt>
    <dd>This is the keystone object for the database. It holds various
    important system properties, as well as pointers to the various other
    classes and objects that are system-wide.</dd>
    <dt><code>The Generic Thing ($thing)</code></dt>
    <dd>This class defines a TinyMUD style object, that is, something that
    can be picked up and put down. It defines various messages related to
    taking and dropping the object.</dd>
    <dt><code>The Generic Container ($container)</code></dt>
    <dd>This is a child class of the <code>Thing</code> class. A container is
    an object that can have other objects placed within it.</dd>
    <dt><code>The Generic Note ($note)</code></dt>
    <dd>A note is a child class of the <code>Thing</code> class. It is used
    to store text messages, which may be encrypted. A note can only be
    recycled by the owner.</dd>
    <dt><code>The Generic Letter ($letter)</code></dt>
    <dd>A letter is a child class of the <code>Note</code> class. It provides
    the same facilities, but also has a <code>burn</code> verb which the
    recipient can use to recycle the letter.</dd>
    <dt><code>The Generic Player ($player)</code></dt>
    <dd>This is the class from which all players are descended.</dd>
    <dt><code>The Generic Programmer ($prog)</code></dt>
    <dd>This is a child of the <code>Player</code> class used for players
    that are MOO programmers. It defines a set of verbs that are useful for
    programming activities.</dd>
    <dt><code>The Generic Wizard ($wiz)</code></dt>
    <dd>This is a child of the <code>generic programmer</code> class, used
    for wizards.</dd>
    <dt><code>The Generic Exit. ($exit)</code></dt>
    <dd>This class defines a generic exit used to link one object of class
    <code>Room</code> to another object of class <code>Room</code>. It
    defines a number of messages that may be generated when an exit is
    used.</dd>
  </dl>
  <pre>
</pre>
  <h3><a name="SEC4"
     href="LambdaCoreProgMan_toc.html#TOC4"
     id="SEC4">The Root Class</a></h3>
  <p>The root class is the base class from which all objects are descended.
  It is the keystone of the database and defines fundamental verbs and
  properties common to every object. If you are a programmer (ie, you have a
  player object with the <em>programmer</em> bit set) you can examine the
  properties and verbs of the root class using the command</p>
  <pre>
@show $root_class
</pre>
  <p>You can examine the code for a verb on the class by using, for example,
  the following command.</p>
  <pre>
@list $root_class:description
</pre>
  <p>This lists the program definition for the verb
  <code>$root_class:description</code>. An interesting point to note is that
  this code can be changed by the owner - in this case the Wizard - to
  provide any functionality desired. This configurability of the basis of the
  whole LambdaCore database allows a large degree of flexibility in the way
  the LambdaMOO server is used. It also allows for very subtle and perplexing
  problems. Care must be taken when editing definitions on any of the
  fundamental classes, the <code>$root_class</code> in particular. However,
  as the base classes of the LambdaCore database have been thoroughly tested
  and debugged, there should be very little need for any changes by the
  average database administrator.</p>
  <p>The following section lists the verb and property definitions for the
  <code>$root_class</code>. For each verb, a description of it's function is
  given, along with any interesting points. The intent is to present each
  verb in such a way that it is possible to grasp the whole picture, rather
  than just looking at the individual brushstrokes.</p>
  <dl>
    <dt><u>Verb:</u> string <b>description</b> <i>()</i></dt>
    <dd>
      <a name="IDX1"
          id="IDX1"></a> The <code>:description</code> verb on any object is
          supposed to return a string or list of strings describing the
          object in the detail someone would notice if they were specifically
          looking at it.
      <p>The default implementation of the "look" command (defined on the
      <code>$room</code> class), prints this description using the
      <code>:look_self</code> verb on the object. <code>:look_self</code>
      uses <code>:description</code> to obtain the text to display.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>describe</b> <i>(<var>value</var>)</i></dt>
    <dd>
      <a name="IDX2"
          id="IDX2"></a> The <code>:describe</code> verb is used to set the
          description property of an object. This is only allowed if we have
          permission, determined using the
          <code>$perm_utils:controls()</code> verb. By overriding this verb
          and the <code>:description</code> verb, it is possible to
          completely change the representation of an object description. This
          is done invisibly to anyone outside the object, as long as you
          adhere to the same interface to <code>:description</code> and
          <code>:describe</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>look_self</b> <i>()</i></dt>
    <dd>
      <a name="IDX3"
          id="IDX3"></a> The <code>:look_self</code> verb on any object is
          used to <code>:tell</code> another object what this object looks
          like, in detail. This verb makes use of the
          <code>:description</code> verb on the object to obtain a string or
          list of strings to print. It would be possible to override this
          verb to produce a special description for an object. However, any
          other verbs that use the <code>:description</code> verb of the
          object will not see the extra information added by the overriding
          function. The <code>$room</code> class overrides this verb with
          code to print the room <code>name</code> and a list of objects that
          are in the room.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>tell</b> <i>(string <var>strings</var>,
    ...)</i></dt>
    <dd>
      <a name="IDX4"
          id="IDX4"></a> This verb is used to send a message from one object
          to another. The <code>$root_class</code> definition of this verb
          tests to see if the object is a player, and if it is, uses the
          <code>notify</code> primitive to print the argument list on the
          player's screen, if they are connected. However, this verb can be
          overridden to allow arbitrary objects to pass messages between each
          other, or to augment the way the message is handled.
      <p>One simple example is that of an object that listens to everything
      that happens in a room. Every verb that needs to send text to players
      uses the <code>:tell</code> verb. If an object has it's own
      <code>:tell</code> verb, it too will be able to act upon the messages
      sent between objects in a room.</p>
      <p>The <code>$player</code> class overrides this verb to filter
      messages in two different ways, as show below:</p>
      <pre>
if (typeof(this.gaglist) != LIST || !(player in this.gaglist))
  if (player != this &amp;&amp; this.paranoid == 1)
    pass("&lt;", player.name, "(", player, ")&gt; ", @args);
  else
    pass(@args);
  endif
endif
</pre>
      <p>Firstly, if the message comes from a player that we don't want to
      listen to - the player has been <em>gagged</em> - then the message is
      thrown away. Secondly, if the player is being <em>paranoid</em>, and
      the message is not from ourselves, it is prefaced with the name of the
      originating object. The <code>pass</code> primitive is used to allow
      the <code>:tell</code> verb of the parent class to send the message
      after it has been modified.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>moveto</b> <i>(obj <var>where</var>)</i></dt>
    <dd>
      <a name="IDX5"
          id="IDX5"></a> This verb is used to change the location of an
          object to be <var>where</var>. The built-in function
          <code>move()</code> is used by this verb. Any error codes generated
          by it are returned by this function. This verb is intended to be
          used by any other verbs that must move an object to another
          location.
      <p>One important point to note is that this uses the
      <code>set_task_perms()</code> primitive to set the task permissions to
      those of the thing that is being moved.</p>
      <p>Again, by overriding the verb definition on an object, it is
      possible to augment or change the way an object is moved. For example,
      you could keep a list of places visited by simply recording the
      <var>where</var> objects in a list every time this function is
      called.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>accept</b> <i>(obj <var>thing</var>)</i></dt>
    <dd>
      <a name="IDX6"
          id="IDX6"></a> This verb is used to control what objects are
          permitted to be placed <em>inside</em> other objects. If this verb
          returns <samp>`0'</samp>, then the object <var>where</var> cannot
          be moved into this object. Conversely, if the verb returns a
          non-zero value, the object is allowed to be placed inside this
          object. The verb is called by the server when it executes a
          <code>move()</code> primitive.
      <p>The <code>$root_class</code> definition returns a zero value. In
      this case, no objects are allowed inside any objects that are children
      of the <code>$root_class</code>. The <code>$room</code> class
      definition provides for a flexible scheme using various different
      criteria, as shown in the following code :</p>
      <pre>
what = args[1];
return this:is_unlocked_for(what) &amp;&amp; 
       (this.free_entry || 
       what.owner == this.owner || 
       (typeof(this.residents) == LIST &amp;&amp; what in this.residents));
</pre>
      <p>Starting at the top of the conditional expression, we see the
      locking condition being checked. If the room lock forbids this object
      to enter the room, then the <code>:accept</code> verb returns zero.</p>
      <p>If this is not the case, then we consider the value of the
      <code>free_entry</code> property. If this is set to a non-zero value,
      then the object is allowed to enter the room.</p>
      <p>If the owner of an object is the owner of a room, the object is
      allowed to enter.</p>
      <p>Finally, if a <code>residents</code> list is defined in the room,
      and the object is in the list, then it is allowed to enter.</p>
      <p>This complex set of conditions shows how an arbitrary set of
      criteria can be applied to the movement of objects into other
      objects.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> obj <b>match</b> <i>(string <var>name</var>)</i></dt>
    <dd>
      <a name="IDX7"
          id="IDX7"></a> This verb is used to find things that are located
          within this object. It tries to match <var>name</var> to something
          in the contents list of this object, using object names and object
          aliases. This verb uses the <code>$string_utils:match()</code> verb
          to do the actual searching. If a match is found, the object that
          matched is returned. If more than one object matches, then
          <code>$ambiguous_match</code> is returned. If no match is found,
          then <code>$failed_match</code> is returned.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>exam*ine</b> <i>()</i></dt>
    <dd>
      <a name="IDX8"
          id="IDX8"></a> This prints out some useful information about the
          object to the player. It is provided as a player command, to allow
          every player to determine basic information about any other objects
          they come across. For example,
      <pre>
&gt;exam #0
The System Object (#0) is owned by Wizard (#2).
Aliases:  The, Known, and Universe
(No description set.)
</pre>
      <p>The idea is to allow every player to discover the owner, full name,
      description and aliases of any object.</p>
      <p>If you control the object, the lock for the object is shown. If the
      object has other objects inside it, then the contents list is printed
      out, too. If the object has verbs defined on it, then these verbs are
      listed, provided they are readable, and have not been hidden by setting
      the argument specifiers to the triplet <samp>`this'</samp>,
      <samp>`none'</samp> <samp>`this'</samp>.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>tell_lines</b> <i>(list
    <var>strings</var>)</i></dt>
    <dd>
      <a name="IDX9"
          id="IDX9"></a> This outputs out the list of strings
          <var>strings</var> to the object, using the <code>tell</code> verb
          for this object. Each string in <var>strings</var> is output on a
          separate line.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>set_name</b> <i>(string
    <var>value</var>)</i></dt>
    <dd>
      <a name="IDX10"
          id="IDX10"></a> This verb sets the name of the object to
          <var>value</var>. It returns `1' if the name was set to the
          <var>value</var> successfully, otherwise it returns `0'. This verb,
          and the <code>:title</code> verb are used to control access to the
          <code>name</code> property of an object.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>is_unlocked_for</b> <i>(obj
    <var>thing</var>)</i></dt>
    <dd>
      <a name="IDX11"
          id="IDX11"></a> Returns `1' if the object is unlocked for the
          argument. If the value of <code>this.key</code> is zero, the object
          is unlocked. If this is not the case. the verb
          <code>$lock_utils:eval_key()</code> is used to determine the
          result.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> string <b>title</b> <i>().</i></dt>
    <dd>
      <a name="IDX12"
          id="IDX12"></a> This verb is used to get the <code>name</code>
          property of this object.
      <p>One example where it might be useful to redefine this verb is if you
      want to add an honorific or descriptive phrase to the end of your name.
      By overriding the <code>:title</code> verb, you can append anything you
      like to the <code>:name</code> property of the object.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>recycle</b> <i>()</i></dt>
    <dd>
      <a name="IDX13"
          id="IDX13"></a> This verb contains no code for the
          <code>$root</code> class. It is called by the
          <code>recycle()</code> primitive just before an object is recycled.
          This is useful to make sure that recycling objects does not leave
          the database in a strange state. For example, the
          <code>$exit</code> class uses the <code>:recycle</code> verb to
          remove the exit from the the <em>entrance</em> and <em>exit</em>
          lists of its destination and source rooms.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> string <b>titlec</b> <i>()</i></dt>
    <dd>
      <a name="IDX14"
          id="IDX14"></a> This verb performs the same function as the
          <code>title</code> verb, but returns a capitalised version of the
          <code>name</code> property of the object, using the
          <code>$string_utils:cap_property</code> verb.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>eject</b> <i>()</i></dt>
    <dd>
      <a name="IDX15"
          id="IDX15"></a> This verb is used to remove something from the
          contents of an object. The owner of an object, or a wizard, can use
          this verb to eject a victim from inside the object. The victim is
          sent to <code>$nothing</code>, for most objects, or to
          <code>$player_start</code> if the victim is a player.
    </dd>
  </dl>
  <p>The root class defines a few basic properties that every object has. The
  verbs discussed above make reference to these properties - as well as the
  built in properties <code>name</code>, <code>owner</code>,
  <code>location</code>, <code>contents</code>, <code>programmer</code>,
  <code>wizard</code>, <code>r</code> and <code>w</code>. The following
  properties are defined for the root class:</p>
  <dl>
    <dt><u>Property:</u> <b>key</b></dt>
    <dd>
      <a name="IDX16"
          id="IDX16"></a> This is used to determine what, if anything, an
          item is locked to.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>aliases</b></dt>
    <dd>
      <a name="IDX17"
          id="IDX17"></a> This gives a list of the alternative names that can
          be used to refer to an object. The value of this property should be
          a list of strings, the various alternatives for naming the object.
          Note that the name of the object in question should be included in
          this list, because the built in name matcher uses only the
          <code>aliases</code> property when searching for matches.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>description</b></dt>
    <dd>
      <a name="IDX18"
          id="IDX18"></a> This is a string or list of strings giving the
          description of the object - what we see when we <code>look</code>
          at the object.
    </dd>
  </dl>
  <h3><a name="SEC5"
     href="LambdaCoreProgMan_toc.html#TOC5"
     id="SEC5">The Room Class</a></h3>
  <p>The <code>Room Class</code> is the basic class from which all the
  <em>rooms</em> in the virtual world are descended. It is one of the very
  basic classes essential to constructing a virtual world; an
  <code>exit</code> is the other essential class.</p>
  <p>A room can be thought of as a container for players and objects. It can
  have a number of exits that connect it to other rooms. These exits are
  directed; they lead <em>from</em> one room <em>to</em> another room. For a
  two way passage to exist, two exits are needed, going in opposite
  directions.</p>
  <p>The room class defines a lot of verbs, which are used to provide an
  interface to the properties of the room.</p>
  <p>One special point is worth noting about rooms and exits. An exit can
  have an arbitrary name - indeed, this is the usual case. In order for the
  room to recognise the exit name, and match it up with an exit that exists
  in the room, some form of <em>catchall</em> mechanism is used. If a player
  types a sentence that the parser cannot match with anything, it executes a
  verb called <code>:huh</code> in the current room, if one exists.</p>
  <p>When this happens, the <code>:huh</code> verb is free to take the
  player's sentence, search for a valid exit, and act accordingly. This
  mechanism provides a very flexible arrangement for dealing with exits, and
  also allows a degree of player help to be added. If a close match to a
  command is found, the <code>huh</code> verb could detect this and provide a
  useful response that would help the player construct the correct
  sentence.</p>
  <p>The following section lists the verbs defined for the <code>$room</code>
  class. Those verbs which are more properly described as player commands are
  detailed in a preceding section.</p>
  <dl>
    <dt><u>Verb:</u> none <b>confunc</b> <i>()</i></dt>
    <dd>
      <a name="IDX19"
          id="IDX19"></a> This verb is called by the LambdaMOO server when a
          player connects in a room. The action coded into the
          <code>$room</code> class simply shows the player what the room
          looks like (using the <code>:look_self</code> verb of the room) and
          tells everyone else in the room that the player has connected.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>disfunc</b> <i>()</i></dt>
    <dd>
      <a name="IDX20"
          id="IDX20"></a> This verb is called by the LambdaMOO server when a
          player disconnects from the game. The <code>$room</code> class
          definition of this verb moves the player home if s/he is not
          already there, using the <code>:moveto</code> verb on the player.
          One possible enhancement of this verb, already implemented in some
          MOOs, is to include a time delay between disconnection and movement
          of the player to his/her home. This would allow some tolerance of
          disconnection due to network problems.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>say</b> <i>(string <var>message</var>)</i></dt>
    <dd>
      <a name="IDX21"
          id="IDX21"></a> This verb provides one of the basic ways in which
          players communicate. The action of the <code>:say</code> verb is
          very simple: it <code>:tell</code>s the player what s/he has just
          said, and tells everyone else what the player said. The text spoken
          is passed to all the objects in a room, not just the players,
          through the <code>:tell</code> verbs on the objects in the room.
      <p>By overriding this verb, it is possible to provide all sorts of
      effects that work on everything said in the room. For example, you
      could redirect messages to other rooms, or repeat messages to provide
      cavernous echoes.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>emote</b> <i>(string
    <var>message</var>)</i></dt>
    <dd>
      <a name="IDX22"
          id="IDX22"></a> This verb is used for the <em>pose</em> type of
          interaction with other players. It functions in a similar way to
          the <code>:say</code> verb, but instead places the player's name at
          the front of the text. The actual output is done in two stages. The
          <code>:emote</code> verb is responsible for telling the player the
          action s/he has just performed. The <code>emote1</code> verb is
          then called to tell the other objects in the room of the
          <code>pose</code> action. This provides a two stage mechanism;
          either or both of the verbs can be overridden to provide special
          effects.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>emote1</b> <i>(string
    <var>message</var>)</i></dt>
    <dd>
      <a name="IDX23"
          id="IDX23"></a> This verb is invoked by the <code>emote</code> verb
          to send the <em>emote</em> text to the other objectss in the room.
          By overriding this verb, it is possible to create special effects
          for <code>emote</code> actions that are only seen by the other
          people in a room. <code>:emote1</code> uses
          <code>$room:announce</code> to send it's message.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>announce</b> <i>(string
    <var>message</var>)</i></dt>
    <dd>
      <a name="IDX24"
          id="IDX24"></a> This verb is a general purpose verb used to send a
          message to every object in the room except the player that invoked
          it. This is intended to be the way other verbs pass messages to
          objects in a room. For example, when an exit is activated, it uses
          <code>:announce</code> to inform the other players in the room of
          what has happened.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>announce_all_but</b> <i>(list
    <var>@args</var>)</i></dt>
    <dd>
      <a name="IDX25"
          id="IDX25"></a> This general purpose verb is used to send a message
          to everyone in the room <em>except</em> a particular object. This
          can be used in situations where we wish to present one view to the
          world in general, and another view to a particular object, normally
          a player. Another common usage is to prevent robots that trigger
          actions based on a redefined <code>:tell()</code> verb on
          themselves from recursing, using something like
      <pre>
place:announce_all_but(this, "message");
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>huh</b> <i>(string <var>sentence</var>)</i></dt>
    <dd>
      <a name="IDX26"
          id="IDX26"></a> This verb is a stub used to call the
          <code>huh2</code> verb. It is called by the LambdaMOO server when
          it can't match a sentence given to it by a player. The server calls
          <code>:huh</code> with <code>verb</code> equal to the actual verb
          in the erroneous command line. This means it is not possible to use
          <code>pass()</code> if you override <code>:huh</code> in a room; it
          would pass control up to a verb on the parent named
          <code>verb</code>, i.e., whatever the verb was on the command line.
          This, by definition, doesn't exist. To get around this, and allow
          you to use <code>pass()</code> to get the default <code>:huh</code>
          behaviour, <code>:huh</code> calls <code>:huh2</code>. You should
          override <code>:huh2</code> if you wish to be able to use
          <code>pass()</code> to get the default <code>:huh</code> behaviour.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> obj <b>match_exit</b> <i>(string
    <var>exit</var>)</i></dt>
    <dd>
      <a name="IDX27"
          id="IDX27"></a> This verb is used to determine if <var>exit</var>
          is the name of an exit leading out of the room. It performs a
          simple string match on the names and aliases of the objects in the
          <code>exits</code> list stored as a property of the room. The
          intent here is to allow for more sophisticated matching algorithms
          to be implemented. One might even go so far as implementing a fuzzy
          matching scheme, to allow for player misspellings. If a successful
          match is made, this signifies that an exit with the name
          <var>exit</var> leads from this room. It's object number is
          returned. If more than one match is found the value
          <code>$ambiguous_match</code> is returned. If no match is found,
          the value <code>$failed_match</code> is returned.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>add_exit</b> <i>(obj <var>exit</var>)</i></dt>
    <dd>
      <a name="IDX28"
          id="IDX28"></a> This verb is used to add <var>exit</var> to the
          list of exits leading out of the room. This verb, and the
          <code>:match_exit</code> verb provide the interface to the room
          exits list. The way in which exits are stored, removed and matched
          has been separated from the interface so that different
          implementations of the <em>exits</em> concept can be used in
          different sub classes of the <code>$room</code> class.
      <p>If it is not possible to add <var>exit</var> to the room's exit list
      (normally because the object that invoked the verb does not have the
      required permission) then the verb returns `0'. Otherwise, a successful
      addition returns `1'.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>tell_contents</b> <i>()</i></dt>
    <dd>
      <a name="IDX29"
          id="IDX29"></a> This verb tells us what things are visible in the
          room. It goes through the <code>contents</code> list of the room,
          and if it is not dark, prints the name of the object in a nicely
          formatted way. Three different formats are available depending on
          the value of the <code>ctype</code> property of the room. These are
          best illustrated by example.
      <p>Consider the a room in the LambdaCore database. With a
      <code>ctype</code> value of three (the default), the
      <code>tell_contents</code> verb produces the following output:</p>
      <pre>
You see a newspaper and a fruitbat zapper here.
Wizard is here.
</pre>
      <p>This format provides the separation of player objects from other
      objects, and provides the list in a way that fits in with the idea of a
      virtual reality. It is easy to read, and looks natural.</p>
      <p>If the <code>ctype</code> value is changed to 2, the following is
      printed:</p>
      <pre>
You see Wizard, a newspaper, and a fruitbat zapper here.
</pre>
      <p>This format treats players and objects the same, and is useful if
      you wish to hide the fact that an object is not a player, or vice
      versa.</p>
      <p>With a <code>ctype</code> value of one, the following is seen:</p>
      <pre>
Wizard is here.
You see a newspaper here.
You see a fruitbat zapper here.
</pre>
      <p>This format provides the advantage of having each item on a separate
      line, although it does mean that rooms with a large number of objects
      in might have excessively long contents lists.</p>
      <p>Finally, with a <code>ctype</code> of zero, the following is
      seen:</p>
      <pre>
Contents:
  Wizard
  a newspaper
  a fruitbat zapper
</pre>
      <p>This is the sort of listing obtained in traditional TinyMU* games.
      It benefits from clarity, but is not as natural as any of the other
      forms.</p>
      <p>If a value of <code>ctype</code> is set that is outside of the range
      zero thru three, then no contents list is printed. This can be useful
      if you want to handle the room contents listing as part of the
      description of the room. Also, if the <code>dark</code> property of a
      room is set to a non-zero value, then no contents list is printed.</p>
      <p>As usual, this verb can be overridden to provide special effects.
      For example, you could apply a filter so that certain objects do not
      appear in the printed contents of a room, even if they appear in the
      contents list. This can be use to hide objects, for example, as part of
      a puzzle, or to vary how objects are seen, for example if you are
      looking through water at something.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> obj <b>match_object</b> <i>(string
    <var>name</var>)</i></dt>
    <dd>
      <a name="IDX30"
          id="IDX30"></a> This is the verb used to search the player's locale
          for an object that has the name or pseudonym <var>name</var>. This
          verb handles mapping of <code>me</code> to the player object,
          <code>here</code> to the player's location as well as the use of
          <code>#&lt;number&gt;</code> to refer to a particular object. If
          none of these cases match, the verb searches the room contents and
          the players contents (or possessions) for a match. If a match is
          found, then the unique object number is returned. If
          <var>name</var> matches more than one object, then
          <code>$ambiguous_match</code> is returned. If no match is found,
          then <code>$failed_match</code> is returned.
      <p>The verb <code>:match_object</code> is the one to use to map names
      of objects to object numbers, when referring to objects that the player
      is able to <em>see</em> in his current location. This includes objects
      that the player might be carrying, but does not include objects that
      are <em>contained</em> in other objects.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@exits</b> <i>()</i></dt>
    <dd>
      <a name="IDX31"
          id="IDX31"></a> This verb is a player command used to print a list
          of the exits in a room. It can only be used by the owner of the
          room. The verb simply runs through the list of defined exits,
          stored in the property <code>exits</code>, and prints the exit
          name, object reference number, destination name, and exit aliases.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>look_self</b> <i>()</i></dt>
    <dd>
      <a name="IDX32"
          id="IDX32"></a> This verb overrides the <code>$root_class</code>
          definition of the verb <code>:look_self</code> in order to provide
          a fuller description of a room than the <code>description</code>
          property gives. This verb prints the room name, followed by the
          room's <code>description</code> property, and then the list of
          contents of the room, using the room's <code>:tell_contents</code>
          verb. This is what the player would see if he was looking at the
          room.
      <p>The <code>description</code> property of the room is actually
      printed by using the <code>pass()</code> primitive to invoke the parent
      verb <code>:look_self</code>). Changes in the way an object's
      description is stored by the root class are invisible to this verb,
      because of the way <code>pass</code> is used.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>accept</b> <i>(object <var>thing</var>)</i></dt>
    <dd>
      <a name="IDX33"
          id="IDX33"></a> This verb overrides the <code>$root_class</code>
          definition. The <code>$room_class</code> definition provides for a
          flexible scheme using various different criteria. The idea is to
          allow the builder flexibility in preventing objects from moving
          into the room. The following code shows how the
          <code>$room:accept</code> verb decides whether to allow
          <var>thing</var> to enter the room or not.
      <pre>
what = args[1];
return this:is_unlocked_for(what) &amp;&amp; 
       (this.free_entry || 
       (what==this.blessed_object&amp;&amp;task_id()==this.blessed_task) ||
       what.owner == this.owner || 
       (typeof(this.residents) == LIST &amp;&amp; what in this.residents));
</pre>
      <p>Starting at the top of the conditional expression, we see the
      locking condition being checked. If the room lock forbids this object
      to enter the room, then the <code>:accept</code> verb returns zero.</p>
      <p>If this is not the case, then we consider the value of the
      <code>free_entry</code> property. If this is set to a non-zero value,
      then the object is allowed to enter the room. This is used to provide
      public places, where anything and everything is allowed to enter. The
      default value of this property is <code>1</code>.</p>
      <p>If the object has been <em>blessed</em> for entry into this room,
      and the task that is moving the object is the same as the task that
      requested the blessing, then the object is allowed to enter. Refer to
      the <code>:bless_for_entry</code> verb for further details on the
      concept of blessed objects.</p>
      <p>If the owner of an object is the owner of a room, the object is
      allowed to enter. This is a general rule used as a catch-all case. It
      can be overridden by specifically locking against an object, but as a
      rule, it is desirable for objects owned by the room owner to be allowed
      to enter.</p>
      <p>Finally, if a <code>residents</code> list is defined in the room,
      and the object is in the list, then it is allowed to enter. This
      concept can be used to define a set of objects that are allowed to
      enter the room without specifying a long and complex locking
      condition.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>add_entrance</b> <i>(obj
    <var>entrance</var>)</i></dt>
    <dd>
      <a name="IDX34"
          id="IDX34"></a> This verb functions similarly to the
          <code>:add_exit</code> verb, but applies to <code>$exit</code>
          objects that lead <em>into</em> the room. If we imagine an
          <code>$exit</code> object as a flexible tube connecting two rooms,
          then the concept of specifying both ends of the tube seems natural.
          It is not usual to search the entrance list for a match, as you
          would with the exit list, but the concept of an entrance is
          included to cover unexpected cases.
      <p>If it is not possible to add <var>entrance</var> to the room's
      entrance list (normally because the object that invoked the verb does
      not have the required permission) then the verb returns
      <samp>`0'</samp>. Otherwise, a successful addition returns
      <samp>`1'</samp>.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>bless_for_entry</b> <i>(obj
    <var>thing</var>)</i></dt>
    <dd>
      <a name="IDX35"
          id="IDX35"></a> This verb is called by an exit to allow an object
          special permission to enter a room. Two properties on the room
          store <var>thing</var> and the <code>task_id</code> of the calling
          task. The idea behind <em>blessed</em> objects is to allow an
          object temporary permission to enter. The permission is only
          granted if the request is made by an object that is an entrance
          into the room.
      <p>The idea here is that a normally inaccessible room can be entered
      providing you use an exit that leads into the room. In addition, the
      task ID of the task that asked for the <em>blessing</em> is stored, so
      that there is no way an object can become blessed, and then later gain
      entry to the room. The object being blessed is only allowed to enter
      once per blessing. Once the object has moved into the room, it's
      <em>blessed</em> status is removed by resetting the
      <code>blessed_object</code> property in the room to
      <code>$nothing</code>.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@entrances</b></dt>
    <dd>
      <a name="IDX36"
          id="IDX36"></a> This verb is a player command used to list the
          entrances to the player's current location. Only the owner of a
          room may list it's entrances. For every object kept in the room's
          <code>entrances</code> list, the exit name, object reference number
          and aliases are displayed to the player.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>go</b> <i>(list <var>args</var>)</i></dt>
    <dd>
      <a name="IDX37"
          id="IDX37"></a> The verb is a player command used to move from one
          room to another. One special feature of this command is that it
          allows the player to string together a number of different movement
          commands into one use of the <samp>`go'</samp> command. This can
          save typing when we know where we want to go. The code for this
          verb is shown below:
      <pre>
for dir in (args)
  exit = player.location:match_exit(dir);
  if (exit &lt; #0)
    player:tell("Go where?");
  else
    exit:invoke();
  endif
endfor
</pre>
      <p>This simply moves through the list of exits given in
      <var>args</var>, matching the exit name in the current room, and
      invoking the exit if a valid match is found.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>look</b> <i>()</i></dt>
    <dd>
      <a name="IDX38"
          id="IDX38"></a> This verb is a player command used to look at
          various things in the player's current location. It can be used
          meaningfully in other verbs, however, if the verb is called with no
          arguments. In this case, it calls the <code>:look_self</code> on
          the room which the verb was invoked on. You could use this verb to
          print the description of a room you are not in, but it is
          stylistically better to use the <code>:look_self()</code> verb of
          the room.
      <p>If a preposition is supplied, via this verb being invoked as a
      command, and the preposition is not <samp>`on'</samp> or
      <samp>`in'</samp>, then the verb attempts to match the direct object
      with something in the room. If the match succeeds, the
      <code>:look_self</code> verb of the matched object is called to tell
      the player what the object looks like.</p>
      <p>If the preposition is <samp>`on'</samp> or <samp>`in'</samp>, then
      the player wishes to look inside a container of some sort, be it a
      member of the <code>$container</code> class, or in a player's
      inventory, for example. An attempt is made to match the indirect object
      with something in the room. If it succeeds, then an attempt is made to
      match the direct object with something inside the container previously
      matched. If this final match is made, the <code>:look_self</code> verb
      of the matched object is invoked to print it's description.</p>
      <p>If the direct object is the empty string, <samp>`""'</samp>, then
      the container's <code>:look_self</code> verb is called to print it's
      description.</p>
      <p>Any ambiguous or failed matches produce suitable error messages.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>announce_all</b> <i>(list
    <var>@args</var>)</i></dt>
    <dd>
      <a name="IDX39"
          id="IDX39"></a> This verb is another general purpose verb used to
          send a message to every object in the room. It is used for messages
          that we wish everyone to see, with no exceptions.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>enterfunc</b> <i>(obj <var>thing</var>)</i></dt>
    <dd>
      <a name="IDX40"
          id="IDX40"></a> This verb is invoked by the LambdaMOO server when
          an object moves into a room, as part of action of the
          <code>move</code> primitive. The actions taken for a room are very
          straightforward. If <var>thing</var> is a player object, then we
          tell the player where s/he has moved into using the
          <code>$room:look_self</code> verb on the room. If the object is the
          <em>blessed_object</em> for this room, then the
          <code>blessed_object</code> property for the room is reset to
          <code>$nothing</code>. For further details on <em>blessed
          objects</em>, refer to the description of
          <code>$room:bless_for_entry</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>exitfunc</b> <i>(obj <var>thing</var>)</i></dt>
    <dd>
      <a name="IDX41"
          id="IDX41"></a> This verb is invoked by the LambdaMOO server when
          an object is moved out of a room, as part of the action of the
          <code>move</code> primitive. The action defined for the
          <code>$room</code> class is to do nothing.
      <p>This verb, and the <code>:enterfunc</code> verb, can be used for a
      variety of effects that need to take note of objects moving in and out
      of rooms. For example, consider a <em>torch</em> object that casts
      light on it's surroundings. When the torch is moved out of a room, the
      light that is casts moves with it. This can be tackled using the room's
      <code>exitfunc</code>, which could check if the object leaving is a
      torch, and if it is, the room could become dark. Similarly, when the
      torch enters a room, the <code>enterfunc</code> can be used to detect
      this, and brighten the room accordingly.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>remove_exit</b> <i>(obj <var>exit</var>)</i></dt>
    <dd>
      <a name="IDX42"
          id="IDX42"></a> This verb performs the opposite function to the
          <code>:add_exit</code> verb. It removes <var>exit</var> from the
          room's list of exits. If it is not possible to remove
          <var>exit</var> from the room's exit list (normally because the
          object that invoked the verb does not have the required permission)
          then the verb returns <samp>`0'</samp>. Otherwise, a successful
          addition returns <samp>`1'</samp>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>remove_entrance</b> <i>(obj
    <var>entrance</var>)</i></dt>
    <dd>
      <a name="IDX43"
          id="IDX43"></a> This verb performs the opposite function to the
          <code>:add_entrance</code> verb. It removes <var>entrance</var>
          from the room's list of entrances. If it is not possible to remove
          <var>entrance</var> from the room's entrance list (normally because
          the object that invoked the verb does not have the required
          permission) then the verb returns <samp>`0'</samp>. Otherwise, a
          successful addition returns <samp>`1'</samp>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@add-exit</b></dt>
    <dd>
      <a name="IDX44"
          id="IDX44"></a> This is a player command used to add an exit to the
          current room. This is normally used when someone else has created
          an exit they want to lead out of a room you own. The verb matches
          the direct object string with an object in the room to get the
          object reference number for the exit. If the object found is not a
          descendant of the <code>$exit</code> object, the verb is aborted
          with an error.
      <p>Otherwise, if the destination of the exit is readable and leads to a
      valid room, an attempt is made to add the exit using the room's
      <code>:add_exit</code> verb. If this fails, a suitable error message is
      sent to the user.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@add-entrance</b></dt>
    <dd>
      <a name="IDX45"
          id="IDX45"></a> This is a player command used to add an entrance to
          the current room. This follows much the same sequence as for the
          <samp>`@add-exit'</samp>. An attempt is made to match the direct
          object supplied with an object in the room. If this fails, the verb
          is aborted with a suitable error message.
      <p>Otherwise, if the object found is a descendant of the
      <code>$exit</code> class, then the exit is checked to make sure it goes
      to this room. If this is the case, then the exit is added as an
      entrance using the room's <code>:add-entrance</code> verb.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>recycle</b> <i>()</i></dt>
    <dd>
      <a name="IDX46"
          id="IDX46"></a> This verb is called by the LambdaMOO server when a
          room is recycled. When a room is recycled, something has to be done
          with the room's contents, both players and objects, to stop them
          ending up in <code>$nothing</code>. This is done by trying to move
          everything <em>home</em>. The code to do this is shown below:
      <pre>
for x in (this.contents)
  if (is_player(x))
    if (typeof(x.home) == OBJ &amp;&amp; valid(x.home))
      x:moveto(x.home);
    endif
    if (x.location == this)
      move(x, $player_start);
    endif
  elseif (valid(x.owner))
    x:moveto(x.owner);
  endif
endfor
</pre>
      <p>The main loop goes through the complete contents list of the room.
      If the object is a player, then it is moved home, using it's
      <code>:moveto</code> verb, or to the <code>$player_start</code> room,
      using the <code>move()</code> primitive. All other objects are moved to
      the inventories of their owners.</p>
      <p>Note that if the attempt to move an object fails, then no action is
      taken. The server will place all objects still in the room into
      <code>$nothing</code> when the room is recycled.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@lastlog</b> <i>()</i></dt>
    <dd>
      <a name="IDX47"
          id="IDX47"></a>
    </dd>
    <dt><u>Commabd:</u> none <b>@lastlog</b> <i>(<var>player</var>)</i></dt>
    <dd>
      <a name="IDX48"
          id="IDX48"></a> This verb is a player command used to list the
          times that players last connected to the MOO. If <var>player</var>
          is supplied, by invoking the verb as a command, only the last
          connect time for that player is shown.
      <p>If no argument is supplied, the verb uses the <code>players()</code>
      primitive to return a list of all players in the database. It then
      looks at each players <code>last_connect_time</code> property, and
      places a particular list, depending on whether the player conncted
      within the last day, week or month or longer.</p>
      <p>When all players have been placed in one or other of the lists, they
      are printed out, along with the exact connect time as found in the
      player's <code>last_connect_time</code> property.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>n*orth/e*east/w*west/s*south</b> <i>()</i></dt>
    <dd>
      <a name="IDX49"
          id="IDX49"></a>
    </dd>
    <dt><u>Verb:</u> none <b>northwest/northeast/southwest/southeast</b>
    <i>()</i></dt>
    <dd>
      <a name="IDX50"
          id="IDX50"></a>
    </dd>
    <dt><u>Verb:</u> none <b>up/down</b> <i>()</i></dt>
    <dd>
      <a name="IDX51"
          id="IDX51"></a> In general, when a player wants to move out of a
          room using an exit, the recognition of the exit name is done by the
          <code>:huh</code> and <code>:huh2</code> verbs for the room.
          However, to cope with the most common cases, verbs are defined for
          each of the compass directions and <code>up</code> and
          <code>down</code>. The code for these verbs is the same, and is
          shown below as an example:
      <pre>
exit = this:match_exit(verb);
if (valid(exit))
  exit:invoke();
elseif (exit == $failed_match)
  player:tell("You can't go that way.");
else
  player:tell("I don't know which '", verb, "' you mean.");
endif
</pre>
      <p>What this does is check to see if the exit is defined for the room.
      If it is, then the exit is <code>:invoke</code>d. If not, a suitable
      message is sent to the player.</p>
      <p>This case is included simply to speed up processing for certain
      common cases.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>explain_syntax</b> <i>(string
    <code>verb</code>)</i></dt>
    <dd>
      <a name="IDX52"
          id="IDX52"></a> This verb is used to provide helpful information to
          the player should s/he fail to enter a command correctly. It is
          called by the <code>:huh2</code> verb as a last resort to process
          the player command. The verb follows the parser's search path for
          verbs looking for a match with <var>verb</var>. If one is found,
          this means that the parser rejected the match because the
          argument's did not match.
      <p>Having established this, <code>:explain_syntax</code> compares the
      user input to the verb argument definition, and prints some explanatory
      text to try and help the player enter a correct command. This verb
      usually catches mistakes such as entering the wrong preposition, or
      forgetting to use an indirect object. It is provided as part of the
      <code>$room</code> class to allow other room subclasses to provide more
      specific help for certain verbs defined in their rooms, if the user
      should make an error trying to use one of them.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>huh2</b> <i>(list <var>args</var>)</i></dt>
    <dd>
      <a name="IDX53"
          id="IDX53"></a> This verb is called by the <code>huh</code> verb to
          handle commands that the parser couldn't sensibly pass to another
          object. In the case of a room, the verb covers a number of
          different possibilities. First, the sentence is checked to see if
          it matches any of the exits that lead out of the room. This is done
          using the <code>match_exit</code> verb. If a matching exit is found
          then the <code>:invoke</code> verb for the exit is called, which
          causes it to be activated. This provides for a flexible approach to
          handling exits.
      <p>If this does not produce a sensible match, then the verb is treated
      in one of two ways. If it starts with an `at' (@) character, then we
      attempt to match the remainder of the verb in the sentence with a
      message field on the direct object. A message field is a property whose
      name ends in <code>"_msg"</code>. If a match is found, then this is
      treated as a field setting command. This approach is used to avoid
      having to define a verb for every message field that can exist on an
      object. It also allows players to add extra message fields to objects
      simply by ending the name of the property with <code>"_msg"</code>. For
      example, if you define a message on an object called
      <code>foobar_msg</code> then you can set the message with the
      command</p>
      <pre>
@foobar &lt;object&gt; is &lt;message text&gt;
</pre>
      <p>If the verb does not start with an `at' (@) character, then we call
      the <code>:explain_syntax</code> verb. This tries to match the verb
      with a verb defined on the player, room, direct object (if any) and
      indirect object (if any). If a match is found, the syntax of the verb
      (ie, number and type of arguments and prepositions) is checked, and a
      useful message sent to the player.</p>
      <p>This approach is taken to provide flexibility. By not placing this
      sort of code within the server, the LambdaMOO administrator has the
      choice of changing the way erroneous commands are handled. One
      application could be an augmentation of the basic <code>huh</code>
      action to log failed commands in a list somewhere. This mechanism, long
      used in other MUDs, can provide a builder with an idea of what other
      players have tried (and failed) to do in his or her areas.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@eject</b> <i><var>object</var></i></dt>
    <dd>
      <a name="IDX54"
          id="IDX54"></a> This verb is a player command used to remove
          unwanted objects from places that you own. It can be used to remove
          objects, which are sent to <code>$nothing</code> and players, which
          are sent to <code>$player_start</code>.
      <p>The verb first matches the supplied <var>object</var> with something
      in the room. If a match is found, and the player controls the current
      room, then the ejection messages are printed, and the victim's
      <code>:eject</code> verb is invoked to actually remove the object.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> string <b>ejection_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX55"
          id="IDX55"></a>
    </dd>
    <dt><u>Verb:</u> string <b>oejection_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX56"
          id="IDX56"></a>
    </dd>
    <dt><u>Verb:</u> string <b>victim_ejection_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX57"
          id="IDX57"></a> These three verbs return the messages used by the
          <code>@eject</code> mechanism. The code for the verb is shown
          below, as it illustrates how to deal with multiple messages with a
          single verb:
      <pre>
set_task_perms(caller_perms());
return $string_utils:pronoun_sub(this.(verb));
</pre>
      <p>Note the permission setting at the start of the verb. This is
      necessary because the verb is owned by the Wizard, and hence would have
      permission to read the ejection messages on any object. By restricting
      the permissions of the verb to those of the verb that called it, this
      verb restricts who may access the ejection messages on objects.</p>
    </dd>
  </dl>
  <p>The following properties are defined for the <code>$room</code>
  class:</p>
  <dl>
    <dt><u>Property:</u> <b>victim_ejection_msg</b></dt>
    <dd>
      <a name="IDX58"
          id="IDX58"></a> This is a string containing the message sent to
          objects that are ejected from a room by the owner. It is sent to
          the victim by the room's <code>:@eject</code> verb.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>ejection_msg</b></dt>
    <dd>
      <a name="IDX59"
          id="IDX59"></a> This is a string containing the message sent to the
          owner when they eject an object from the room. It is printed by the
          room's <code>:@eject</code> verb.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>oejection_msg</b></dt>
    <dd>
      <a name="IDX60"
          id="IDX60"></a> This is a string containing the message sent to
          everyone else in a room when the owner ejects an object. It is
          printed by the room's <code>:@eject</code> verb.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>residents</b></dt>
    <dd>
      <a name="IDX61"
          id="IDX61"></a> This is a simple list of objects that have their
          homes in this room. It is examined by the <code>:accept</code> verb
          on the <code>$room</code> class as one of the criteria used to
          determine whether an object is allowed to enter the room or not.
          The <code>@sethome</code> verb could be enhanced to include players
          as residents when their home is set to be a particular room.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>free_entry</b></dt>
    <dd>
      <a name="IDX62"
          id="IDX62"></a> If this is set to a non-zero value, then the room
          is considered <em>public</em> and any object is allowed to move in
          to the room. Setting the value to zero will stop objects that do
          not meet any of the other acceptance criteria from entering. Refer
          to the <code>$room:accept</code> verb for further details on these
          criteria.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>entrances</b></dt>
    <dd>
      <a name="IDX63"
          id="IDX63"></a> This is a simple list of the exits that lead
          <em>into</em> this room. It is manipulated by the
          <code>$room:add_entrance</code> and
          <code>$room:remove_entrance</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>blessed_object</b></dt>
    <dd>
      <a name="IDX64"
          id="IDX64"></a> This contains the object number of the object that
          has been <em>blessed</em> for entry into this room.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>blessed_task</b></dt>
    <dd>
      <a name="IDX65"
          id="IDX65"></a> This contains the task ID of the task that
          requested an object be <em>blessed</em> for entry into the room.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>exits</b></dt>
    <dd>
      <a name="IDX66"
          id="IDX66"></a> This is a simple list of the exit objects that lead
          out of this room. It is manipulated by the
          <code>$room:add_exit</code>, <code>$room:remove_exit</code> and
          <code>$room:match_exit</code> verbs.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>dark</b></dt>
    <dd>
      <a name="IDX67"
          id="IDX67"></a> If set to a non-zero value, then this property
          inhibits display of the contents of a room when the
          <code>$room:look_self</code> verb is invoked. It can be used, for
          example, in rooms where a large number of objects are likely to be
          located, that you do not wish to see (for instance, a
          <em>limbo</em> type room, where sleeping players and lost objects
          reside.). If the <code>dark</code> is set to zero, then the
          contents of a room are displayed when <code>$room:look_self</code>
          is invoked.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>ctype</b></dt>
    <dd>
      <a name="IDX68"
          id="IDX68"></a> This property determines the format of the room
          contents list, as printed by the verb <code>$room:look_self</code>.
          It can take a value between `0' and `3'. An example for each of the
          contents formats is given below.
      <pre>
</pre>
      <dl compact="compact">
        <dt><code>0: Traditional TinyMU* format.</code></dt>
        <dd>Contents: Wizard a newspaper a fruitbat zapper</dd>
        <dt><code>1: Enhanced TinyMU* format.</code></dt>
        <dd>Wizard is here. You see a newspaper here. You see a fruitbat
        zapper here.</dd>
        <dt><code>2: "All-in-one" format.</code></dt>
        <dd>You see Wizard, a newspaper, and a fruitbat zapper here.</dd>
        <dt><code>3: The default, objects and player descriptive
        format.</code></dt>
        <dd>You see a newspaper and a fruitbat zapper here. Wizard is
        here.</dd>
      </dl>
      <pre>
</pre>
    </dd>
  </dl>
  <h3><a name="SEC6"
     href="LambdaCoreProgMan_toc.html#TOC6"
     id="SEC6">The Thing Class</a></h3>
  <p>The <code>$thing</code> defines verbs and properties for objects that
  exist in the virtual world. This class includes everything that is not a
  player, room or exit. For example, the classes <code>$container</code> and
  <code>$note</code> are descended from the <code>$thing</code> class. The
  two basic operations that can be performed on a thing are <em>picking it
  up</em> and <em>putting it down</em>. Two verbs are defined for the
  <code>$thing</code> class to implement this idea. Configurable messages are
  used, so that someone using an object of this class can set the text
  printed when an attempt is made to take an object. No messages are
  available for the case of dropping an object.</p>
  <dl>
    <dt><u>Verb:</u> none <b>g*et</b> <i>()</i></dt>
    <dd>
      <a name="IDX69"
          id="IDX69"></a>
    </dd>
    <dt><u>Verb:</u> none <b>t*ake</b> <i>()</i></dt>
    <dd>
      <a name="IDX70"
          id="IDX70"></a> One or the other of these verbs is invoked when a
          player tries to take possession of an object i.e., pick it up. The
          code involved is fairly straightforward. It checks to see if the
          player already has the object, and prints a suitable message if
          this is the case. If not, then the <code>:moveto</code> verb on the
          object is invoked. If this results in the object moving into the
          player's inventory, then the <code>take_succeeded</code> messages
          defined on the object are printed. If the <code>:moveto</code>
          failed, then the <code>take_failed</code> messages for the object
          are printed.
      <p>This scheme allows you to add extra conditions to restrict whether a
      player can take an object or not. For example, you may place a notion
      of <em>strength</em> onto a player, and add <em>weight</em> to objects.
      If an object is too heavy for a player to lift, then the object cannot
      be taken by the player. This sort of condition should be added to the
      <code>:take</code> verb for the object.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>d*rop</b> <i>()</i></dt>
    <dd>
      <a name="IDX71"
          id="IDX71"></a>
    </dd>
    <dt><u>Verb:</u> none <b>th*row</b> <i>()</i></dt>
    <dd>
      <a name="IDX72"
          id="IDX72"></a> One or the other of these verbs is invoked when a
          player tries to place an object in the room s/he is currently
          located, i.e., when the player tries to drop the object. Again, the
          code is fairly straightforward. If the object is not located on the
          player, then a suitable message is sent to the player telling
          him/her to check his/her pockets. If the player does possess the
          object, and the current location <code>:accept</code> verb
          indicates that the room will allow the object to be dropped, the
          object <code>:moveto</code> verb is invoked to move the object from
          the player's inventory to the contents list of the player's
          location. Suitable messages are printed to inform the player that
          the action succeeded, and to tell other people in the room that the
          object has just been dropped.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>moveto</b> <i>(obj <var>where</var>)</i></dt>
    <dd>
      <a name="IDX73"
          id="IDX73"></a> This verb should be used to move an
          <code>$thing</code> object from one location to another. It checks
          to see that <var>where</var> is a valid object, and that the lock
          on <var>wher</var> permits the object to enter. If this is the
          case, then the <code>$root_class:moveto</code> verb is invoked to
          actually move the object, using
          <code>pass(<var>where</var>)</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> string <b>take_failed_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX74"
          id="IDX74"></a>
    </dd>
    <dt><u>Verb:</u> string <b>take_succeeded_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX75"
          id="IDX75"></a>
    </dd>
    <dt><u>Verb:</u> string <b>otake_failed_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX76"
          id="IDX76"></a>
    </dd>
    <dt><u>Verb:</u> string <b>otake_succeeded_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX77"
          id="IDX77"></a>
    </dd>
    <dt><u>Verb:</u> string <b>drop_failed_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX78"
          id="IDX78"></a>
    </dd>
    <dt><u>Verb:</u> string <b>drop_succeeded_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX79"
          id="IDX79"></a>
    </dd>
    <dt><u>Verb:</u> string <b>odrop_failed_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX80"
          id="IDX80"></a>
    </dd>
    <dt><u>Verb:</u> string <b>odrop_succeeded_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX81"
          id="IDX81"></a> These eight verbs are used to access the message
          fields used by a <code>$thing</code> object. In each case, the
          value returned by the verb is a a version of the corresponding
          <code>"_msg"</code> property of the object, with standard pronoun
          substitutions performed. This allows the messages to be more
          flexible than simple constant text strings. If extra complexity
          were to be added to the messages, then these verbs should be
          overridden.
      <p>The default values of these strings are shown below:</p>
      <pre>
</pre>
      <dl compact="compact">
        <dt><code>drop_failed_msg</code></dt>
        <dd>"You can't seem to drop %t here."</dd>
        <dt><code>drop_succeeded_msg</code></dt>
        <dd>"You drop %t."</dd>
        <dt><code>odrop_failed_msg</code></dt>
        <dd>"tries to drop %t but fails!"</dd>
        <dt><code>odrop_succeeded_msg</code></dt>
        <dd>"drops %t."</dd>
        <dt><code>otake_succeeded_msg</code></dt>
        <dd>"picks up %t."</dd>
        <dt><code>otake_failed_msg</code></dt>
        <dd>""</dd>
        <dt><code>take_succeeded_msg</code></dt>
        <dd>"You take %t."</dd>
        <dt><code>take_failed_msg</code></dt>
        <dd>"You can't pick that up."</dd>
      </dl>
      <pre>
</pre>
    </dd>
  </dl>
  <p>The following properties are defined for the <code>$thing</code> class.
  They are the messages used by the <code>$thing:take</code> and
  <code>$thing:drop</code> verbs in various situations. All of these message
  can use standard pronoun substitutions.</p>
  <dl>
    <dt><u>Property:</u> <b>otake_succeeded_msg</b></dt>
    <dd>
      <a name="IDX82"
          id="IDX82"></a> This message is the text sent to other people in
          the thing's location when the thing is taken by another object. The
          default value of this string is <samp>`picks up %t.'</samp>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>otake_failed_msg</b></dt>
    <dd>
      <a name="IDX83"
          id="IDX83"></a> This message is the text sent to other people in
          the thing's location when an attempt by another object to take the
          thing fails. The default value of this string is <samp>`'</samp>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>take_succeeded_msg</b></dt>
    <dd>
      <a name="IDX84"
          id="IDX84"></a> When an object successfully takes a thing, this
          message is sent to inform the object of success. The default value
          of this string is <samp>`You take %t.'</samp>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>take_failed_msg</b></dt>
    <dd>
      <a name="IDX85"
          id="IDX85"></a> When an object unsuccessfully tries to take a
          thing, this message is sent to tell the object that the attempt
          failed. The default value of this string is <samp>`You can't pick
          that up.'</samp>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>odrop_succeeded_msg</b></dt>
    <dd>
      <a name="IDX86"
          id="IDX86"></a> This message is the text sent to other people in
          the thing's location when the thing is dropped by another object.
          The default value of this string is <samp>`drops %t.'</samp>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>odrop_failed_msg</b></dt>
    <dd>
      <a name="IDX87"
          id="IDX87"></a> This message is the text sent to other people in
          the thing's location when an attempt by another object to drop the
          thing fails. The default value of this string is <samp>`tries to
          drop %t but fails!'</samp>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>drop_succeeded_msg</b></dt>
    <dd>
      <a name="IDX88"
          id="IDX88"></a> When an object successfully drops a thing, this
          message is sent to inform the object of success. The default value
          of this message is <samp>`You drop %t.'</samp>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>drop_failed_msg</b></dt>
    <dd>
      <a name="IDX89"
          id="IDX89"></a> When an object unsuccessfully tries to drop a
          thing, this message is sent to tell the object that the attempt
          failed. The default value of this string is <samp>`You can't seem
          to drop %t here.'</samp>
    </dd>
  </dl>
  <h3><a name="SEC7"
     href="LambdaCoreProgMan_toc.html#TOC7"
     id="SEC7">The Exit Class</a></h3>
  <p>The <code>$exit</code> class is the other type of object used to
  construct the fabric of the virtual world. You can imagine an exit to be a
  flexible tube connecting two <code>$room</code> objects. Each
  <code>$exit</code> object goes in one direction only. It leads from a
  <em>source</em> object to a <em>destination</em> object. Note that it takes
  no virtual time to traverse an exit. When an object moves through an exit,
  it moves from one room to another instantaneously.</p>
  <p>The verbs defined for the <code>$exit</code> class are fairly simple and
  obvious. Several messages are defined as properties on an exit. These are
  pronoun substituted and printed when the exit is invoked, under various
  conditions.</p>
  <dl>
    <dt><u>Verb:</u> none <b>invoke</b> <i>()</i></dt>
    <dd>
      <a name="IDX90"
          id="IDX90"></a> This verb is used to trigger an exit. In the
          <code>$room</code> class, when a player elects to move through an
          exit, this verb is called to move the player through the exit. The
          code for this verb is very simple. It calls the exit's
          <code>:move</code> verb, with the <code>player</code> object as an
          argument.
      <p>This is the verb to use for moving players through exits. It does
      not allow objects to be moved. For that, a direct call to the exit's
      <code>:move</code> verb is needed, with the object you wish to move
      through the exit as an argument.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>move</b> <i>(obj <var>thing</var>)</i></dt>
    <dd>
      <a name="IDX91"
          id="IDX91"></a> This verb is used to move <var>thing</var> through
          the exit. It provides a general mechanism for moving any sort of
          object through the exit, not necessarily just players. The code for
          this verb performs a number of actions. First, the lock on the exit
          is checked to see if <var>thing</var> is allowed to use the exit.
          If this is not the case, the <code>nogo_msg</code> and
          <code>onogo_msg</code> text is sent to <var>thing</var> and
          everyone else in <var>thing</var>'s location, respectively.
      <p>If the object is allowed to use the exit, it is <em>blessed</em> for
      entry to the destination room. This is done to ensure that the object
      will be accepted by the destination room. It provides a way to stop
      objects moving into a room by any means other than an exit leading into
      the room. By simply prohibiting all objects from entering the room, the
      only way in is then to use an exit that leads into that room.</p>
      <p>If the object is accepted by the room, determined using the
      <code>$room:accept</code> verb, then the <code>leave</code> messages
      are printed to <var>thing</var> and the other people in the room. Then
      <var>thing</var><code>:moveto</code> is invoked to move the object from
      the current room to the destination of the exit. Once this has been
      done, the <code>arrive</code> messages for the exit are printed out to
      <var>thing</var> and the destination room's occupants.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>recycle</b> <i>()</i></dt>
    <dd>
      <a name="IDX92"
          id="IDX92"></a> This verb is defined to allow an exit to be tidily
          removed from the database. The exit is removed from the
          <code>entrance</code> and <code>exit</code> lists of the
          destination and source rooms respectively, if the caller of this
          verb has permission to do so. This is done using the
          <code>$room:remove{entrance|exit}</code> verbs.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>leave_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX93"
          id="IDX93"></a>
    </dd>
    <dt><u>Verb:</u> none <b>oleave_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX94"
          id="IDX94"></a>
    </dd>
    <dt><u>Verb:</u> none <b>arrive_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX95"
          id="IDX95"></a>
    </dd>
    <dt><u>Verb:</u> none <b>oarrive_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX96"
          id="IDX96"></a>
    </dd>
    <dt><u>Verb:</u> none <b>nogo_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX97"
          id="IDX97"></a>
    </dd>
    <dt><u>Verb:</u> none <b>onogo_msg</b></dt>
    <dd>
      <a name="IDX98"
          id="IDX98"></a> These verbs return a pronoun substituted version of
          the corresponding properties stored on the exit object. They are
          used by <code>$exit:move</code>.
    </dd>
  </dl>
  <p>The following properties are defined for the <code>$exit</code> class.
  Most of them are messages used when the exit is invoked.</p>
  <dl>
    <dt><u>Property:</u> <b>source</b></dt>
    <dd>
      <a name="IDX99"
          id="IDX99"></a> This is the object that the exit leads out of. If
          the exit has been created using the correct verbs, the exit object
          should be in the <code>exits</code> list of the <code>source</code>
          room object.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>dest</b></dt>
    <dd>
      <a name="IDX100"
          id="IDX100"></a> This is the object that the exit leads to. If the
          exit has been created using the correct verbs, the exit object
          should be in the <code>entrances</code> list of the
          <code>dest</code> room object.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>nogo_msg</b></dt>
    <dd>
      <a name="IDX101"
          id="IDX101"></a> This is the message printed to an object if it is
          unable to move through the exit.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>onogo_msg</b></dt>
    <dd>
      <a name="IDX102"
          id="IDX102"></a> This is the message printed to everyone in an
          object's location if it is unable to move through the exit.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>arrive_msg</b></dt>
    <dd>
      <a name="IDX103"
          id="IDX103"></a> This is the message printed to an object using an
          exit when it arrives in the destination room.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>oarrive_msg</b></dt>
    <dd>
      <a name="IDX104"
          id="IDX104"></a> This is the message printed in the destination
          room of the exit when something is moved through it.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>oleave_msg</b></dt>
    <dd>
      <a name="IDX105"
          id="IDX105"></a> This is the message printed in the exit's source
          room when an object moves through the exit.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>leave_msg</b></dt>
    <dd>
      <a name="IDX106"
          id="IDX106"></a> This is the message printed to an object using the
          exit as it leaves the source room.
    </dd>
  </dl>
  <h3><a name="SEC8"
     href="LambdaCoreProgMan_toc.html#TOC8"
     id="SEC8">The Player Class</a></h3>
  <p>The player class is the one of the basic classes of the virtual world. A
  player object is the same as any other object, except that has it's
  <code>player</code> bit set. This allows the server to connect a user to
  that object. A number of player commands are defined as verbs of the
  <code>$player</code> class, as well as other useful functions.</p>
  <dl>
    <dt><u>Verb:</u> none <b>g*et</b> <i>()</i></dt>
    <dd>
      <a name="IDX107"
          id="IDX107"></a>
    </dd>
    <dt><u>Verb:</u> none <b>take</b> <i>()</i></dt>
    <dd>
      <a name="IDX108"
          id="IDX108"></a> This verb is called in the situation when another
          object tries to <em>get</em> or <em>take</em> a player. Given that
          this is a fairly nonsensical thing to do, it is not allowed.
          Suitable messages are sent to the object that invoked the action,
          and the player object.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>i*nventory</b> <i>()</i></dt>
    <dd>
      <a name="IDX109"
          id="IDX109"></a> This verb is used to tell a player what s/he has
          in his/her pockets. The code for the verb provides the best
          documentation, so it is printed below. Note the use of the
          <code>thing:title</code> verb to get the name of an object.
      <pre>
if (length(player.contents))
  player:tell("You are carrying:");
  for thing in (player.contents)
    player:tell(thing:title());
  endfor
else
  player:tell("You are empty-handed.");
endif
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>wh*isper</b> <i>()</i></dt>
    <dd>
      <a name="IDX110"
          id="IDX110"></a> This verb is used to send secret messages between
          two players, as if they were whispering to each other. The way this
          works is slightly the reverse of what might be expected, because
          the <code>:whisper</code> verb on the person being whispered to is
          the one that is invoked. The message, referred to by the
          <code>dobjstr</code>, is printed to the recipient, with suitable
          text surrounding it to indicate that is it a whisper.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>look_self</b> <i>()</i></dt>
    <dd>
      <a name="IDX111"
          id="IDX111"></a> This verb overrides the <code>$root_class</code>
          definition to provide an indication to other players of whether
          this player is currently active or not. It uses <code>pass()</code>
          to allow the parent class to print a description, and then looks at
          the <code>connected_players()</code> list to determine if this
          player is currently connected. If not, then the text
      <pre>
He is sleeping
</pre>
      <p>is printed. If the player is connected, and has been idle for less
      than 60 seconds, then the string</p>
      <pre>
He is awake and looks alert
</pre>
      <p>is printed. If the player is connected, but has been inactive for
      more than 60 seconds, the string</p>
      <pre>
He is awake, but has been staring off into space for <strong>X</strong>
</pre>
      <p>is printed, where <code>X</code> is an indication of the time the
      player has been inactive. The gender pronoun inserted is taken from the
      pronoun list for the player. This means it can vary with the gender of
      the player object.</p>
      <p>If the player is carrying any objects, a simple list of these is
      printed.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@gag</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX112"
          id="IDX112"></a> The concept of gagging is fairly simple to
          understand. If there is a player or object you do not wish to see
          any output from, then you can place the player or object into your
          <em>gag list</em>. If any output is sent to you from that object,
          using it's <code>:tell</code> verb, then it is ignored, and not
          printed on your terminal screen.
      <p>Two gaglists are maintained: one for players, in the property
      <code>gaglist</code> and one for objects, in the property
      <code>object_gaglist</code>.</p>
      <p>Three verbs are used to maintain and observe the list of objects
      that are in the gag lists. The <code>@gag</code> verb is used as a
      player command to add objects to the gag lists. The code for this is
      fairly straightforward, and is included below:</p>
      <pre>
if (player != this)
  player:tell("Permission denied.");
  return;
endif
victims = $string_utils:match_player(args);
if (!victims)
  player:tell("Usage:  @gag &lt;player or object&gt; 
                    [&lt;player or object&gt;...]");
  return;
endif
gagplayers = gagobjs = {};
for i in [1..length(args)]
  if (valid(victims[i]))
    gagplayers = {victims[i], @gagplayers};
  elseif (valid(o = player.location:match(args[i])))
    gagobjs = {o, @gagobjs};
  elseif (tonum(o = toobj(args[i])) &amp;&amp; valid(o))
    gagobjs = {o, @gagobjs};
  else
    player:tell("Could not find ", args[i], " as either a player or an object.");
  endif
endfor
changed = 0;
for p in (gagplayers)
  if (p in player.gaglist)
    player:tell("You are already gagging ", p.name, ".");
  else
    changed = 1;
    player.gaglist = setadd(this.gaglist, p);
  endif
endfor
for o in (gagobjs)
  if (o in player.object_gaglist)
    player:tell("You are already gagging ", o.name, ".");
  else
    changed = 1;
    player.object_gaglist = setadd(this.object_gaglist, o);
  endif
endfor
if (changed)
  fork (0)
    this:("@listgag")();
  endfork
endif
</pre>
      <p>Note that you can only manipulate your own gag list. Other objects
      cannot change your gag list. Another interesting point is the call to
      <code>@listgag</code>, after the new objects have been added to the gag
      list, to print the current gag list.</p>
      <p>The code first tries to match the argument list against the players
      in the database, using <code>$string_utils:match_player()</code>. Then,
      for each argument given, if a match was not found using that method, a
      match for an object in the room is tried, using the utility routine
      <code>$string_utils:match_object()</code>. If this fails, the argument
      is rejected.</p>
      <p>This results in a list of objects to be added to the player's gag
      lists. Any objects already in the player's gag lists are removed from
      the <em>to do</em> list. If this yields an empty <em>to do</em> list,
      the command is aborted. Any objects that are not already in the gag
      list are added to it.</p>
      <p>Finally, <code>this:@listgag</code> is called to print the list, if
      it has changed.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@listgag</b> <i>()</i></dt>
    <dd>
      <a name="IDX113"
          id="IDX113"></a> This verb is used as a player command to list the
          objects in the player's gag lists. If the gag lists are not empty,
          a list of the names of the players in the <code>gaglist</code>
          property on the player, and the objects in the
          <code>object_gaglist</code> property are produced.
      <p>The verb uses a test based on the <code>callers()</code> primitive,
      to determine if it is being called by another verb, or invoked by a
      player as a command. If <code>callers()</code> returns a null list (and
      hence is not <code>TRUE</code>, then the verb is being invoked as a
      player command. This affects the text printed by the verb.</p>
      <p>In addition, the verb checks through the gag lists of all the
      player's in the database, to see if the player who invoked the command
      is listed in anyone else's gag list. If this is the case, a list of the
      people doing the gagging is printed.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@ungag</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX114"
          id="IDX114"></a> This verb is used as a player command to remove an
          object from one of the player's gag lists, if it is a member. The
          <code>dobjstr</code> is used as the name of the thing to remove
          from the gag list.
      <p>If this name is <samp>`everyone'</samp> then the player gag and
      object gag lists are reset to the empty list. Otherwise, if a valid
      direct object has been referred to, by checking <code>dobj</code>, that
      is used as the object to gag. Otherwise, an attempt is made to match
      the <code>dobjstr</code> with something in the player gag list. If no
      match is found, it is retried with the object gag list. If this fails,
      the command is aborted with an error message.</p>
      <p>If a valid match is found, it is removed from the relevant list, and
      the player informed. <code>@listgag</code> is used to print the list
      after the operation has been completed.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>news</b> <i>()</i></dt>
    <dd>
      <a name="IDX115"
          id="IDX115"></a> This is a very simple verb used as a player
          command to print out the current MOO news. It makes a simple call
          to the verb <code>$news:read</code> to actually perform the reading
          task.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@gripe</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX116"
          id="IDX116"></a> A <em>gripe</em> is a player complaint or
          observation that is sent, using MOO mail, to all the administrators
          in the game. It is intended to provide a way to report problems
          with the MOO in a high-priority way that will attract the attention
          of the people who can do something about it. A good example of the
          use of a gripe is to complain about a bug in one of the core
          classes, or maybe even a request for something to be added.
      <p>The implementation of the gripe concept involves a property on the
      <em>System Object</em> called <code>$gripe_recipients</code>. This is a
      list of all the players who will be mailed the <code>@gripe</code>
      message. When a player types in <code>@gripe</code> they are taken to
      the mail room to enter their message. Any text entered on the line with
      the <code>@gripe</code> command is taken to be the subject of the gripe
      message. When the message is finished and sent, it is received by all
      the people on the <code>$gripe_recipients</code> list.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>gi*ve</b> <i>()</i></dt>
    <dd>
      <a name="IDX117"
          id="IDX117"></a>
    </dd>
    <dt><u>Verb:</u> none <b>ha*nd</b> <i>()</i></dt>
    <dd>
      <a name="IDX118"
          id="IDX118"></a> This verb is a player command used to exchange
          objects between players. It performs a <code>:moveto</code> on the
          direct object to the inventory of the indirect object. If, after
          the move, the object is still in the possession of the donor, then
          it is obvious that the recipient has rejected the gift. If this is
          the case, a suitable message is printed to the doner.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>?</b> <i>help info*rmation ()</i></dt>
    <dd>
      <a name="IDX119"
          id="IDX119"></a> This verb is a player command used to activate the
          help system. It is described more fully in the section on the help
          system.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@password</b> <i>()</i></dt>
    <dd>
      <a name="IDX120"
          id="IDX120"></a> This verb is a player command used to change a
          player's password. A player's password is stored in a property on
          the player called, surprisingly enough, <code>password</code>. The
          <code>crypt()</code> primitive is used to store the password in
          encrypted form, using the standard UN*X encryption algorithm. Note
          that you need to know your old password in order to change it,
          unless a password has not been previously set for this player.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@gender</b> <i>(string
    <var>gender</var>)</i></dt>
    <dd>
      <a name="IDX121"
          id="IDX121"></a> This verb is used to set the gender of a player
          object. Without any arguments, it prints the player's gender,
          currently set pronouns and the available genders stored on
          <code>$gender_utils.genders</code>.
      <p>If a gender is given as the argument, <var>gender</var>, then the
      <code>$gender_utils:set</code> verb is called to actually change the
      player's gender pronouns. If this verb does not return an error, then
      the gender of the player is set to the full gender name which is
      returned. <code>$gender_utils:set</code> takes care of setting the
      correct pronouns.</p>
      <p>If an error is returned when trying to set the player's gender, this
      could indicate that permission to change the pronouns was denied, or
      some other problem existed. If a value of <code>E_NONE</code> is
      returned by <code>$gender_utils:set</code> then the gender of the
      player is set, but the pronouns are left unchanged.</p>
      <p>The gender of a player is used in the
      <code>string_utils:pronoun_sub</code> verb to insert the appropriate
      pronouns in places where <samp>`%'</samp> substitutions have been used.
      When the gender of a player is changed, it results in a set of 8
      properties being assigned on the player, one for every type of possible
      pronoun substitution. A further property, containing the gender of the
      player, is also set, for example, to either "male", "female", or
      "neuter", depending on the argument given to the <code>@gender</code>
      command.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>page</b> <i>(list <var>args</var>)</i></dt>
    <dd>
      <a name="IDX122"
          id="IDX122"></a> This verb is a player command used to send
          messages between players who are not physically located in the same
          room in the virtual world. You can imagine a <em>page</em> to be a
          worldwide form of whispering. Without an argument, a message like
      <pre>
You sense that blip is looking for you in The Venue Hallway.
</pre>
      <p>is sent to the recipient of the page. If an argument is given, it is
      treated as a message to send to the other player. This results in the
      recipient getting a message like</p>
      <pre>
You sense that blip is looking for you in Hallway.
He pages, "Hello - are you busy ?"
</pre>
      <p>Paging is used primarily to attract the attention of a player, or to
      pass short messages between players in different locations. It is not
      intended to be used for conversation.</p>
      <p>If a player name has been given as an argument, the
      <code>:page</code> verb first tries to match the first argument with a
      player name, using <code>$string_utils:match_player</code>. If a match
      is found, then there are two possibilities. Firstly, if the player is
      not connected, a pronoun substituted version of the string returned by
      that player's <code>:page_absent_msg</code> verb is printed to the
      sender, and the verb is aborted.</p>
      <p>Otherwise, if the recipient is connected, we send him/her the string
      returned by the sender's <code>:page_origin_msg</code>. We then check
      to see if, optonally, <samp>`with'</samp> followed by a message is part
      of the argument list for the verb. If so, then the message is extracted
      from the argument list and sent to the recipient, suitably pronoun
      substituted. The string returned by the recipient's
      <code>:page_echo_msg</code> verb is printed to the sending player.</p>
      <p>An interesting piece of coding is used to stop the line containing
      the message from duplicating the sender's name if it has already been
      sent as part of the <code>:page_origin_msg</code>. For example, if blip
      page's Ezeke, Ezeke might see the following:</p>
      <pre>
You sense that blip is looking for you in The Venue Hallway
He pages, "Hello"
</pre>
      <p>which would be better than something like</p>
      <pre>
You sense that blip is looking for you in The Venue Hallway
blip pages, "Hello"
</pre>
      <p>The code in question is shown below:</p>
      <pre>
who:tell($string_utils:index_delimited(pagemsg, player.name) ? 
           player.psc | player.name, " pages, \"", msg, "\"");
</pre>
      <p>Here, the <code>$string_utils:index_delimited()</code> verb is used
      to check if the player's name occurs in the string we sent to the
      recipient as <code>pagemsg</code>. If it does, then we print the
      player's subjective pronoun, capitalised. If it doesn't, we print the
      player's name.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@rename</b> <i>()</i></dt>
    <dd>
      <a name="IDX123"
          id="IDX123"></a> This verb is a player command used to change the
          name and aliases of an object or verb. It first tries to parse the
          supplied direct object as a verb reference. If this succeeds, then
          it tries to match the object, and then the verb name. If both are
          found, the indirect object string is used to set verb name.
      <p>If the direct object string cannot be parsed as a verb, then a match
      is attempted using the string as an object name. If this succeeds, then
      <code>$building_utils:set_names()</code> is used to set the name and
      aliases of the matched object.</p>
      <p>Any permission errors, ambiguous object specifications or syntax
      errors are flagged appropriately.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>accept</b> <i>(obj <var>thing</var>)</i></dt>
    <dd>
      <a name="IDX124"
          id="IDX124"></a> This verb is used to determine if a player will
          allow <var>thing</var> to be moved into his/her inventory. The verb
          defined for the <code>$player</code> class allows anything that is
          not a player to be moved into the player's possession. You could
          override this verb to restrict the sorts of things you would want
          other people to be able to place on your person.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>tell</b> <i>()</i></dt>
    <dd>
      <a name="IDX125"
          id="IDX125"></a> This verb should be used to send a message to a
          player. The <code>$player:tell</code> filters messages in two
          different ways, as show below. Remember that the <var>player</var>
          referred to in the code is the player sending the message.
          <var>this</var> refers to the player receiving the message.
      <pre>
if (!this:gag_p())
  if (this.paranoid == 2)
    z = this:whodunnit(listappend(callers(), {player, "", player}), 
               {this}, {})[3];
    pass("(", z.name, " ", z, ") ", @args);
  else
    pass(@args);
    if (this.paranoid == 1)
      this.responsible = listappend(this.responsible, 
          {listappend(callers(), {player, "&lt;cmd-line&gt;", 
                                    player}), args});
      while (length(this.responsible) &gt; this.lines)
        this.responsible = listdelete(this.responsible, 1);
      endwhile
    else
      this.responsible = {};
    endif
  endif
endif
</pre>
      <p>The verb <code>$player:gag_p</code> returns true if the player
      sending the message is in the recipient's <em>gag list</em>. For this
      verb, the output from any gagged player is ignored, and not printed to
      the recipient's terminal.</p>
      <p>If the <em>paranoid level</em> of the recipient is <samp>`2'</samp>,
      this means that they wish to see who has sent them a message. The
      <code>$player:whodunnit</code> verb returns the object reference of the
      player that sent the message. This is prepended to the message text,
      which is then printed to the player.</p>
      <p>If the <em>paranoid level</em> of the recipient is <samp>`1'</samp>,
      then the message and it's originator are stored in the property list
      <code>responsible</code> on the player. The list is kept to
      <var>player.lines</var> length, at most. This option is used for later
      processing by the <code>@check</code> command.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>whodunnit</b> <i>(list <var>callers</var>, list
    <var>trust</var>, list <var>mistrust</var>)</i></dt>
    <dd>
      <a name="IDX126"
          id="IDX126"></a> This verb runs through the list of
          <var>callers</var> until it finds an object reference that is not a
          wizard, is not in the list <var>trust</var>, or is in the list
          <var>mistrust</var>. The verb is used by <code>$player:tell</code>
          to locate the originator of a message. It returns a list of three
          elements, in the same format as that returned by the
          <code>callers()</code> primitive:
      <pre>
{<var>this</var>, <var>verb-name</var>, <var>programmer</var>}
</pre>
      <p>where <var>this</var> is the initial value of the variable
      <code>this</code> in that verb, <var>verb-name</var> is the name used
      to invoke the chosen verb, and <var>programmer</var> is the player with
      whose permissions that verb is running.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>gag_p</b> <i>()</i></dt>
    <dd>
      <a name="IDX127"
          id="IDX127"></a> This verb returns <samp>`TRUE'</samp> if the
          current value of the <code>player</code> variable is in the gag
          list of the object indicated by the variable <code>this</code>, or
          if a non-player object mentioned in the gag list if the first
          elements of the verbs <code>callers()</code> list.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>home</b> <i>()</i></dt>
    <dd>
      <a name="IDX128"
          id="IDX128"></a> This verb is normally invoked by the player as a
          command. The <em>home</em> of a player is the room where s/he goes
          to when they disconnect. Unlike some flavours of MUD, MOO does not
          cause you to lose all your possessions if you go home.
      <p>The <code>:home</code> verb performs a simple sequence. It first
      checks whether the player is already at home, and tells him/her so if
      this is the case. Secondly, a check is made that the player's home
      (stored in the <code>home</code> property on the player, is a valid
      object. If this is not the case, the verb sets the home to the default,
      <code>$player_start</code>, and stops with a suitable message.</p>
      <p>Having decided that the player has a valid home s/he is not already
      in, the verb uses <code>$player:moveto</code> to send the player to the
      home location. If this doesn't work - checked by comparing the player's
      home with the player's location after the move - then for some reason
      the player's home location has not allowed him/her to enter. A suitable
      message is printed, and no further action is taken.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@sethome</b> <i>()</i></dt>
    <dd>
      <a name="IDX129"
          id="IDX129"></a> This verb is a player command used to set the
          player's <em>home</em> to be the his/her current location. You can
          only set your home to a room if the room will accept you,
          determined by checking the room's <code>:accept</code> verb.. This
          allows builders to restrict which rooms may be used by players as
          their homes. If the room does not allow the player to set it as
          his/her home, a suitable message is printed to inform the user of
          this fact. Otherwise, the player's <code>home</code> property is
          set to the player's current location.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>confunc</b> <i>()</i></dt>
    <dd>
      <a name="IDX130"
          id="IDX130"></a> This verb is called when the player connects to
          the LambdaMOO server. It can be used to perform actions that should
          be done every time the player logs in to the MUD. This is much the
          same idea as having a <code>~/.cshrc</code> or
          <code>~/.kshrc</code> file that is activated when you log into a
          UN*X account. The verb defined for the player class is listed
          below:
      <pre>
$news:check(this);
for x in (this.messages)
  if (x[1] &gt; this.current_message)
    this:tell("You have new mail.  Type 'help mail' for 
                                          info on reading it.");
    return;
  endif
endfor
</pre>
      <p>This performs a couple of actions. First it calls
      <code>$news:check</code> to see whether the news has been updated since
      this player last looked at it. Then it checks through the MOO Mail list
      on the player to see if any mail has arrived since they were last
      connected.</p>
      <p>You could place a variety of actions into this verb. For example,
      you may wish to tell your friends when you log in, by sending a
      suitable message to them if they are connected. Similarly, you may wish
      to produce a special message in the room you are in when you
      connect.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>disfunc</b> <i>()</i></dt>
    <dd>
      <a name="IDX131"
          id="IDX131"></a> This verb is invoked when the player disconnects
          from the LambdaMOO server. The verb defined for the
          <code>$player</code> class does nothing. You might choose to
          override this verb to print a special message when you log out, or
          perhaps to retrieve some of your possessions.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>whereis</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX132"
          id="IDX132"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@whereis</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX133"
          id="IDX133"></a> This verb is a player command used to locate a
          player in the virtual world. The code, shown below, allows any
          player to locate any other player. If no argument is given, a list
          of the locations of all the currently connected players is printed.
      <pre>
if (!args)
  them = connected_players();
else
  who = $command_utils:player_match_result(
                     $string_utils:match_player(args), args);
  if (length(who) &lt;= 1)
    if (!who[1])
      player:tell("Where is who?");
    endif
    return;
  elseif (who[1])
    player:tell("");
  endif
  them = listdelete(who, 1);
endif
lmax = rmax = 0;
for p in (them)
  player:tell(p:whereis_location_msg());
endfor
</pre>
      <p>If an argument is given, the verb attempts to match with one or more
      player names. If no valid matches are found, a suitable error message
      is printed by invoking the verb
      <code>$command_utils:player_match_result</code>. That verb returns a
      list. The first element indicates whether any of the elements of the
      argument list didn't match. The rest of the list contains the objects
      references that did match.</p>
      <p>The verb runs through the list of object references, and reports the
      string returned by each player's <code>whereis_location_msg</code>
      verb.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@mail</b> <i>()</i></dt>
    <dd>
      <a name="IDX134"
          id="IDX134"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@rmm*ail</b> <i>()</i></dt>
    <dd>
      <a name="IDX135"
          id="IDX135"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@send</b> <i>()</i></dt>
    <dd>
      <a name="IDX136"
          id="IDX136"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@read</b> <i>()</i></dt>
    <dd>
      <a name="IDX137"
          id="IDX137"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@answer</b> <i>()</i></dt>
    <dd>
      <a name="IDX138"
          id="IDX138"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@reply</b> <i>()</i></dt>
    <dd>
      <a name="IDX139"
          id="IDX139"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@renumber</b> <i>()</i></dt>
    <dd>
      <a name="IDX140"
          id="IDX140"></a>
    </dd>
    <dt><u>Verb:</u> none <b>receive_message</b> <i>()</i></dt>
    <dd>
      <a name="IDX141"
          id="IDX141"></a>
    </dd>
    <dt><u>Verb:</u> none <b>fix_current_message</b> <i>()</i></dt>
    <dd>
      <a name="IDX142"
          id="IDX142"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@next</b> <i>()</i></dt>
    <dd>
      <a name="IDX143"
          id="IDX143"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@prev</b> <i>()</i></dt>
    <dd>
      <a name="IDX144"
          id="IDX144"></a> These functions are player commands used to access
          the MOO Mail system. They are fully described in the section on the
          MOO mail system.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@quota</b> <i>()</i></dt>
    <dd>
      <a name="IDX145"
          id="IDX145"></a> This verb is a player command used to print a
          player's current building quota. This is a numerical value of the
          number of objects that the player may create without recycling
          anything. Quotas are used to limit the number of objects that can
          be created, in principle to allow the game administrators to
          quality control the things that are placed in the database.
      <p>With no argument, the player's quota is displayed, taken from the
      property <code>ownership quota</code>. If an argument is given in the
      <code>dobjst</code>, it is taken as a player name, and matched to find
      a player object reference. If one is found, and the user is a wizard,
      then the value of that player's <code>ownership_quota</code> is
      returned. Otherwise, a <samp>`permission denied'</samp> message is
      returned.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@realm</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX146"
          id="IDX146"></a> This is a player command used to examine the
          object hierarchy. The arguments can specify the players whose
          objects are to be shown, the root object number to start from, and
          a list of objects to miss from the tree search.
      <p>Firstly, the verb parses the arguments, to determine the root to
      start from, the players whose objects we are intersted in, and any
      objects that are to be ignored. Any ancestors of the root are printed
      by a short loop, with the owner appended in square brackets. The verb
      <code>this:realm2</code> is called to produce the hierarchical list of
      objects to printed. A summary of the number of objects in the list, and
      how many are owned by the player, is printed at the end.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>realm2</b> <i>(obj <var>root</var>, list
    <var>owners</var>, string <var>space</var>, list
    <var>missing</var>)</i></dt>
    <dd>
      <a name="IDX147"
          id="IDX147"></a> This verb puts toegther a number of lines of text
          indicating the object hierarchy from the <var>root</var> object
          downwards. Only objects owned by people in the <var>owners</var>
          list are included. Objects in the <var>missing</var> list are
          excluded. The verb is called recursively to evaluate the
          descendants of each node in the tree of objects. The string
          <var>space</var> is the visual indentation factor used to represent
          different levels in the hierarchy.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@count</b> <i>()</i></dt>
    <dd>
      <a name="IDX148"
          id="IDX148"></a> This verb is a player command used to print the
          number of objects owned by a particular player. If no player name
          is given in the <code>dobjstr</code>, then the number of objects
          owned by the player invoking the verb is printed. In both cases,
          the verb <code>this:count_2</code> is called to do the actual
          counting and displaying.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>count_2</b> <i>(num <var>count</var>, num
    <var>start</var>)</i></dt>
    <dd>
      <a name="IDX149"
          id="IDX149"></a> This verb is called to count the number of objects
          owned by the player indicated by <code>dobj</code>. The verb first
          checks the current remaining time available for it to execute in.
          If it is in danger of running out of time, it forks another
          <code>:count_2</code> verb to carry on from where it left off. This
          enables the verb to count lots of objects in a large database.
      <p>Foe each object, if it is valid, and the owner is the same as
      <code>dobj</code>, then the count is incremented. This is performed for
      every object in the database, from <var>start</var> to the last
      item.</p>
      <p>When all the objects in the database have been looked at, the total
      is printed.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>set_name</b> <i>()</i></dt>
    <dd>
      <a name="IDX150"
          id="IDX150"></a> This verb is used to set the name of the player
          object. It overrides the verb <code>$root_class:set_name</code> to
          provide some extra checking needed for player objects. This
          checking basically stops you changing your name to be the same as
          another player. Note also that spaces are not allowed in player
          names. If the extra checks are passed, the parent
          <code>set_name</code> verb is called to actually set the name.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@memory</b> <i>()</i></dt>
    <dd>
      <a name="IDX151"
          id="IDX151"></a> This is a player command used to return memory
          usage statistics for the LambdaMOO server. It uses the
          <code>memory_usage()</code> primitive to gather usage information,
          which is then printed in a nicely formatted fashion.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>announce</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX152"
          id="IDX152"></a>
    </dd>
    <dt><u>Verb:</u> none <b>announce_all_but</b>
    <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX153"
          id="IDX153"></a> This verb is used to call the
          <code>:announce</code> and <code>:announce_all_but</code> verbs in
          the player's location, if those verbs are defined, and the player
          is in a valid location. It is used by noisy objects in player's
          inventories that wish to broadcast messages to both the player, and
          others in the surrounding room.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@notedit</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX154"
          id="IDX154"></a> This is a simple verb used as a player command to
          invoke the note editor on the argument.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@who</b> <i>(list <var>names</var>)</i></dt>
    <dd>
      <a name="IDX155"
          id="IDX155"></a> This verb is a player command used to determine
          who is currently connected to the MOO. If <var>names</var> is
          given, it is a list of player names to display in the <em>who
          list</em>. In both cases, the list is sorted, using
          <code>$list_utils:sort_alist</code> and displayed. Player names,
          connection times, idle times and locations are displayed. Player
          name is determined by getting the value of the <code>name</code>
          property on the player. Connection time is determined by using the
          <code>connected seconds()</code> primitive. Idle time is determined
          using the <code>idle_seconds()</code> primitive. The location is
          determined by the return value of a player's
          <code>:who_location_msg</code> verb.
      <p>A summary of player activity is attached to the end of the list.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@typo</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX156"
          id="IDX156"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@bug</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX157"
          id="IDX157"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@suggest*ion</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX158"
          id="IDX158"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@idea</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX159"
          id="IDX159"></a> These commands are used register a
          typo/bug/suggestion/idea with the person who owns the room the
          player is currently in. If <var>args</var> is given, this is used
          as the text of the message, and is delivered straightaway to the
          room owner.
      <p>If no argument is given, the player is taken to the mail room to
      compose a full message. However, if the room the player is in does not
      have it's <code>free_entry</code> property set, then the verb doesn't
      move the player to the mail room, as s/he may not be able to reenter
      the current room after the message has been completed. Similarly, if
      the <code>$generic editor</code> is a parent of the current room, then
      the move is not performed. Generally speaking is is not a good idea to
      be taken to the mail room from within another editor.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@quit</b> <i>()</i></dt>
    <dd>
      <a name="IDX160"
          id="IDX160"></a> This verb is a player command used to exit in an
          orderly fashion from the MOO server. It simply calls the
          <code>boot_player</code> primitive to disconnect the player.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@audit</b> <i>()</i></dt>
    <dd>
      <a name="IDX161"
          id="IDX161"></a> This verb is a player command used to print the
          objects owned by this or another player. If a direct object is
          given, this is taken as a player name to audit, otherwise the
          current value of <code>player</code> is used. In both cases, the
          <code>this:audit_2</code> verb is called to do the actual counting
          and displaying of objects.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>audit_2</b> <i>(num <var>count</var>, num
    <var>start</var>)</i></dt>
    <dd>
      <a name="IDX162"
          id="IDX162"></a> This verb is called by the <code>@audit</code>
          command to print the objects owned by player given in
          <code>dobj</code>. In a similar way to <code>@count</code>, the
          verb first checks how much time it has left. If it might run out,
          then it forks another occurrence of itself to carry on auditing
          where it left off.
      <p>A loop is entered, running from <var>start</var> to the last item in
      the database. Each object in the database is looked at. If it is valid,
      and the owner matches the <code>dobj</code>, then the object name and
      reference number are printed, and the count is incremented.</p>
      <p>When all the objects in the database have been covered, the total
      count is printed out.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@eject</b> <i>()</i></dt>
    <dd>
      <a name="IDX163"
          id="IDX163"></a> This verb is a player command used to remove
          objects from rooms or the player's inventory. The indirect object
          is used to specify what the direct object is to be ejected from.
          The special cases of <samp>`me'</samp> and <samp>`here'</samp> are
          caught and handled. Similarly, the case where the direct object is
          <samp>`me'</samp> is also handled.
      <p>If neither of the special cases match, the direct and indirect
      object are matched on, to give an object reference to use. Suitable
      error messages are printed if a match is not found. If matches are
      found, then a sequence of message printing is started. The indirect
      object's <code>:victim_ejection_msg</code> verb is invoked, and the
      returned result printed to the victim. The string returned by the
      indirect object's <code>:ejection_msg</code> is printed to the player
      doing the ejecting. The result returned by the indirect object's
      <code>oejection_msg</code> verb is printed to everyone else in the
      room.</p>
      <p>Finally, the indirect object's <code>:eject</code> verb is called to
      remove the victim.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>QUIT</b> <i>()</i></dt>
    <dd>
      <a name="IDX164"
          id="IDX164"></a> This player command used to be the way to
          disconnect from the MOO. It has been replaced with the
          <samp>`@quit'</samp> command. Some rooms, for example editors,
          define the <samp>`QUIT'</samp> command. If the room the player is
          in has a <code>:QUIT</code> verb, it is called. Otherwise, the verb
          prints a message telling the player to use the <samp>`@quit'</samp>
          command.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@unlock</b> <i>()</i></dt>
    <dd>
      <a name="IDX165"
          id="IDX165"></a> This verb is a player command used to unlock an
          object. The direct object string, <code>dobjstr</code> is matched
          to try and find an object to unlock. If a match is found, the
          <code>key</code> property is reset to <samp>`0'</samp>. Any errors
          are reported to the invoking player.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@lock</b> <i>()</i></dt>
    <dd>
      <a name="IDX166"
          id="IDX166"></a> This verb is a player command used to lock an
          object with a specified key. It first matches the direct object,
          <code>dobj</code> to get an object reference number. If that
          succeeds, the <code>$lock_utils:parse_keyexp()</code> verb is
          called to parse the key expression given for thelock. If that
          fails, a suitable error message is printed. Othwerwise, the
          <code>key</code> property of the object being locked is set to the
          returned value from the parsing verb. Again, any errors are
          reported to the invoking player.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@version</b> <i>()</i></dt>
    <dd>
      <a name="IDX167"
          id="IDX167"></a> This is a player command used to print the current
          server version number, using the <code>server_version()</code>
          primitive.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@mess*ages</b> <i>()</i></dt>
    <dd>
      <a name="IDX168"
          id="IDX168"></a> This is a player command used to list the possible
          message properties (those that end in <samp>`_msg'</samp>) on the
          <code>dobjstr</code> supplied. The names of the messages, along
          with their current values, are displayed.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@sw*eep</b> <i>()</i></dt>
    <dd>
      <a name="IDX169"
          id="IDX169"></a> This is a player command used to list the objects
          that are capable of receiving any messages sent out from the player
          in the current room. It gathers a list of the objects in the
          current room, from the <code>contents</code> property of the
          player's location. In any element in the list is a connected
          player, the message
      <pre>
blip (#42) is listening.
</pre>
      <p>is printed, for example.</p>
      <p>If an element has a <code>sweep_msg</code> verb defined, the
      returned string from this verb is printed, prepended by the object's
      name.</p>
      <p>If an element has a <code>tell</code> verb defined, and the owner is
      not the invoking player or a wizard, then this object is a potential
      snooper, and is reported by a phrase such as:</p>
      <pre>
The Fruitbat (#999) has been taught to listen by blip (#42).
</pre>
      <p>The verbs <samp>`announce'</samp>, <samp>`announce_all'</samp>,
      <samp>`announce_all_but'</samp>, <samp>`say'</samp>,
      <samp>`emote'</samp>, <samp>`huh'</samp>, <samp>`huh2'</samp> and
      <samp>`whisper'</samp> are checked to see if the current room has a
      definition not owned by the invoking player or a wizard. If any of
      these are found, a message such as:</p>
      <pre>
The Venue Hallway (#1234) may have been bugged by blip.
</pre>
      <p>if the player's location was the Venue hallway.</p>
      <p>If no potential bugs are found, the the message
      <samp>`Communications are secure.'</samp> is printed, and the player
      can breath easily (ish).</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@che*ck</b> <i>(list <var>args</var>)</i></dt>
    <dd>
      <a name="IDX170"
          id="IDX170"></a> This is a player command used to check the origin
          of the last few messages received by the player. The
          <var>args</var> list can contain the number of lines to print as
          the first element, followed by a list of player names. Each player
          name in the list is a person to be <em>trusted</em>, unless the
          name is prefixed by an exclamation point, <samp>`!'</samp>, in
          which case the person is not to be trusted.
      <p>The verb starts by building up a list of trusted and mistrusted
      individuals based on the names given on the command line. Then it runs
      through last <var>n</var> messages in the player's
      <code>responsible</code> property list, checking the origin of the
      messages using the <code>this:whodunnit</code> verb with the
      <var>trust</var> and <var>mistrust</var> lists.</p>
      <p>Any dubious messages found are printed, along with details of who
      sent them.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@move</b> <i>()</i></dt>
    <dd>
      <a name="IDX171"
          id="IDX171"></a> This is a player command used to move objects from
          one location to another. The direct and indirect object strings are
          used to match an object and location to move to. The
          <code>:moveto</code> verb on the <code>dobj</code> is invoked to
          move it to the <code>iobj</code> location. If the location changes,
          and the object is a player, then the message
      <pre>
blip disappears suddenly for parts unknown.
</pre>
      <p>is displayed in the player's location before the move took place.
      Similarly, at the new location, the message</p>
      <pre>
blip materializes out of thin air.
</pre>
      <p>is printed to the objects in the destination room. No messages are
      printed if an object is moved. If a permission problem is found, it is
      reported to the player who typed the command.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@par*anoid</b> <i>()</i></dt>
    <dd>
      <a name="IDX172"
          id="IDX172"></a> This verb is used to set the player's <em>paranoid
          level</em>, as stored in the <code>.paranoid</code> property. Three
          different levels are available :
      <ul>
        <li>0. The normal case, where no paranoia is applied to any messages
        sent to the player.</li>
        <li>1. In this case, the anti-spoofer is enabled, and the value of
        the <code>lines</code> property on the player is set to 20. This
        determines how many messages are stored on the player, for checking
        with the <samp>`@check'</samp> command.</li>
        <li>2. In this case, every message sent to the player is prefixed
        with the name and object number of the sender. This is the
        <em>immediate</em> mode of the anti-spoofer mechanism.</li>
      </ul>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@s*how</b> <i>()</i></dt>
    <dd>
      <a name="IDX173"
          id="IDX173"></a> This is a player command used to examine other
          objects in detail. It returns details of an object's owner,
          location, parent, and all the verbs and properties defined for the
          object, along with their values, if permissions allow.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@desc*ribe</b> <i>()</i></dt>
    <dd>
      <a name="IDX174"
          id="IDX174"></a> This is a player command used to set the
          description of an object. It takes the <code>dobjstr</code> and
          tries to match it with an object. If a match is found, then the
          object's <code>:describe</code> verb is invoked, with the
          <code>dobjstr</code> as an argument.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@create</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX175"
          id="IDX175"></a> This verb is a player command used to create an
          instance of an object or class. It parses the arguments to extract
          the parent object we wish to create an instance of, along with the
          name we wish to give to the created object. The
          <code>create()</code> primitive is called, with the derived
          <var>parent</var> as an argument. The resulting object is moved to
          the player's inventory, using the <code>move()</code> primitive,
          and it's names and aliases set using
          <code>$building_utils:set_names</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@recycle</b> <i>()</i></dt>
    <dd>
      <a name="IDX176"
          id="IDX176"></a> This is a player command used to recycle an
          object. This simply matches the <code>dobjstr</code> with an
          object, and calls the <code>recycle()</code> primitive to recycle
          the object. The returned value, in the case of an error, is printed
          to the player. Otherwise, a suitable success message is sent.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@dig</b> <i>()</i></dt>
    <dd>
      <a name="IDX177"
          id="IDX177"></a> This is a player command used to create a room or
          exit, (that is, instances of the class <code>$room</code> or
          <samp>`$exit'</samp>. The verb parses the arguments to determine
          the type and number of objects that are to be created. It uses the
          <code>create()</code> primitive, with <code>$room</code> as a
          parent to create a room. Note that you can only use the
          <code>@dig</code> command to dig an exit from within a room. The
          <code>building_utils:make_exit</code> verb is called to dig an
          exit.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@cl*asses</b> <i>()</i></dt>
    <dd>
      <a name="IDX178"
          id="IDX178"></a> This is a player command used to list the publicly
          available classes in the database. The public classes are divided
          into different sections, as defined by the property
          <code>$class_registry</code>. This contains a list of entries, in
          the following form:
      <pre>
{ {<var>name</var>, <var>description</var>, <var>members</var>}, ... }
</pre>
      <p>where <var>name</var> is the name of the superclass of objects,
      <var>description</var> is a short, one line description of the
      superclass, and <var>members</var> is a list of object references that
      are in the superclass.</p>
      <p>If no argument is given to the <samp>`@classes'</samp> command, it
      runs through the entries in the <code>$class_registry</code> and prints
      out the name and description.</p>
      <p>If an argument is given, it is taken as one or more names of an
      entries in the <code>$class_registry</code>. The names of the
      <var>members</var> of the requested classes are printed, in this case,
      using <code>this:classes_2</code>.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>classes_2</b> <i>(obj <var>root</var>,
    <var>indent</var>, list <var>members</var>, list
    <var>printed</var>)</i></dt>
    <dd>
      <a name="IDX179"
          id="IDX179"></a> This verb is called by <samp>`@classes'</samp> to
          print the members of the classes given in <var>members</var>. It is
          called recursively to list all the children of every class in
          <var>members</var>. If <var>root</var> is in the list of
          <var>members</var> then it is printed as the class root name.
          Otherwise, it is printed as a member of the class. For every child
          of the <var>root</var>, if it is in the set <var>printed</var>,
          <code>this:classes_2</code> is called, to print any descendants.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>who_location_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX180"
          id="IDX180"></a>
    </dd>
    <dt><u>Verb:</u> str <b>whereis_location_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX181"
          id="IDX181"></a>
    </dd>
    <dt><u>Verb:</u> str <b>page_origin_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX182"
          id="IDX182"></a>
    </dd>
    <dt><u>Verb:</u> str <b>page_echo_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX183"
          id="IDX183"></a>
    </dd>
    <dt><u>Verb:</u> str <b>page_absent_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX184"
          id="IDX184"></a> These verbs return the value of the corresponding
          property on the player after pronoun substitution. They are
          provided to allow the player to override the verbs for more
          distinctive and complex messages.
    </dd>
  </dl>
  <p>The following properties are defined for the <code>$player</code>
  class.</p>
  <dl>
    <dt><u>Property:</u> <b>current_message</b></dt>
    <dd>
      <a name="IDX185"
          id="IDX185"></a> This property contains an integer index into the
          list of MOO Mail messages currently stored in the
          <code>messages</code> property. It is used by the mail handler to
          determine which message the player is currently looking at.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>messages</b></dt>
    <dd>
      <a name="IDX186"
          id="IDX186"></a> This property contains a list of mail messages.
          Each mail message is a list in the following format:
      <pre>
{<var>num</var>, {<var>line-1</var>, <var>line-2</var>, ..., <var>line-n</var>}}
</pre>
      <p><var>num</var> gives the message number used in the various MOO mail
      commands. The list of strings contains the text of the message, one
      line per string.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>last_connect_time</b></dt>
    <dd>
      <a name="IDX187"
          id="IDX187"></a> This property is an integer, holding the time that
          this player last connected to the MUD. The integer is in the format
          returned by the <code>time()</code> primitive, i.e., the number of
          seconds elasped since 1 January 1970, GMT.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>ownership_quota</b></dt>
    <dd>
      <a name="IDX188"
          id="IDX188"></a> This property stores the current quota for the
          player. It is not accessible by the player, to prevent you
          increasing your building quota arbitrarily. This field can be only
          changed by a wizard.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>gender</b></dt>
    <dd>
      <a name="IDX189"
          id="IDX189"></a> This property is used to hold a string
          representing the gender of the player. In the normal case, this is
          one of <samp>`male'</samp>, <samp>`female'</samp>,
          <samp>`neuter'</samp>. This property is affected by the
          <samp>`@gender'</samp> command.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>ps</b></dt>
    <dd>
      <a name="IDX190"
          id="IDX190"></a> This property is used to hold the subjective
          pronoun, set to either "he", "she" or "it" as appropriate.
          <code>string_utils:pronoun_sub</code> replaces the string
          <code>"%s"</code> with the value of this property.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>po</b></dt>
    <dd>
      <a name="IDX191"
          id="IDX191"></a> This property is used to hold the objective
          pronoun, set to either "him", "her" or "it" as appropriate.
          <code>string_utils:pronoun_sub</code> replaces the string
          <code>"%o"</code> with the value of this property.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>pp</b></dt>
    <dd>
      <a name="IDX192"
          id="IDX192"></a> This property is used to hold the possessive
          pronoun, set to either "his", "her" or "its" as appropriate.
          <code>string_utils:pronoun_sub</code> replaces the string
          <code>"%p"</code> with the value of this property.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>pr</b></dt>
    <dd>
      <a name="IDX193"
          id="IDX193"></a> This property is used to hold the reflexive
          pronoun, set to either "himself", "herself" or "itself" as
          appropriate. <code>string_utils:pronoun_sub</code> replaces the
          string <code>"%r"</code> with the value of this property.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>pq</b></dt>
    <dd>
      <a name="IDX194"
          id="IDX194"></a> This property is used to hold the possessive
          pronoun in it's noun form, set to either "his", "hers" or "its" as
          appropriate. <code>string_utils:pronoun_sub</code> replaces the
          string <code>"%q"</code> with the value of this property.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>psc</b></dt>
    <dd>
      <a name="IDX195"
          id="IDX195"></a> This property is used to hold the subjective
          pronoun, set to either "He", "She" or "It" as appropriate.
          <code>string_utils:pronoun_sub</code> replaces the string
          <code>"%S"</code> with the value of this property.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>poc</b></dt>
    <dd>
      <a name="IDX196"
          id="IDX196"></a> This property is used to hold the objective
          pronoun, set to either "Him", "Her" or "It" as appropriate.
          <code>string_utils:pronoun_sub</code> replaces the string
          <code>"%O"</code> with the value of this property.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>ppc</b></dt>
    <dd>
      <a name="IDX197"
          id="IDX197"></a> This property is used to hold the possessive
          pronoun, set to either "His", "Her" or "Its" as appropriate.
          <code>string_utils:pronoun_sub</code> replaces the string
          <code>"%P"</code> with the value of this property.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>prc</b></dt>
    <dd>
      <a name="IDX198"
          id="IDX198"></a> This property is used to hold the reflexive
          pronoun, set to either "Himself", "Herself" or "Itself" as
          appropriate. <code>string_utils:pronoun_sub</code> replaces the
          string <code>"%R"</code> with the value of this property.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>pqc</b></dt>
    <dd>
      <a name="IDX199"
          id="IDX199"></a> This property is used to hold the possessive
          pronoun in it's noun form, set to either "His", "Hers" or "Its" as
          appropriate. <code>string_utils:pronoun_sub</code> replaces the
          string <code>"%Q"</code> with the value of this property.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>home</b></dt>
    <dd>
      <a name="IDX200"
          id="IDX200"></a> This property stores the object number of the
          player's <em>home</em>. This is the place that the player is taken
          to when s/he types in <samp>`home'</samp>. The home room is
          normally either a general sleeping area, or the player's hotel room
          or apartment.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>password</b></dt>
    <dd>
      <a name="IDX201"
          id="IDX201"></a> This property stores the encrypted password used
          to connect to the LambdaMOO server as this player. It is changed by
          using the <samp>`@password'</samp> command, and is checked by the
          server upon login.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>gaglist</b></dt>
    <dd>
      <a name="IDX202"
          id="IDX202"></a> This property stores a list of object numbers. Any
          output received, using <code>$player:tell</code> from any of the
          objects in the list is filtered out of the text sent to the
          player's terminal screen. Items are added and deleted to this list
          using the <samp>`@gag'</samp> and <samp>`@ungag'</samp> commands.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>paranoid</b></dt>
    <dd>
      <a name="IDX203"
          id="IDX203"></a> This property is an integer, representing the
          <em>paranoid level</em> of the player. If set to <samp>`2'</samp>,
          any output received by the player, via <code>$player:tell</code> is
          prefixed with the name of the object that originated the message.
          This is used to that a player can detect spoof output from other
          players or objects.
      <p>If set to <samp>`1'</samp>, any messages sent using
      <code>$player:tell</code> are stored in a small cache in the property
      <code>responsible</code>, along with details of where the message came
      from. This can be used for later checking with the
      <samp>`@check'</samp> command.</p>
      <p>If set to <samp>`0'</samp>, no spoof checking is performed. This is
      the normal case.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>responsible</b></dt>
    <dd>
      <a name="IDX204"
          id="IDX204"></a> This property stores a list in the following
          format:
      <pre>
{<var>callers</var>, <var>text</var>}
</pre>
      <p>The <var>callers</var> part is in the same format returned by the
      <code>callers()</code> primitive, and lists the <em>verb stack</em> at
      the time that the message stored in <var>text</var> was sent.</p>
      <p>This property is set by <code>$player:tell</code> and looked at by
      <code>$player:@check</code>. It contains a maximum number of entries,
      as determined by the value of the <code>lines</code> property on the
      player.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>lines</b></dt>
    <dd>
      <a name="IDX205"
          id="IDX205"></a> This property stores the number of lines kept in
          the property <code>responsible</code> for anti-spoof checking.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>object_gaglist</b></dt>
    <dd>
      <a name="IDX206"
          id="IDX206"></a> This property holds a list of objects that are in
          the player's <em>gaglist</em>. Any output from these objects is
          ignored by the player's <code>:tell</code> verb.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>page_absent_msg</b></dt>
    <dd>
      <a name="IDX207"
          id="IDX207"></a> This property holds the message sent to someone
          when they try to page the player while s/he is not connected. It
          may contain the usual pronoun substitutions. The default value is
          <samp>`%n is not currently logged in.'</samp>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>page_origin_msg</b></dt>
    <dd>
      <a name="IDX208"
          id="IDX208"></a> This property holds the message sent to a player
          you page, telling them where you are. The default message is
          <samp>`You sense that %n is looking for you in %l.'</samp>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>page_echo_msg</b></dt>
    <dd>
      <a name="IDX209"
          id="IDX209"></a> This property holds the message sent to a player
          that pages you when you are logged in. The default message is
          <samp>`Your message has been sent.'</samp>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>whereis_location_msg</b></dt>
    <dd>
      <a name="IDX210"
          id="IDX210"></a> This property holds the message sent when someone
          locates you through the <samp>`@whereis'</samp> command. The
          default message is <samp>`%N (%#) is in %l (%[#l]).'</samp> This
          might expand out to something like
      <pre>
Blip (#35) is in The Toilet (#96).
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>who_location_msg</b></dt>
    <dd>
      <a name="IDX211"
          id="IDX211"></a> This property holds the message printed in a
          <em>who list</em> to inform other player's of your location. The
          default value is <samp>`%l'</samp>, which returns your current
          location.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>mail_notify</b></dt>
    <dd>
      <a name="IDX212"
          id="IDX212"></a>
    </dd>
    <dt><u>Property:</u> <b>mail_options</b></dt>
    <dd>
      <a name="IDX213"
          id="IDX213"></a>
    </dd>
    <dt><u>Property:</u> <b>mail_forward</b></dt>
    <dd>
      <a name="IDX214"
          id="IDX214"></a> These properties define your MOO mail environment.
          They are discussed in more detail in the section on the MOO Mail
          system.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>edit_options</b></dt>
    <dd>
      <a name="IDX215"
          id="IDX215"></a> This property defines your MOO editor environment.
          It is discussed in more detail in the section on the MOO editor.
    </dd>
  </dl>
  <h2><a name="SEC9"
     href="LambdaCoreProgMan_toc.html#TOC9"
     id="SEC9">The Mail Room Class</a></h2>
  <p>*** To be updated for MOO 1.3 ***</p>
  <p>This class provides the mail facility used within LambdaMOO. Some would
  say that to provide an electronic mail facility within a game is slightly
  insane, but it is very useful for passing around game related messages.
  Coupled with the use of a suitable client program, for example the
  excellent <code>mud.el</code> with MOO Mail extensions, sending MOO mail
  can be easy and efficient. It also allows players to separate their MOO
  based mail from other, more important mail.</p>
  <p>LambdaMOO does not yet provide any facility for reading input from a
  player. For this reason, programs such as the mail room use a pseudo-room
  to catch player input. For example, when you start to compose a mail
  message, you are transported to the mail pseudo-room. Once there, anything
  you enter is trapped by various verbs in the room, and stored in the
  message you are entering.</p>
  <p>This method means that commands used in the mail composition environment
  are actually verbs on the mail pseudo-room.</p>
  <p>Mail messages are actually stored on the player object, in a property
  list called <code>messages</code>. Each message occupies one entry, called
  a <em>mail record</em>, in the following format:</p>
  <pre>
{<var>num</var>, {<var>date</var>, <var>from</var>, <var>to</var>, <var>subject</var>, <var>line1</var>, ..., <var>lineN</var>} }
</pre>
  <p>Apart from the <var>num</var> field, these are all strings. The
  <var>num</var> field stores the message number for each message. When a new
  piece of mail arrives, it is allocated a message number 1 greater than the
  last message in the player's mailbox. If the mailbox is empty, the message
  is numbered <samp>`1'</samp>. Each message retains it's unique message
  number until it is deleted using <samp>`@rmmail'</samp>.</p>
  <p>The number of messages in the mailbox is given by the length of the
  messages list. A <em>current message</em> pointer is maintained in the
  property <code>$player.current_message</code>. This is used to determine
  which message to print when the <samp>`@read'</samp> command is used.</p>
  <p>The MOO Mail system is implemented by four separate objects, and some
  verbs on the <code>$player</code> class:</p>
  <ul>
    <li>The Mail Room/Editor <code>($mail_room or $mail_editor)</code>. This
    room is the place where mail messages are composed. It also contains a
    number of mail utility verbs. The mail editor is a child of the
    <code>Generic Editor</code>.</li>
    <li>The Mail Distribution Center <code>($mail_agent)</code>. This is a
    child of <code>$root_class</code> and has verbs used to handle mail
    distribution. It is also the database of <em>mailing lists</em> and
    <em>mail folders</em>.</li>
    <li>The Generic Mail Recipient <code>($mail_recipient)</code>. This is a
    special class used to set up <em>mailing lists</em> and
    <em>folders</em>.</li>
    <li>The Player Class <code>($player)</code>. This class holds various
    player commands used to deal with the MOO Mail system.</li>
  </ul>
  <p>The sections that follow detail the verbs in each of the classes, along
  with any relevant properties.</p>
  <h3><a name="SEC10"
     href="LambdaCoreProgMan_toc.html#TOC10"
     id="SEC10">Mail Commands and Properties on The Player Class</a></h3>
  <p>A number of verbs are defined in the <code>$player</code> class to
  provide access to the mail system. These verbs are detailed below:</p>
  <dl>
    <dt><u>Verb:</u> none <b>@mail</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX216"
          id="IDX216"></a> This command is used to list the messages
          currently stored in the player's mailbox. Mail messages are stored
          in the property list <code>messages</code> on the player. This is a
          list of complete messages, stored one per list item, in the format
          shown above.
      <p>The <samp>`@mail'</samp> command first checks the current message
      number still exists, using the verb
      <code>this:fix_current_message</code>. It then attempts to parse the
      arguments given to it, to get a set of message numbers that the user
      wishes to have displayed. The possible arguments are as follows :-</p>
      <pre>
</pre>
      <dl compact="compact">
        <dt><code>cur</code></dt>
        <dd>- the current message</dd>
        <dt><code>new</code></dt>
        <dd>- all messages after the current message</dd>
        <dt><code><var>num</var></code></dt>
        <dd>- (where <var>num</var> is a number) the message numbered
        <var>num</var> if there is one.</dd>
        <dt><code><var>num1</var>-<var>num2</var></code></dt>
        <dd>- all messages in the given range, if any.</dd>
        <dt><code>last:<var>num</var></code></dt>
        <dd>- the last <var>num</var> messages</dd>
        <dt><code>-<var>num</var></code></dt>
        <dd>- the last <var>num</var> messages</dd>
      </dl>
      <pre>
</pre>
      <p>These may be combined on the <samp>`@mail'</samp> command line. When
      a list of messages to display has been gathered in the variable
      <code>msglist</code>, the following code is used to display the list to
      the user:</p>
      <pre>
for x in (msglist)
  msg_num = x[1];
  player:tell(this.current_message == msg_num ? "-&gt; " | "   ", 
              $string_utils:right(msg_num, 2), ":  ", 
              $mail_recipient:summary_line(x[2]));
endfor
</pre>
      <p>For example,</p>
      <pre>
You have 3 messages:
    1:  May 30 12:18   Ezeke (#57)   Classes Documentation
    2:  Jun  4 19:35   Ezeke (#57)   Room contents using title()
-&gt;  3:  Jun  5 10:23   Ezeke (#57)   Potential problems
</pre>
      <p>The pointer, <samp>`-&gt;'</samp> indicates the current message. The
      date, subject and sender of each message, along with the message
      number, is taken from the relevant mail record stored in the player's
      <code>messages</code> property.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@rmm*ail</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX217"
          id="IDX217"></a> This command is used to delete mail from the
          player's mailbox property, <code>messages</code>. The verb takes
          each message number given as an argument, and searches for the
          message in the player's mailbox. If an argument is the string
          <samp>`cur'</samp>, then this is taken as the number of the current
          message.
      <p>If a match is found, by checking the first entry in each <em>mail
      record</em>, the message is removed from the <code>messages</code>
      property list. If a message is not found, the player is informed with a
      suitable message.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@send</b> <i><var>player1</var>
    <var>player2</var> ...</i></dt>
    <dd>
      <a name="IDX218"
          id="IDX218"></a> This command is used to send mail messages to
          other players. The verb simply calls
      <pre>
$mail_editor:invoke(args, verb, this.mail_options)
</pre>
      <p>to start composition of a message.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@read</b></dt>
    <dd>
      <a name="IDX219"
          id="IDX219"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@read</b> <i><var>num1</var> <var>num2</var>
    ...</i></dt>
    <dd>
      <a name="IDX220"
          id="IDX220"></a> This command is used to read mail messages in the
          player's mailbox. If no argument is given, the <em>current
          message</em> is displayed on the player's terminal screen. If a
          list of one or more message numbers is given, each message is
          printed out, in turn.
      <p>The verb first checks to see if an argument has been given. If this
      is not the case, it attempts to get the current message number, and use
      this as the argument. If there are no messages, or no possible current
      message, the verb is aborted with a warning message to the player.</p>
      <p>Once the message number(s) to display has been decided, a loop is
      entered which lists each message in turn. For each message number given
      the mailbox is searched for the message with that number. If no message
      is found with a given number, a warning message is sent to the
      user.</p>
      <p>Printing a message simply involves printing the message number, and
      the message text - the second item in the mail record.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@answer</b></dt>
    <dd>
      <a name="IDX221"
          id="IDX221"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@answer</b> <i><var>msg</var></i></dt>
    <dd>
      <a name="IDX222"
          id="IDX222"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@reply</b></dt>
    <dd>
      <a name="IDX223"
          id="IDX223"></a>
    </dd>
    <dt><u>Verb:</u> none <b>@reply</b> <i><var>msg</var></i></dt>
    <dd>
      <a name="IDX224"
          id="IDX224"></a> This command is used to reply to a message sent by
          another player. If no argument is given, the current message number
          (if valid) is taken to be the message to reply to. Once a valid
          message has been located in the player's <code>messages</code>
          property, the verb
      <pre>
$mail_editor:invoke(2, verb, x[2], {@this.mail_options, @args});
</pre>
      <p>is invoked to allow the player to compose a reply, where
      <var>x</var> is the message being replied to.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>receive_message</b> <i>(list
    <var>message</var>)</i></dt>
    <dd>
      <a name="IDX225"
          id="IDX225"></a> This function is called by other mail system verbs
          to place a message in the player's mailbox property,
          <code>messages</code>. If the calling verb has permission to modify
          the properties on the player, the message is simply added to the
          end of the current list of messages, and given a message number one
          greater than the maximum current message number.
      <p>A notification is sent to the player, informing him/her that new
      mail has arrived. The verb returns <samp>`1'</samp> for a successful
      delivery, and an error code (normally <code>E_PERM</code>)
      otherwise.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>fix_current_message</b> <i>()</i></dt>
    <dd>
      <a name="IDX226"
          id="IDX226"></a> This verb is used to validate the <em>current
          message</em> number property on the player. For example, if a
          player deletes the current message, then the number stored in the
          <code>current_message</code> property no longer points to a valid
          message. This verb checks through all the messages in the mailbox,
          <code>player.messages</code>, until it finds message number
          <code>current_message</code>, or it passes the place in the list
          where the current message is supposed to be. If this happens, the
          current message property is set to the next message along in the
          list. If this does not produce a valid message number, then the
          current message is taken to be the last message on the list, or
          <samp>`0'</samp> if there are no more messages.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@next</b> <i>()</i></dt>
    <dd>
      <a name="IDX227"
          id="IDX227"></a> This command is used to advance the current
          message pointer to the next message in the player's mailbox. This
          is done by incrementing the pointer, and then calling
          <var>$player:fix_current_message</var> to validate it. If there is
          no message after the current message, the pointer is moved off the
          list.
      <p>Once a new current message has been found, it is printed out using
      the <code>$player:@read</code> verb.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@prev</b> <i>()</i></dt>
    <dd>
      <a name="IDX228"
          id="IDX228"></a> This command is used to backtrack the current
          message pointer to the previous message in the player's mailbox.
          This is done by looking for the current message in the message
          list, and then decrementing the index that expression returns by
          one place.
      <p>Once a new current message has been found, it is printed out using
      the <code>$player:@read</code> verb.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@renumber</b> <i>()</i></dt>
    <dd>
      <a name="IDX229"
          id="IDX229"></a> This verb is used to renumber the messages in a
          player's mailbox to all consecutive numbers, starting from one.
          After checking that the person invoking the verb has permission to
          perform the renumbering, and there are messages to renumber, the
          verb executes the following code:
      <pre>
newmsgs = {};
i = 0;
for x in (this.messages)
  newmsgs = {@newmsgs, {i = i + 1, x[2]}};
endfor
this.messages = newmsgs;
</pre>
      <p>which is fairly self explanatory. The current message number is
      preserved by getting it's index in the list of messages. This is the
      number that the message will have after the renumbering operation.</p>
    </dd>
  </dl>
  <h3><a name="SEC11"
     href="LambdaCoreProgMan_toc.html#TOC11"
     id="SEC11">The Mail Room or Mail Editor</a></h3>
  <p>When a player wishes to send a mail message, s/he is transported to the
  mail room to compose the message. This room is a child of the generic
  editor, and provides all the functions documented in the section on that
  class. In addition, it provides verbs and properties related specifically
  to the sending of mail messages. The following section describes each of
  the <code>$mail_room</code> verbs and properties in detail.</p>
  <dl>
    <dt><u>Verb:</u> string <b>working_on</b> <i>(num
    <var>who</var>)</i></dt>
    <dd>
      <a name="IDX230"
          id="IDX230"></a> This verb returns a string describing the mail
          message currently being worked on by the player identified by
          <var>who</var>. It executes the following code:
      <pre>
return this:ok(who = args[1]) &amp;&amp; "a letter to " + 
               this:recipient_names(who) + 
               ((subject = this.subjects[who]) &amp;&amp; 
               " entitled \"" + subject + "\"");
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>parse_invoke</b> <i>(<var>args</var>)</i></dt>
    <dd>
      <a name="IDX231"
          id="IDX231"></a> This verb parses the arguments given to
          <code>$mail_room:invoke</code> to determine the type of mail editor
          invocation required - either produced by an <samp>`@answer'</samp>
          or a <samp>`@send'</samp> command. In the latter case, the
          arguments passed to <code>$mail_room:invoke</code> are
      <pre>
invoke(<var>rcpts</var>, <var>verb</var>, <var>flags</var> [, <var>subject</var>])
</pre>
      <p>The argument <var>rcpts</var> is a list of recipients for the
      message. This list is parsed using the verb
      <code>$mail_room:parse_recipients()</code>. The <var>flags</var>
      parameter is a list of possible mail options. In this case, it is
      searched for the <code>replyto</code> option, and a variable set if it
      is found. The parameter <var>subject</var> can optionally give the
      subject for the message. For an <samp>`@send'</samp> command, the
      returned list from this verb contains the following information:</p>
      <pre>
{list <var>rcpts</var>, str <var>subject</var>, str <var>replyto</var>, {}}
</pre>
      <p>For an <code>@answer</code> command, the arguments are</p>
      <pre>
invoke(2, <var>verb</var>, <var>msg</var>, <var>flags</var>)
</pre>
      <p>For answering a message, a different set of information is given and
      returned. The verb <code>$mail_editor:parse_msg_headers</code> is used
      to parse the options given by the player into a variable
      <var>hdrs</var>.</p>
      <p>Several options can be specified in this way to the
      <samp>`@answer'</samp> command. as shown below.</p>
      <pre>
</pre>
      <dl compact="compact">
        <dt><code>incl</code></dt>
        <dd>- include the original message text.</dd>
        <dt><code>all</code></dt>
        <dd>- reply to everyone in the mail header.</dd>
        <dt><code>sender</code></dt>
        <dd>- reply to the sender only.</dd>
        <dt><code>noincl</code></dt>
        <dd>- do not include the original message in your reply.</dd>
      </dl>
      <pre>
</pre>
      <p>If the <samp>`incl'</samp> option is given, the original message
      text is placed into a variable <var>incl</var> for returned to the
      calling verb. Every line is prepended with the characters
      <var>&gt;</var>, as one would expect.</p>
      <p>The list shown below is returned to the calling verb:</p>
      <pre>
{<var>hdrs</var>, <var>include</var>}
</pre>
      <p>where <var>hdrs</var> is the list returned by parsing <var>msg</var>
      supplied to the verb, and <var>include</var> contains any included
      message text.</p>
      <p>If any problem is encountered in parsing the message headers, or in
      recognising which command originated the call to this verb,
      <samp>`0'</samp> is returned.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>init_session</b> <i>()</i></dt>
    <dd>
      <a name="IDX232"
          id="IDX232"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>pri*nt</b> <i>()</i></dt>
    <dd>
      <a name="IDX233"
          id="IDX233"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>print_msg</b> <i>()</i></dt>
    <dd>
      <a name="IDX234"
          id="IDX234"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>message_with_headers</b> <i>()</i></dt>
    <dd>
      <a name="IDX235"
          id="IDX235"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>subj*ect:</b> <i>()</i></dt>
    <dd>
      <a name="IDX236"
          id="IDX236"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>set_subject</b> <i>()</i></dt>
    <dd>
      <a name="IDX237"
          id="IDX237"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>to*:</b> <i>()</i></dt>
    <dd>
      <a name="IDX238"
          id="IDX238"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>also*-to:</b> <i>cc*: ()</i></dt>
    <dd>
      <a name="IDX239"
          id="IDX239"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>parse_recipients</b> <i>()</i></dt>
    <dd>
      <a name="IDX240"
          id="IDX240"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>recipient_names</b> <i>()</i></dt>
    <dd>
      <a name="IDX241"
          id="IDX241"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>make_message</b> <i>()</i></dt>
    <dd>
      <a name="IDX242"
          id="IDX242"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>name_list</b> <i>()</i></dt>
    <dd>
      <a name="IDX243"
          id="IDX243"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>parse_msg_headers</b> <i>()</i></dt>
    <dd>
      <a name="IDX244"
          id="IDX244"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>check_answer_flags</b> <i>()</i></dt>
    <dd>
      <a name="IDX245"
          id="IDX245"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>reply-to*:</b> <i>replyto*: ()</i></dt>
    <dd>
      <a name="IDX246"
          id="IDX246"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>send</b> <i>()</i></dt>
    <dd>
      <a name="IDX247"
          id="IDX247"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>who</b> <i>()</i></dt>
    <dd>
      <a name="IDX248"
          id="IDX248"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>showlists</b> <i>()</i></dt>
    <dd>
      <a name="IDX249"
          id="IDX249"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>send_message</b> <i>()</i></dt>
    <dd>
      <a name="IDX250"
          id="IDX250"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>subsc*ribe</b> <i>()</i></dt>
    <dd>
      <a name="IDX251"
          id="IDX251"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>unsubsc*ribe</b> <i>()</i></dt>
    <dd>
      <a name="IDX252"
          id="IDX252"></a>
    </dd>
  </dl>
  <p>The following properties are also defined on the
  <code>$mail_editor</code> or <code>$mail_room</code> class:</p>
  <dl>
    <dt><u>Property:</u> <b>replytos</b> <i>()</i></dt>
    <dd>
      <a name="IDX253"
          id="IDX253"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>recipients</b> <i>()</i></dt>
    <dd>
      <a name="IDX254"
          id="IDX254"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>subjects</b> <i>()</i></dt>
    <dd>
      <a name="IDX255"
          id="IDX255"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>accept</b> <i>(obj <var>thing</var>)</i></dt>
    <dd>
      <a name="IDX256"
          id="IDX256"></a> This verb overrides the <code>$room</code> class
          definition. In this case, <var>thing</var> is allowed to enter the
          room only if it is in the list <code>$mail_room:writers</code>. In
          practice, this stops anyone from moving into the room, unless they
          have used a mail system command that enters their object number
          into the list of <em>message writers</em>. This is necessary
          because the action of entering the room causes certain mail related
          state to be setup.
      <p>Note that the normal way to enter the mail room is to use the
      <samp>`@send'</samp>, for example. When a player enters the room using
      one of the mail commands, s/he is added to the list of writers. If, for
      some reason, the player has to <samp>`@move'</samp> out of the room,
      then s/he can move back in using <samp>`@move'</samp> because s/he is
      in the <code>$mail_room:writers</code> list.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>enterfunc</b> <i>(obj
    <var>player</var>)</i></dt>
    <dd>
      <a name="IDX257"
          id="IDX257"></a> This function is triggered when a player moves
          into the room by the LambdaMOO server. It performs a number of
          actions related to setting up the state of the mail room ready for
          the user to interact with the mail system. The code for this verb
          is shown below:
      <pre>
who = args[1];
recips = this:recipient_names(who);
if (this:message_so_far(who))
  player:tell("You are in the middle of writing a letter to ", 
          recips, ".  To discard that message, type 'abort'.");
  this:print_msg(who);
else
  player:tell("Sending a message to ", recips, " ...");
  pass(@args);
endif
</pre>
      <p>First, we get the list of recipients for the mail message (specified
      before the player has entered the room). If the player already has part
      of a message stored in the mail room, then s/he is allowed to continue
      the message.</p>
      <p>Finally, <code>pass()</code> is used to invoke the
      <code>$room</code> class verb <code>:enterfunc</code>.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>add_writer</b> <i>(obj <var>player</var>, list
    <var>recipients</var>)</i></dt>
    <dd>
      <a name="IDX258"
          id="IDX258"></a> This verb is used to add a plyer to the list of
          people composing letters in the mail room. Only players are allowed
          to do this. If the player is not already composing a message, then
          s/he is simply added to the list of <em>writers</em> for the room.
          This causes <var>player</var> to be added to the
          <code>$mail_room:writers</code> property.
      <p>In addition to this, the <code>recipients</code> list is added to
      the list, <code>$mail_room:recipients</code>. The original location of
      the player (before being moved to the mail room) is stored in the
      <code>$mail_room:places</code> list. The subject line and message text
      for this message is set to the empty string, in the property lists
      <code>$mail_room:subjects</code> and <code>$mail_room:messages</code>.
      The message is also marked as being abortable, by adding a
      <samp>`0'</samp> to the <code>$mail_room:abortable</code> list. This is
      done because there is no warning given for deletion of an empty
      message.</p>
      <p>If the player is already in the list of people composing messages in
      the mail room, then the <code>listset()</code> primitive is used to
      change the recipients, subject and abortable property for the message
      associated with the player. This means that a player can only be
      composing one message at a time.</p>
      <p>Once the above has been performed, the player is moved from his/her
      current location to the mail room. A suitable message is sent to all
      the objects in the player's current location telling them what has
      happened.</p>
      <p>Throughout all user interaction in the mail room, the position of
      the player object reference in the <code>$mail_room:writers</code> list
      is used to index into all the other property lists used when dealing
      with a mail message.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>recipients</b> <i>(obj
    <code>player</code>)</i></dt>
    <dd>
      <a name="IDX259"
          id="IDX259"></a> This verb returns the list of recipients for the
          message being composed by <var>player</var>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>message_so_far</b> <i>(obj
    <var>player</var>)</i></dt>
    <dd>
      <a name="IDX260"
          id="IDX260"></a> This verb returns the text of the message
          currently being composed by <var>player</var>. This is returned as
          a list of strings.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>say</b> <i>(string <var>text</var>)</i></dt>
    <dd>
      <a name="IDX261"
          id="IDX261"></a> This verb overrides the <code>$room</code> class
          definition. It is intercepted to allow the mail program to capture
          input from the user to append to the message currently being
          composed. The <code>$mail_room:say</code> verb itself just passes
          the player object reference and <var>text</var> to the
          <code>$mail_room:add_line</code> verb for processing.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>emote</b> <i>(string <var>text</var>)</i></dt>
    <dd>
      <a name="IDX262"
          id="IDX262"></a> This verb overrides the <code>$room</code> class
          definition. It is intercepted to allow the mail program to capture
          input from the user to append to the message currently being
          composed. The <code>$mail_room:say</code> verb itself just passes
          the player object reference and <var>text</var>, with the player
          name prepended, to the <code>$mail_room:add_line</code> verb for
          processing.
      <p>This allows both <samp>`say'</samp> and <samp>`emote'</samp> input
      to be captured in the current message.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>add_line</b> <i>(obj <var>player</var>, string
    <var>text</var>)</i></dt>
    <dd>
      <a name="IDX263"
          id="IDX263"></a> This verb is used to add <var>text</var> to the
          current message being composed by <var>player</var>. Once a line
          has been added to a text message, it is not allowed to be
          immediately aborted. This is set using the
          <code>$mail_room:clear_abortable</code> verb.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>print</b> <i>()</i></dt>
    <dd>
      <a name="IDX264"
          id="IDX264"></a> This verb is a player command used to print the
          text stored in the current message. The code itself first allows
          the message to be aborted, using
          <code>$mail_room:clear_abortable</code>, and then calls
          <code>$mail_room:print_msg</code> to print the message text.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>print_msg</b> <i>(obj
    <var>player</var>)</i></dt>
    <dd>
      <a name="IDX265"
          id="IDX265"></a> This verb prints the text of the current message
          being composed by <code>player</code>. Again, the code is fairly
          simple, and is shown below:
      <pre>
who = args[1];
who:tell("Your message so far:");
who:tell();
who:tell_lines(this:message_with_headers(who));
who:tell();
who:tell("&lt;End of message&gt;");
</pre>
      <p>Note the use of the <code>$root_class:tell_lines</code> verb to
      print the message contents.
      <code>$mail_room:message_with_headers</code> returns a list of strings
      comprising the mail header, and message text.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>recipient_names</b> <i>(obj
    <var>player</var>)</i></dt>
    <dd>
      <a name="IDX266"
          id="IDX266"></a> This verb returns a list of the names of the
          recipients of the current message being composed by
          <code>player</code>. It retrieves the correct list of recipients
          from the <code>$mail_room:recipients</code> property list, and then
          maps this from a list of object references to a list of object
          names using <code>$mail_room:name_list</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>pause</b> <i>()</i></dt>
    <dd>
      <a name="IDX267"
          id="IDX267"></a> This is a player command used to temporarily stop
          composition of a message by a player. A suitable message is printed
          by the player, and then the <code>$mail_room:send_back</code> verb
          is invoked to send the player back to the room s/he was in when
          letter composition was started.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>send_back</b> <i>(obj
    <var>player</var>)</i></dt>
    <dd>
      <a name="IDX268"
          id="IDX268"></a> This verb is used to return a player to the room
          s/he was in when a letter composition command was invoked. When a
          player enters the mail room, the original location of the player is
          stored in the property list <code>$mail_room:places</code>. This
          verb causes that location to be looked up, and the player is
          returned to his/her original location. A suitable message is sent
          to the objects in the player's original location to inform them
          that s/he has returned from the mail room.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>look_self</b> <i>()</i></dt>
    <dd>
      <a name="IDX269"
          id="IDX269"></a> This verb overrides the <code>$room</code> class
          definition. This is done to inhibit the room name and contents list
          being printed when the player uses the <samp>`look'</samp> command.
          Instead, this verb uses <code>$mail_room:description</code> as help
          text, which is sent to the player using
          <code>$root_class:tell_lines</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>help</b> <i>()</i></dt>
    <dd>
      <a name="IDX270"
          id="IDX270"></a> This verb is a player command invoked to get some
          help on the mail room facilities. This results in the
          <code>$mail_room:look_self</code> verb being called to print the
          help text stored in the mail room description. Note that this
          overrides, also, the LambdaMOO help system.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>abort</b> <i>()</i></dt>
    <dd>
      <a name="IDX271"
          id="IDX271"></a> This is a player command used to abort composition
          of a message, and throw the text away. A check is made to see if
          the message is abortable. If it is, then the player is sent back to
          his/her original location, and the message is destroyed using
          <code>$mail_room:destroy</code>.
      <p>If this message is marked as being non-abortable, the player is
      given an <samp>`Are you sure?!'</samp> message. The
      <code>$mail_room:abortable</code> property is used to provide a safety
      net for players. Typing <code>abort</code> once will not throw away the
      message, unless it is empty.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>abortable</b> <i>(obj <var>player</var>)</i></dt>
    <dd>
      <a name="IDX272"
          id="IDX272"></a> This verb is used to return the
          <code>abortable</code> status of the message currently being
          entered by <code>player</code>. The
          <code>$mail_room:abortable</code> property list contains a boolean
          value for each player currently composing a message. The mechanism
          is included to stop a player accidentally deleting a message by
          using the <samp>`abort'</samp> command. If the
          <code>abortable</code> flag for a message is set, then the message
          may be deleted by using the <samp>`abort'</samp> command. If the
          flag is clear, then deletion is prevented.
      <p>One invocation of <samp>`abort'</samp> results in an <samp>`Are you
      sure?!'</samp> message being printed, and the
      <code>$mail_room:abortable</code> flag for the player's message is
      reset to allow aborts. A subsequent <samp>`abort'</samp> by the player
      will then destroy the message.</p>
      <p>An empty message can be aborted without any warning. Once a line of
      text has been entered into a message, this saftey feature is enabled by
      clearing the <code>abortable</code> flag for the message.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>set_abortable</b> <i>obj
    <var>player</var></i></dt>
    <dd>
      <a name="IDX273"
          id="IDX273"></a> This verb is used to set the
          <code>$mail_room:abortable</code> flag for the message currently
          being composed by <var>player</var>. If the flag is set, the
          message is allowed to be aborted.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>clear_abortable</b> <i>()</i></dt>
    <dd>
      <a name="IDX274"
          id="IDX274"></a> This verb is used to clear the
          <code>$mail_room:abortable</code> flag for the message currently
          being composed by <var>player</var>. If the flag is reset, the
          message cannoted be aborted.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>exitfunc</b> <i>obj (<var>player</var>)</i></dt>
    <dd>
      <a name="IDX275"
          id="IDX275"></a> This verb is invoked when a player leaves the mail
          room. It clears the <code>abortable</code> flag for the
          <var>player</var>'s message, and then invokes the
          <code>exitfunc</code> of the parent class.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>destroy</b> <i>(obj <var>player</var>)</i></dt>
    <dd>
      <a name="IDX276"
          id="IDX276"></a> This verb is used to delete the message currently
          being composed by <var>player</var>. This involves removing the
          message state from the various property lists stored in the room.
          The code for this verb is shown below, as the best explanation:
      <pre>
who = args[1];
pos = who in this.writers;
this.writers = listdelete(this.writers, pos);
this.recipients = listdelete(this.recipients, pos);
this.messages = listdelete(this.messages, pos);
this.places = listdelete(this.places, pos);
this.abortable = listdelete(this.abortable, pos);
this.subjects = listdelete(this.subjects, pos);
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>send</b> <i>()</i></dt>
    <dd>
      <a name="IDX277"
          id="IDX277"></a> This verb is a player command invoked to send the
          current message to the list of recipients. It retrieves the message
          as a list of strings, and then sends it to each recipient in turn.
          Note that no third part mail agent is involved. When the
          <samp>`send'</samp> command is invoked by a player, it delivers
          mail to the recipients using the verb
          <code>$player:receive_message</code>.
      <p>After a message has been sent, it is destroyed. The invoking player
      is returned to the room s/he was in when the mail system was
      started.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>message_with_headers</b> <i>(obj
    <var>player</var>)</i></dt>
    <dd>
      <a name="IDX278"
          id="IDX278"></a> This verb returns a list of strings, giving the
          message plus any headers which are added to the front by the mail
          system. The <code>$mail_room:make_message</code> verb is used to
          produce the list of strings.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> string <b>the_subject</b> <i>(obj
    <var>player</var>)</i></dt>
    <dd>
      <a name="IDX279"
          id="IDX279"></a> This verb returns the subject text for the message
          being composed by <var>player</var>. This is done by retrieving the
          correct entry from the property list
          <code>$mail_room:subjects</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>sub*ject</b> <i>()</i></dt>
    <dd>
      <a name="IDX280"
          id="IDX280"></a> This is a player command used to set the subject
          text of the current message. A simple call is made to the
          <code>$mail_room:set_subject</code> verb, with the arguments
          supplied by the player in <code>argstr</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>to</b> <i>()</i></dt>
    <dd>
      <a name="IDX281"
          id="IDX281"></a> This is a player command used to set the list of
          recipients for the current message. Without any arguments, the
          command prints the current list of recipients. If one or more
          arguments are supplied, then the recipients list for the message is
          cleared, and the verb <code>$mail_room:also-to</code> is invoked to
          take tge player arguments, and set the message recipients list
          accordingly.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>set_subject</b> <i>(obj
    <var>player</var>)</i></dt>
    <dd>
      <a name="IDX282"
          id="IDX282"></a> This verb is used to set the subject text for the
          message being composed by <var>player</var>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>also*-to</b> <i>(string
    <var>args</var>)</i></dt>
    <dd>
      <a name="IDX283"
          id="IDX283"></a> This verb goes through the list of names given in
          <var>args</var> adding each name to the recipients list for the
          current message. The code for the verb is shown below:
      <pre>
pos = player in this.writers;
recips = this.recipients[pos];
for x in (args)
  r = $string_utils:match(x, players(), "aliases");
  if (r == $failed_match)
    player:tell("There is no player named '", x, "'.");
    return;
  elseif (r == $ambiguous_match)
    player:tell("I don't know which '", x, "' you mean.");
    return;
  endif
  recips = setadd(recips, r);
endfor
this.recipients = listset(this.recipients, recips, pos);
player:tell("Your message is now to ", this:recipient_names(player), ".");
</pre>
      <p>Each name in the argument list is matched to a player name. If there
      is no match, the name is rejected from the list of recipients, and
      further processing is aborted. If there is a match, the player object
      reference is added to the list of recipients. If there is an ambiguous
      match, the name is ignored, and further processing is aborted.</p>
      <p>Valid names are added one by one to the recipient list for the
      message.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>make_message</b> <i>(obj <var>player</var>, list
    <var>to</var>, string <var>subj</var>, list <var>msg</var>)</i></dt>
    <dd>
      <a name="IDX284"
          id="IDX284"></a> This verb returns the message as it will be sent
          to the recipients in the list <var>to</var>. It takes the arguments
          given, and puts together a list of strings that gives the current
          message being written by <var>player</var>. In addition to the
          supplied arguments, the date and sender's name are added to the
          message as header.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> string <b>name_list</b> <i>(list
    <var>names</var>)</i></dt>
    <dd>
      <a name="IDX285"
          id="IDX285"></a> This verb returns an english style list of the
          names in <var>names</var>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>send_message</b> <i>(obj <var>from</var>, list
    <var>to</var>, string <var>subj</var>, list <var>msg</var>)</i></dt>
    <dd>
      <a name="IDX286"
          id="IDX286"></a> This verb is used to actually send a mail message
          to the players given in the <var>to</var> list of recipients. If
          you wish to send mail from another verb, this is the verb to use.
          The arguments given are passed to
          <code>$mail_room:make_message</code> for formatting, and then sent
          to each of the recipients in turn.
    </dd>
  </dl>
  <p>The following properties are defined for the <code>$mail_room</code>
  class. Each property contains a list of items, one per player currently
  composing a letter. The index of the player in the <code>writers</code>
  list is used to locate the correct entries for that player's message in all
  the other property lists.</p>
  <dl>
    <dt><u>Property:</u> <b>subjects</b></dt>
    <dd>
      <a name="IDX287"
          id="IDX287"></a> This is a list of strings. Each string contains
          the subject line for a message currently being composed.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>abortable</b></dt>
    <dd>
      <a name="IDX288"
          id="IDX288"></a> This is a list of boolean (number) values. If set,
          the relevant message can be aborted by the player using the
          <samp>`abort'</samp> command in the mail room. If not set, the
          message cannot be aborted.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>places</b></dt>
    <dd>
      <a name="IDX289"
          id="IDX289"></a> This is a list of room object references. When a
          player enters the mail room, using one of the mail composition
          commands, his/her current location is stored here. When the player
          has finished in the mail room, s/he is returned to the original
          room.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>recipients</b></dt>
    <dd>
      <a name="IDX290"
          id="IDX290"></a> This is a list of lists of object references,
          referring to players. Each entry in the list looks like the
          following :
      <pre>
{<var>player1</var>, <var>player2</var>, ..., playerN}
</pre>
      <p>The message currently being composed will be sent to
      <var>player1</var> thru <var>playerN</var> when it is
      <samp>`sent'</samp>.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>messages</b></dt>
    <dd>
      <a name="IDX291"
          id="IDX291"></a> This property stores the actual message text being
          composed by the player. Each entry in the list is a list of
          strings, one per line of the message.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>writers</b></dt>
    <dd>
      <a name="IDX292"
          id="IDX292"></a> This is the list of players currently engaged in
          composing a message in the mail room. Every time a player enters
          the mail room using one of the mail commands, his/her object
          reference is added to this list. If a player enters the mail room
          and is already on this list, this indicates a resumption of a
          previously <samp>`pause'</samp>d mail session.
    </dd>
  </dl>
  <h3><a name="SEC12"
     href="LambdaCoreProgMan_toc.html#TOC12"
     id="SEC12">The generic Editor Class</a></h3>
  <p>This class provides a basic MOO code editing facility for those players
  who do not have access to an external editor such as Emacs. It provides
  basic facilities for editing and compiling MOO code on verbs, but cannot be
  considered complete or extensive.</p>
  <h3><a name="SEC13"
     href="LambdaCoreProgMan_toc.html#TOC13"
     id="SEC13">The System Object Class</a></h3>
  <p>The <em>system object</em> class is the fundamental cornerstone of the
  whole LambdaMOO database. It is the first item in the database, and hence
  has an object number of <samp>`#0'</samp>. It has no verbs defined on it,
  but a number of interesting properties that are used to determine the
  behaviour of parts of the LambdaMOO server and Core functions.</p>
  <p>In particular, properties defined on the root class can be referred to
  using the <samp>`$'</samp> notation as a shorthand. For example, if I
  define a property called</p>
  <pre>
#0.foobar = #1234
</pre>
  <p>then I can refer to <samp>`#1234'</samp> thereafter using the
  shorthand</p>
  <pre>
$foobar
</pre>
  <p>Shorthand references are provided for all of the base classes. If a new
  public class is added, it should be given a shorthand by adding a suitable
  property to the system object, <samp>`#0'</samp>. In this way, players can
  refer to the shorthand when creating objects that belong to the new
  class.</p>
  <p>For example, if <code>foobar</code> were the name of a new class, then I
  could use</p>
  <pre>
@create $foobar named gadget
</pre>
  <p>to create an instance of the class <code>foobar</code>.</p>
  <p>Shorthand notation is provided in the following properties. Most of them
  refer to public classes. A few refer to other, global values that are used
  in the database.</p>
  <dl>
    <dt><u>Property:</u> <b>editor</b></dt>
    <dd>
      <a name="IDX293"
          id="IDX293"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>mail_room</b></dt>
    <dd>
      <a name="IDX294"
          id="IDX294"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>object_utils</b></dt>
    <dd>
      <a name="IDX295"
          id="IDX295"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>lock_utils</b></dt>
    <dd>
      <a name="IDX296"
          id="IDX296"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>list_utils</b></dt>
    <dd>
      <a name="IDX297"
          id="IDX297"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>command_utils</b></dt>
    <dd>
      <a name="IDX298"
          id="IDX298"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>player</b></dt>
    <dd>
      <a name="IDX299"
          id="IDX299"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>wiz</b></dt>
    <dd>
      <a name="IDX300"
          id="IDX300"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>prog</b></dt>
    <dd>
      <a name="IDX301"
          id="IDX301"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>code_utils</b></dt>
    <dd>
      <a name="IDX302"
          id="IDX302"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>help</b></dt>
    <dd>
      <a name="IDX303"
          id="IDX303"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>nothing</b></dt>
    <dd>
      <a name="IDX304"
          id="IDX304"></a> This should be used similarly to a
          <code>void</code> pointer in C.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>failed_match</b></dt>
    <dd>
      <a name="IDX305"
          id="IDX305"></a> This is the value used in all matching verbs to
          indicate that nothing matched.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>ambiguous_match</b></dt>
    <dd>
      <a name="IDX306"
          id="IDX306"></a> This value is used in matching verbs to indicate
          that more than one possible result was found.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>perm_utils</b></dt>
    <dd>
      <a name="IDX307"
          id="IDX307"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>building_utils</b></dt>
    <dd>
      <a name="IDX308"
          id="IDX308"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>string_utils</b></dt>
    <dd>
      <a name="IDX309"
          id="IDX309"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>news</b></dt>
    <dd>
      <a name="IDX310"
          id="IDX310"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>note</b></dt>
    <dd>
      <a name="IDX311"
          id="IDX311"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>letter</b></dt>
    <dd>
      <a name="IDX312"
          id="IDX312"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>container</b></dt>
    <dd>
      <a name="IDX313"
          id="IDX313"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>thing</b></dt>
    <dd>
      <a name="IDX314"
          id="IDX314"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>exit</b></dt>
    <dd>
      <a name="IDX315"
          id="IDX315"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>room</b></dt>
    <dd>
      <a name="IDX316"
          id="IDX316"></a>
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>root_class</b></dt>
    <dd>
      <a name="IDX317"
          id="IDX317"></a> This points to the class from which everything
          else is descended.
    </dd>
  </dl>
  <p>The other properties defined for the system object are listed below,
  with details given as to their function and derivation.</p>
  <dl>
    <dt><u>Property:</u> <b>wizard_mail_recipients</b></dt>
    <dd>
      <a name="IDX318"
          id="IDX318"></a> This property is a list of object numbers. It
          gives a list of people who will receive mail sent by players to the
          wizard. This can loosely be interpreted as being a list of players
          that are involved in running the game, and are not strictly
          wizards.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>gripe_recipients</b></dt>
    <dd>
      <a name="IDX319"
          id="IDX319"></a> This property is a list of object numbers. It
          gives a list of people who will receive mail sent by players using
          <samp>`@gripe'</samp>. This can loosely be interpreted as being a
          list of players that are involved in running the game, and are not
          strictly wizards.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>dump_interval</b></dt>
    <dd>
      <a name="IDX320"
          id="IDX320"></a> This property specified the interval between
          database dumps, in seconds. The default value is 600 seconds, which
          is every ten minutes. A database dump should be initiated at
          regular intervals to provide a backup in case the LambdaMOO server
          crashes, or the host machine goes down.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>welcome_message</b></dt>
    <dd>
      <a name="IDX321"
          id="IDX321"></a> This property is a list of strings containing the
          message sent to players when they log in to the LambdaMOO server.
          It should be used to convey simple help information to first time
          players, as well as making urgent announcements that you wish
          everyone to see.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>player_start</b></dt>
    <dd>
      <a name="IDX322"
          id="IDX322"></a> This is an object reference of the starting room
          for new players. When a player is created, using the
          <samp>`create'</samp> command when initially connecting to the
          LambdaMOO server, s/he is placed in the <code>$player_start</code>
          room. This is also set as the default home for a new player. If you
          wish to place new players into a different starting room, then you
          should change the object reference stored in
          <code>$player_start</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>player_class</b></dt>
    <dd>
      <a name="IDX323"
          id="IDX323"></a> This is an object reference for the class that
          newly created players belong to by default. The initial value of
          this property is <code>$player</code>. If you create an enhanced
          player class that you wish all new players to belong to, you should
          change the value of this property to be the object reference of the
          new, enhanced player class.
    </dd>
  </dl>
  <h3><a name="SEC14"
     href="LambdaCoreProgMan_toc.html#TOC14"
     id="SEC14">The Container Class</a></h3>
  <p>A container is a an object that can hold other object inside itself.
  This is similar to the idea of a room, except that a container has no
  notion of exits, and can only hold things; it cannot hold players.</p>
  <p>The following verbs are defined for the container class.</p>
  <dl>
    <dt><u>Verb:</u> none <b>d*rop</b> <i>(obj <var>object</var>)</i></dt>
    <dd>
      <a name="IDX324"
          id="IDX324"></a>
    </dd>
    <dt><u>Verb:</u> none <b>in*sert</b> <i>(obj <var>object</var>)</i></dt>
    <dd>
      <a name="IDX325"
          id="IDX325"></a>
    </dd>
    <dt><u>Verb:</u> none <b>p*ut</b> <i>(obj <var>object</var>)</i></dt>
    <dd>
      <a name="IDX326"
          id="IDX326"></a> This verb puts <var>object</var> into the
          container. The container is first checked to verify that it is
          open, if not an error message is printed.
      <p>For example, if you have a container named <var>pipe</var> and an
      object named <var>tobacco</var>, you could enter:</p>
      <pre>
put tobacco in pipe
</pre>
      <p>If <var>pipe</var> is open, then <var>tobacco</var> will be put into
      the <var>pipe</var>. If you look at <var>pipe</var> you should see:</p>
      <pre>
pipe
Contents:
  tobacco
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>g*et</b> <i>(obj <var>object</var>)</i></dt>
    <dd>
      <a name="IDX327"
          id="IDX327"></a>
    </dd>
    <dt><u>Verb:</u> none <b>ta*ke</b> <i>(obj <var>object</var>)</i></dt>
    <dd>
      <a name="IDX328"
          id="IDX328"></a>
    </dd>
    <dt><u>Verb:</u> none <b>re*move</b> <i>(obj <var>object</var>)</i></dt>
    <dd>
      <a name="IDX329"
          id="IDX329"></a> This does the opposite of the put/insert/drop
          commands. To remove the <var>tobacco</var> from the <var>pipe</var>
          you would enter:
      <pre>
remove tobacco from pipe
</pre>
      <p>When you look at <var>pipe</var> now you should see:</p>
      <pre>
pipe
It is empty.
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>open</b> <i>()</i></dt>
    <dd>
      <a name="IDX330"
          id="IDX330"></a> This verb will open the container and allow
          objects to be put into it (via the <var>put</var> verb). This verb
          sets the property <var>opened</var> to <samp>`1'</samp>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@lock_for_open</b> <i>(obj
    <var>object</var>)</i></dt>
    <dd>
      <a name="IDX331"
          id="IDX331"></a> This verb will lock the container with
          <var>object</var>. The container can only be opened if the player
          is holding <var>object</var>, or the <var>object</var> is the
          player trying to open the container. The container will remained
          locked until it is unlocked (see below).
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@unlock_for_open</b> <i>()</i></dt>
    <dd>
      <a name="IDX332"
          id="IDX332"></a> This verb will remove the lock set by
          <var>@unlock_for_open</var>. It can only be run by the owner of the
          container.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>is_openable_by</b> <i>(obj PLAYER)</i></dt>
    <dd>
      <a name="IDX333"
          id="IDX333"></a> This verb uses the
          <code>$lock_utils:eval_key</code> verb to determine if the
          container can be opened by the player. The verb will return
          <samp>`1'</samp> if the player has permission to open the
          container, and <samp>`0'</samp> otherwise.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>close</b> <i>()</i></dt>
    <dd>
      <a name="IDX334"
          id="IDX334"></a> This is the opposite of <var>open</var>. If the
          pipe is already close, an error message is printed.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>tell_contents</b> <i>()</i></dt>
    <dd>
      <a name="IDX335"
          id="IDX335"></a> This verb displays the contents of the container.
          If the container is empty, the message <samp>`It is empty'</samp>
          is displayed.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>set_opened</b> <i>(int
    <var>number</var>)</i></dt>
    <dd>
      <a name="IDX336"
          id="IDX336"></a> This verb is called by <var>open</var> and
          <var>close</var>, with the arguments <samp>`1'</samp> and
          <samp>`0'</samp> respectively. The property <var>opened</var> is
          set to either <samp>`1'</samp> (opened) or <samp>`0'</samp>
          (closed).
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>@opacity</b> <i>(int <var>number</var>)</i></dt>
    <dd>
      <a name="IDX337"
          id="IDX337"></a> Opacity determines when/if you can look at the
          contents of the container. There are three levels of opacity:
      <pre>
0 - transparent
1 - opaque
2 - black hole
</pre>
      <p>When the opacity is set to 0, you can see the contents when the pipe
      is open or closed. When the opacity is set to 1, you can only see the
      contents when the container is open. If opacity is set to 2, you can
      never see the contents when looking at the container.</p>
      <p>The syntax for <samp>`@opacity'</samp> is:</p>
      <pre>
@opacity container is #

where '#' is either 0, 1 or 2.
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> int <b>set_opaque</b> <i>(int
    <var>number</var>)</i></dt>
    <dd>
      <a name="IDX338"
          id="IDX338"></a> This verb is called by <samp>`@opacity'</samp>. It
          sets the property <var>opaque</var> to be either 0, 1 or 2.
    </dd>
  </dl>
  <h3><a name="SEC15"
     href="LambdaCoreProgMan_toc.html#TOC15"
     id="SEC15">The Note Class</a></h3>
  <p>The note class provides a handy way of communicating in MOO, whether you
  want to leave somebody a quick message, or perhaps leave a clue for solving
  an adventure. The note class can also provide a good starting base for more
  specialized objects. The letter and newspaper objects are examples of
  this.</p>
  <dl>
    <dt><u>Verb:</u> none <b>r*ead</b> <i>()</i></dt>
    <dd>
      <a name="IDX339"
          id="IDX339"></a> This verb first checks to see if the note can be
          read by the person who is attempting to read the it. If they have
          permission to read it, the note text, which is stored in the
          property <code>text</code>, is shown to the player.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>er*ase</b> <i>()</i></dt>
    <dd>
      <a name="IDX340"
          id="IDX340"></a> This verb erases all text stored on the note. Only
          the owner of a note can erase it.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>wr*ite</b> <i>(string
    <var>message</var>)</i></dt>
    <dd>
      <a name="IDX341"
          id="IDX341"></a> Appends the string <var>message</var> to the note
          text. This function simply adds another line to the list stored in
          the note property 'text'. A carriage return is inserted between
          each list entry, therefore the command:
      <pre>
write "Zaphod was here." on note
</pre>
      <p>would be read as</p>
      <pre>
Zaphod was here.
</pre>
      <p>whereas the commands</p>
      <pre>
write "Zaphod" on note
write "was" on note
write "here." on note
</pre>
      <p>would be read as</p>
      <pre>
Zaphod
was
here.
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>del*ete</b> <i>(string
    <var>line-number</var>)</i></dt>
    <dd>
      <a name="IDX342"
          id="IDX342"></a>
    </dd>
    <dt><u>Verb:</u> none <b>rem*ove</b> <i>(string
    <var>line-number</var>)</i></dt>
    <dd>
      <a name="IDX343"
          id="IDX343"></a> Deletes the given line number from the note. Only
          the owner of the note may modify it. Negative numbers can be given
          to delete lines counting from the end of the note, hence
          <samp>`delete -5 from note'</samp> would delete the 5th line from
          the bottom.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>text</b> <i>()</i></dt>
    <dd>
      <a name="IDX344"
          id="IDX344"></a> Returns a list of strings containing the message
          text on the note. Called by the verb <code>:r*ead</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>is_readable_by</b> <i>(obj PLAYER)</i></dt>
    <dd>
      <a name="IDX345"
          id="IDX345"></a> This verb uses the
          <code>$lock_utils:eval_key</code> verb to evaluate the key, stored
          in the <code>encryption_key</code> property, and determine if the
          note is readable or not by the player. This verb will return a
          <samp>`1'</samp> if it is readable, or a <samp>`0'</samp> if it is
          not.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>encrypt</b> <i>(string ENCRYPTION)</i></dt>
    <dd>
      <a name="IDX346"
          id="IDX346"></a> This verb will encrypt a message so that it can
          only be read if the encryption constraints are satisfied. Refer to
          the <samp>`@lock'</samp> command for details on the syntax for
          encryption. Encryption is stored in the <code>encryption_key</code>
          property. You must have permission to do this.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>decrypt</b> <i>()</i></dt>
    <dd>
      <a name="IDX347"
          id="IDX347"></a> This verb will remove any existing encryption from
          a note, allowing it to be read by anybody. You must have permission
          to do this.
    </dd>
  </dl>
  <p>The following properties are defined for the <code>$note</code>
  class.</p>
  <dl>
    <dt><u>Property:</u> <b>encryption_key</b></dt>
    <dd>
      <a name="IDX348"
          id="IDX348"></a> This is encryption string for the note. It is
          formed within the verb <code>:encrypt</code> by parsing its input
          with <code>$lock_utils:parse_keyexp</code>. The verb
          <code>:is_readable_by</code> then uses this to determine whether or
          not the note can be read by calling
          <code>$lock_utils:eval_key</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>text</b></dt>
    <dd>
      <a name="IDX349"
          id="IDX349"></a> This is a list of strings where the body of the
          note message is kept. Each entry in the list corresponds to one
          line in the note text.
    </dd>
  </dl>
  <h3><a name="SEC16"
     href="LambdaCoreProgMan_toc.html#TOC16"
     id="SEC16">The Newspaper Class</a></h3>
  <p>To be written.</p>
  <h3><a name="SEC17"
     href="LambdaCoreProgMan_toc.html#TOC17"
     id="SEC17">The Letter Class</a></h3>
  <p>The letter class is a subclass of the note class. A letter object
  provides all of the functions of a note, with the addition of a
  <samp>`burn'</samp> command. This command will recycle the note after it
  has been read by the recipient, completely removing it from the database.
  The letter is read, written, erased and encrypted just as if it were simply
  a note object.</p>
  <dl>
    <dt><u>Verb:</u> none <b>burn</b></dt>
    <dd>
      <a name="IDX350"
          id="IDX350"></a> This verb first checks to see if the letter is
          readable by the person who is attempting to burn it. If it is, the
          letter will be completely destroyed. If it is not readable, the
          command will fail. The code for this is shown below for
          illustration:
      <pre>
if (this:is_readable_by(player))
  player:tell(this.name, 
         " might be damp, in any case it won't burn.");
else
  player:tell(this.name, 
      " burns with a smokeless flame, and leaves no ash.");
  player.location:announce(player.name, 
      " stares at ", this.name, " and it catches alight.");
  recycle(this);
endif
</pre>
    </dd>
  </dl>
  <h3><a name="SEC18"
     href="LambdaCoreProgMan_toc.html#TOC18"
     id="SEC18">The Generic Programmer Class</a></h3>
  <h3><a name="SEC19"
     href="LambdaCoreProgMan_toc.html#TOC19"
     id="SEC19">The Help Database Class</a></h3>
  <p>The LambdaCore database provides an extensive help facility. As well as
  command syntax, it provides other useful information on a variety of other
  MUD topics. The <code>$help</code> class is used to store help text and
  verbs used to implement the help system. A verb on the player class,
  <code>$player:help</code> is used to give the player access to the help
  database.</p>
  <p>Each entry in the help database is stored as a property on the
  <code>$help</code> class. By doing this, an index can be generated by using
  the <code>properties()</code> primitive to list all the properties on
  <code>$help</code>. No other properties are stored on the
  <code>$help</code> class.</p>
  <p>The <samp>`help'</samp> command, defined on the <code>$player</code>
  class, is described below.</p>
  <dl>
    <dt><u>Verb:</u> none <b>help</b></dt>
    <dd>
      <a name="IDX351"
          id="IDX351"></a>
    </dd>
    <dt><u>Verb:</u> none <b>help</b> <i><var>topic</var></i></dt>
    <dd>
      <a name="IDX352"
          id="IDX352"></a>
    </dd>
    <dt><u>Verb:</u> none <b>help</b> <i><strong>index</strong></i></dt>
    <dd>
      <a name="IDX353"
          id="IDX353"></a> This verb, part of the player class, is used to
          gain access to the help system. The first form is used to obtain
          help on the topic <code>summary</code>, which is a top level help
          with pointers to other topics in the database.
      <p>If the third form, <samp>`help index'</samp> is used, the verb
      <code>$help:print_index</code> is invoked to print a list of all the
      help topics currently available.</p>
      <p>The most complex case is the second form, where help is being
      requested on a particular topic. The relevant code segment is shown
      below:</p>
      <pre>
  topics = $help:find_topics(dobjstr);
  if (topics == {})
    player:tell("Sorry, but no help is available on \"",
          dobjstr, "\".");
    return;
  elseif (length(topics) &gt; 1)
    player:tell("Sorry, but the topic-name \"", 
              dobjstr, "\" is ambiguous.", 
     " I don't know which of the following topics you mean:");
    for x in (topics)
      player:tell("   ", x);
    endfor
    return;
  else
    topic = topics[1];
    if (topic != dobjstr)
      player:tell("Showing help on \"", topic, "\" ...");
      player:tell();
    endif
  endif
  $help:print_topic(topic);
</pre>
      <p>First, the verb <code>$help:find_topics</code> is called. This takes
      the <var>topic</var> given by the player, and searches through the help
      database index for possible matches. This returns a list of possible
      topics in the variable <var>topics</var>.</p>
      <p>If the list is empty, than no help was available for the topic given
      by the player, and the verb ends.</p>
      <p>If the list contains more than one item, the player is told what
      matched, and asked to be more specific next time.</p>
      <p>If just one help topic was found, it is printed out, using the verb
      <code>$help:print_topic</code>.</p>
    </dd>
  </dl>
  <p>The <code>$help</code> class has three verbs defined on it which are
  used to implement the help system. They are described in detail below:</p>
  <dl>
    <dt><u>Verb:</u> list <b>find_topics</b> <i>(string
    <var>handle</var>)</i></dt>
    <dd>
      <a name="IDX354"
          id="IDX354"></a> This verb is used to search the list of topics on
          the <code>$help</code> class for one that matches
          <var>handle</var>. The list of topics is given by the list of
          properties defined on the <code>$help</code> class. In the simple
          case, if the <var>handle</var> matches one property name exactly,
          then this name is returned.
      <p>The player is allowed to omit the leading <samp>`@'</samp> on
      commands. This is checked for in this verb by adding an
      <samp>`@'</samp> temporarily, and then checking for this in the topic
      list, along with the un-prefixed <var>handle</var>.</p>
      <p>If no direct match is found, the verb looks at all the properties
      stored on the <code>$help</code> class, and tries to make a match using
      <code>index()</code> between the <var>handle</var>, the
      <var>handle</var> with an <samp>`@'</samp> prepended and all the
      property names. Every possible match is returned by this verb, so that
      the <samp>`help'</samp> command can give the list to the user.</p>
      <p>If no matches are found, an empty list is returned.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>print_index</b> <i>()</i></dt>
    <dd>
      <a name="IDX355"
          id="IDX355"></a> This verb is used to print an alphabetical list of
          help topics, as given by the properties stored on the
          <code>$help</code> class. The code for this function is shown
          below, as it illustrates one method of sorting strings in MOO,
          using lists.
      <pre>
topics = setremove(properties(this), "summary");
buckets = "abcdefghijklmnopqrstuvwxyz";
else_bucket = length(buckets) + 1;
counts = names = {};
for i in [1..else_bucket]
  names = {@names, {""}};
  counts = {@counts, 1};
endfor
keys = names;
count = 1;
for name in (topics)
  if (name &amp;&amp; index(".@", name[1]))
    key = name[2..length(name)];
  else
    key = name;
  endif
  k = index(buckets, key[1]) || else_bucket;
  bucket = keys[k];
  count = counts[k];
  i = 1;
  while (i &lt;= count &amp;&amp; key &gt; bucket[i])
    i = i + 1;
  endwhile
  names = listset(names, listappend(names[k], name, i - 1), k);
  keys = listset(keys, listappend(keys[k], key, i - 1), k);
  counts = listset(counts, count + 1, k);
endfor
sorted = {};
for i in [1..length(names)]
  sorted = {@sorted, @names[i][2..counts[i]]};
endfor
sorted = {@sorted, "", "", ""};
n = length(sorted) / 4;
su = $string_utils;
for i in [1..n]
  player:tell(su:left(sorted[i], 20), 
              su:left(sorted[i + n], 20), 
              su:left(sorted[i + n + n], 20), 
              sorted[i + 3 * n]);
endfor
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>print_topic</b> <i>(string
    <var>topic</var>)</i></dt>
    <dd>
      <a name="IDX356"
          id="IDX356"></a>
    </dd>
  </dl>
  <h2><a name="SEC20"
     href="LambdaCoreProgMan_toc.html#TOC20"
     id="SEC20">The LambdaCore Utility Classes</a></h2>
  <p>The following utility classes are provided in the LambdaCore
  database:</p>
  <pre>
</pre>
  <dl compact="compact">
    <dt><code>String Utils. ($string_utils)</code></dt>
    <dd>This class provides a number of verbs containing string utility
    functions.</dd>
    <dt><code>Building Utils. ($building_utils)</code></dt>
    <dd>This class provides a couple of verbs used in building commands.</dd>
    <dt><code>Permissions Utils. ($perm_utils)</code></dt>
    <dd>This class provides verbs used in manipulating permissions on
    objects.</dd>
    <dt><code>Code Utils. ($code_utils)</code></dt>
    <dd>This class provides some useful general purpose verbs.</dd>
    <dt><code>Command Utils. ($command_utils)</code></dt>
    <dd>This class provides some verbs used for command line parsing.</dd>
    <dt><code>List Utilities. ($list_utils)</code></dt>
    <dd>This class provides a couple of verbs used in manipulating
    lists.</dd>
    <dt><code>Matching Utils. ($match_utils)</code></dt>
    <dd>This class provides verbs used in matching names to objects.</dd>
    <dt><code>Trignometric Utilities ($trig_utils)</code></dt>
    <dd>This class provides some trigonometric functions and other
    mathematical utilities.</dd>
    <dt><code>Lock Utilities. ($lock_utils)</code></dt>
    <dd>This class provides verbs used in dealing with locks on objects.</dd>
    <dt><code>Object Utilities. ($object_utils)</code></dt>
    <dd>This class provides some useful verbs used in manipulating
    objects.</dd>
    <dt><code>Time Utilities ($time_utils)</code></dt>
    <dd>This provide some time manipulation utilities.</dd>
    <dt><code>Gender Utilities ($gender_utils)</code></dt>
    <dd>These provide some gender based utilities.</dd>
  </dl>
  <pre>
</pre>
  <h3><a name="SEC21"
     href="LambdaCoreProgMan_toc.html#TOC21"
     id="SEC21">The String Utilities Class</a></h3>
  <p>The string utilities class, <code>$string_utils</code> defines a number
  of verbs useful for performing operations on strings.</p>
  <dl>
    <dt><u>Verb:</u> list <b>explode</b> <i>(list <var>subject</var> [, str
    <var>break</var>])</i></dt>
    <dd>
      <a name="IDX357"
          id="IDX357"></a> This verb is used to explode a string into a list
          of substrings separated by runs of <var>break</var> as the
          delimiting character. If <var>break</var> is not specified it
          defaults to space. As an example:
      <pre>
$string_utils:explode("This    is a   test");
</pre>
      <p>will return the list</p>
      <pre>
{"This", "is", "a", "test"}
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>from_list</b> <i>(list <var>list</var> [, str
    <var>separator</var>])</i></dt>
    <dd>
      <a name="IDX358"
          id="IDX358"></a> This verb is used to implode the string
          representations of the elements of a list into a single string,
          each pair being separated by <var>separator</var>. which defaults
          to the empty string. This function is essentially the inverse of
          <code>:explode</code>. Note that the elements of <var>list</var>
          need not be strings themselves, as the function <code>tostr</code>
          is applied to each element before it is catenated. As an example,
          to reassemble the list above into the original string, with just
          one space between words, you could write:
      <pre>
oldstr = $string_utils:from_list({"This", "is", "a", "test"}, " ");
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> object <b>match</b> <i>(str <var>string</var> [, list
    <var>obj-list</var>, str <var>prop-name</var>]*)</i></dt>
    <dd>
      <a name="IDX359"
          id="IDX359"></a> This verb is used to search for a match to
          <var>string</var> in all the specified properties of all the
          specified objects, returning either object,
          <code>$ambiguous_match</code> or <code>$failed_match</code>.
      <p>Each <var>obj-list</var> should be a list of objects or a single
      object, which is treated as if it were a list of that object. Each
      <var>prop-name</var> should be a string naming a property on every
      object in the corresponding <var>obj-list</var>. The value of that
      property in each case should be either a string or a list of
      strings.</p>
      <p>The argument string is matched against all of the strings in the
      property values.</p>
      <p>If it exactly matches exactly one of them, the object containing
      that property is returned. If it exactly matches more than one of them,
      <code>$ambiguous_match</code> is returned.</p>
      <p>If there are no exact matches, then partial matches are considered,
      ones in which the given string is a prefix of some property string.
      Again, if exactly one match is found, the object with that property is
      returned, and if there is more than one match,
      <code>$ambiguous_match</code> is returned.</p>
      <p>Finally, if there are no exact or partial matches, then
      <code>$failed_match</code> is returned.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>from_value</b> <i>(item <var>value</var> [, str
    <var>quote_strings</var> [, num <var>list_depth</var>]])</i></dt>
    <dd>
      <a name="IDX360"
          id="IDX360"></a> This verb is used to print the given value into a
          string. Note that <var>quote_strings</var> defaults to 0 (false),
          and <code>list_depth</code> defaults to 1. This is best described
          by example:
      <pre>
$string_utils:from_value(v) gives:

value result 5 "5" 5 + 3 "8" "5 + 3" "5 + 3" {} "{}" {1,2,3} "{1,
2, 3}" {1, {2, 3}, 4} "{1, {list}, 4}" {"1", {2, 3}, 4}
"{1, {list}, 4}"

$string_utils:from_value(value, 1) gives:

value                     result
5                     "5"
5 + 3                 "8"
"5 + 3"               "\"5 + 3\""
{}                    "{}"
{1,2,3}               "{1, 2, 3}"
{1, {2, 3}, 4}        "{1, {list}, 4}"
{"1", {2, 3}, 4}      "{\"1\", {list}, 4}"

$string_utils:from_value(value, 0, 2) gives:

value                     result
5                     "5"
5 + 3                 "8"
"5 + 3"               "5 + 3"
{}                    "{}"
{1,2,3}               "{1, 2, 3}"
{1, {2, 3}, 4}        "{1, {2, 3}, 4}"
{"1", {2, 3}, 4}      "{1, {2, 3}, 4}"

$string_utils:from_value( value, 1, 2 ) gives:

value                     result
5                     "5"
5 + 3                 "8"
"5 + 3"               "\"5 + 3\""
{}                    "{}"
{1,2,3}               "{1, 2, 3}"
{1, {2, 3}, 4}        "{1, {2, 3}, 4}"
{"1", {2, 3}, 4}      "{\"1\", {2, 3}, 4}"
</pre>
      <p>It is interesting to note that <code>:from_value</code> calls itself
      recursively, to evaluate lists.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>pronoun_sub</b> <i>(str <var>text</var> [, obj
    <var>who</var>])</i></dt>
    <dd>
      <a name="IDX361"
          id="IDX361"></a> This verb is used to substitute the pronoun
          properties of <var>who</var> in all occurances of %s,%o,%p,%r in
          <var>text</var>. <var>who</var> is optional, and defaults to
          player. Also <samp>`%n'</samp>, <samp>`%d'</samp>,
          <samp>`%i'</samp>, <samp>`%t'</samp>, <samp>`%%'</samp> are
          substituted by <code>player</code>, <code>dobj</code>,
          <code>iobj</code>, <code>this</code> and <code>%</code>
          respectively. Further, <samp>`%(propname)'</samp> is substituted by
          <code><var>who</var>.propname</code>. Capitalised versions of each
          of these are: <samp>`%S'</samp>, <samp>`%O'</samp>,
          <samp>`%P'</samp>, <samp>`%R'</samp>,
          <samp>`%N'</samp>,<samp>`%D'</samp>, <samp>`%I'</samp>,
          <samp>`%T'</samp> and <samp>`%(Propname)'</samp>. The full list is
          given below:
      <pre>
Code       Property      Pronoun       Defaults
----       --------      -------       -------
%%                                    %
%s        <var>who</var>.ps      subjective    he, she, it
%S        <var>who</var>.psc     subjective    He, She, It
%o        <var>who</var>.po      objective     him, her, it
%O        <var>who</var>.poc     objective     Him, Her, It
%p        <var>who</var>.pp      possessive    his, her, its
%P        <var>who</var>.ppc     possessive    His, Her, Its
%r        <var>who</var>.pr      reflexive     himself, herself, itself
%R        <var>who</var>.prc     reflexive     Himself, Herself, Itself
%n        <var>who</var>.name
%N        <var>who</var>.name                  (capitalised)
%d        dobj.name
%D        dobj.name                 (capitalised)
%i        iobj.name
%I        iobj.name                 (capitalised)
%t        this.name
%T        this.name                 (capitalised)
%(xyz)    <var>who</var>.xyz
%(Xyz)    <var>who</var>.xyz                   (capitalised)
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>space</b> <i>(num <var>num</var> [, str
    <var>str</var>])</i></dt>
    <dd>
      <a name="IDX362"
          id="IDX362"></a> This verb returns a string of <var>num</var>
          occurences of <var>str</var>. <var>str</var> is optional, and
          defaults to space (" ").
      <pre>
:space(8)        returns   "        "
:space(8, "z")   returns   "zzzzzzzz"
:space(4, "&lt;&gt;")  returns   "&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;"
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>right</b> <i>(str <var>text</var>, num
    <var>len</var> [, str <var>fill</var>])</i></dt>
    <dd>
      <a name="IDX363"
          id="IDX363"></a> This verb is used to right justify <var>text</var>
          in a string of length <var>len</var>. <var>fill</var> is the
          optional fill character, which defaults to space. This function
          calls <code>$string_utils:space</code> (described above). It is
          interesting to note that text need not be a string, as
          <code>tostr()</code> is applied to it before justification.
      <pre>
:right("help", 9)      returns   "     help"
:right("me", 9, ".")   returns   ".......me"
:right(200, 9, "*")    returns   "******200"
:right({1,2}, 9)       returns   "   {list}"
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>centre</b> <i>(str <var>text</var>, num
    <var>len</var> [, str <var>fill</var>])</i></dt>
    <dd>
      <a name="IDX364"
          id="IDX364"></a> This verb (aka <code>$string_utils:center</code>)
          is used to centre <var>text</var> in a string of length
          <var>len</var>. <var>fill</var> is the optional fill character,
          which defaults to space. This function calls
          <code>$string_utils:space</code>, (described above).
      <pre>
:centre("help", 9)      returns   "  help   "
:centre("me", 9, ".")   returns   "...me...."
:centre(200, 9, "*")    returns   "***200***"
:centre({1,2}, 9)       returns   " {list}  "
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>left</b> <i>(str <var>text</var>, num
    <var>len</var> [, str <var>fill</var>])</i></dt>
    <dd>
      <a name="IDX365"
          id="IDX365"></a> This verb is used to left justify <var>text</var>
          in a string of length <var>len</var>. <var>fill</var> is the
          optional fill character, which defaults to space. This function
          calls <code>$string_utils:space</code>, (described above). It is
          interesting to note that text need not be a string, as
          <code>tostr()</code> is applied to it before justification.
      <pre>
:left("help", 9)      returns   "help     "
:left("me", 9, ".")   returns   "me......."
:left(200, 9, "*")    returns   "200******"
:left({1,2}, 9)       returns   "{list}   "
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>english_list</b> <i>(list <var>list</var> [str
    <var>empty</var> str <var>and</var> str <var>sep</var> str
    <var>penum</var>])</i></dt>
    <dd>
      <a name="IDX366"
          id="IDX366"></a> This verb is used to return a list of things as an
          english sentence. Note that <code>tostr()</code> is applied, so
          things in the list need not necessarily be strings.
      <p>The optional arguments allow you to control how the list is
      presented. <var>empty</var> is the string returned if the list is
      empty. The default is <samp>`nothing'</samp>. <var>and</var> is the
      string to use instead of <samp>` and '</samp> in the list. A common
      usage of this is replace <samp>` and '</samp> with <samp>` or '</samp>.
      <var>sep</var> is the separator to use between words, the default being
      <samp>` ,'</samp>. Finally, <var>penum</var> is the string to use after
      the penultimate elements, before the <samp>`and'</samp>. The default is
      to have a comma without a space.</p>
      <pre>
:english_list({})                         =  "nothing"
:english_list({"cat"})                    =  "cat"
:english_list({"cat","dog"})              =  "cat and dog"
:english_list({"cat","dog","pig"})        =  "cat, dog, and pig"
:english_list({1})                        =  "1"
:english_list({{1, 2, 3}, "Hi", 300})     =  "{list}, Hi, and 300"
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>from_seconds</b> <i>(num
    <var>secs</var>)</i></dt>
    <dd>
      <a name="IDX367"
          id="IDX367"></a> This verb is used to return a string showing time
          in units of days, hours, minutes or seconds.
      <pre>
:from_seconds(0)        returns  "0 seconds"
:from_seconds(2)        returns  "2 seconds"
:from_seconds(61)       returns  "a minute"
:from_seconds(130)      returns  "2 minutes"
:from_seconds(7000)     returns  "an hour"
:from_seconds(1000000)  returns  "11 days"
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>find_prefix</b> <i>(str <var>subject</var>, list
    <var>choices</var>)</i></dt>
    <dd>
      <a name="IDX368"
          id="IDX368"></a> This verb is used to find a string from a list of
          <var>choices</var> which has the prefix <var>subject</var>.
      <p>For example, if choices = {"hat", "hand", "face", "help"}
      then...</p>
      <pre>
:find_prefix("f",  choices)  ==  3  
:find_prefix("g",  choices)  ==  0
:find_prefix("h",  choices)  ==  $ambiguous_match
:find_prefix("he", choices)  ==  4
:find_prefix("ha", choices)  ==  $ambiguous_match
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>trim</b> <i>(str <var>text</var> [, str
    <var>what</var>])</i></dt>
    <dd>
      <a name="IDX369"
          id="IDX369"></a> This verb is used to trim leading and trailing
          characters from the string <var>text</var>. <var>what</var> is the
          optional character to trim, and defaults to space.
      <pre>
:trim("help")             returns  "help"
:trim("   help   ")       returns  "help"
:trim("&gt;&gt; help &lt;&lt;", "&gt;")  returns  " help &lt;&lt;"
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>capitalise</b> <i>(str <var>text</var>)</i></dt>
    <dd>
      <a name="IDX370"
          id="IDX370"></a>
    </dd>
    <dt><u>Verb:</u> str <b>capitalize</b> <i>(str <var>text</var>)</i></dt>
    <dd>
      <a name="IDX371"
          id="IDX371"></a>
    </dd>
    <dt><u>Verb:</u> str <b>cap_fast</b> <i>(str <var>text</var>)</i></dt>
    <dd>
      <a name="IDX372"
          id="IDX372"></a> This verb is used to capitalise its argument. Note
          that it depends on <code>strcmp()</code> returning the difference
          of the first non-matching letters!
      <pre>
:cap_fast("hello")     returns    "Hello"
:cap_fast("Ezeke")     returns    "Ezeke"
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>strip_chars</b> <i>(str <var>subject</var>, str
    <var>stripped</var>)</i></dt>
    <dd>
      <a name="IDX373"
          id="IDX373"></a> This verb is used to remove the characters in the
          string <var>stripped</var> from the string <var>subject</var>.
      <pre>
:strip_chars("The quick brown fox", " ")      =  "Thequickbrownfox"
:strip_chars("The quick brown fox", "aeiou")  =  "Th qck brwn fx"
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>match_player</b> <i>(str <var>name</var>, ...,
    [obj <var>meobj</var>)</i></dt>
    <dd>
      <a name="IDX374"
          id="IDX374"></a>
    </dd>
    <dt><u>Verb:</u> obj <b>match_player</b> <i>(str <var>name</var>, obj
    <var>meobj</var>)</i></dt>
    <dd>
      <a name="IDX375"
          id="IDX375"></a> This verb is used to match one or more
          <var>name</var>s to player objects in the database. Note that
          <var>name</var> need not be complete, nor in the same case as the
          player's actual name. If the <var>name</var> given is
          <samp>`me'</samp>, then the value of <code>player</code>, or
          <var>meobj</var> is returned. If <var>meobj</var> is not a player,
          then <code>$failed_match</code> is returned.
      <p>In the case where a name is not matched against a player name or
      alias, the value <code>$failed_match</code> is returned. If a name
      matches more than one player, then the value
      <code>$ambiguous_match</code> is returned.</p>
      <p>For example:</p>
      <pre>
Verb Call                               Returned
---------                               --------
:match_player("blip")                   #35
:match_player("bli")                    #35
:match_player("blip", "Fred")           {#35, $failed_match}
:match_player("blip", "Ezeke")          {#35, #99}
:match_player("me", #35)                #35
:match_player("me", #1234)              $failed_match
:match_player("b")                      $ambiguous_match
</pre>
      <p>This assumes that players named <samp>`blip'</samp> and
      <samp>`Ezeke'</samp> exist in the database, but <samp>`Fred'</samp>
      doesn't. Additionally, there is more than one player whose name starts
      with <samp>`b'</samp>.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>words</b> <i>(str <var>text</var>)</i></dt>
    <dd>
      <a name="IDX376"
          id="IDX376"></a> This verb is used to split a piece of
          <var>text</var> into words, in the same wat that the command line
          parser turns <code>args</code> into <code>argstr</code>. This verb
          differs from using, for example, <code>$string_utils:explode</code>
          in that it recognises a quoted piece of text as being one word. For
          example:
      <pre>
Verb Call                               Returned
---------                               --------
:words ("There is a dog.")              {"There", "is", "a", "dog."}
:words ("A \"red nose\"")               {"A", "red nose"}
:words ("")                             {}
:words ("Hello")                        {"Hello"}
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>cap_property</b> <i>(obj <var>what</var>, str
    <var>prop</var>, [, num <var>ucase</var>]))</i></dt>
    <dd>
      <a name="IDX377"
          id="IDX377"></a> This verb returns <var>what</var>.<var>prop</var>,
          but capitalised if either <var>ucase</var> is true, or the property
          name specified is capitalised. If <var>prop</var> is blank, the
          verb returns the value of <code><var>what</var>:title()</code>. If
          <var>prop</var> is not specified on <var>what</var> or is otherwise
          irretrievable, then an error is returned.
      <p>If capitalisation is indicated by <var>ucase</var> being true, we
      return <code><var>what</var>.<var>prop</var>c</code> if that exists,
      otherwise <var>what</var>.<var>prop</var> is capitalised in the normal
      fashion using <code>$string_utils:capitalise</code>. A special case
      exists if we are trying to retrieve the name of a player. This is never
      capitalised.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>index_delimited</b> <i>(str <var>string</var>,
    str <var>target</var> [, num <var>casem</var>])</i></dt>
    <dd>
      <a name="IDX378"
          id="IDX378"></a> This verb works in the same way as the primitive
          <code>index()</code>, except that it only matches on occurrences of
          <var>target</var> in <var>string</var> that are delimited by word
          boundaries. That is, it will not match on occurrences that are
          preceded or followed by an alphanumeric.
      <p>For example,</p>
      <pre>
Verb Call                                   Returned
---------                                   --------
:index_delimited ("Hi there", "he")            0
:index_delimited ("Hi there", "hi")            1
:index_delimited ("Hi there", "hi", 1)         0
:index_delimited ("Hi there", "Hi", 1)         1
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>to_value</b> <i>(str <var>expr</var>)</i></dt>
    <dd>
      <a name="IDX379"
          id="IDX379"></a> This verb is used to convert a string into a
          value. It is the opposite operation to
          <code>$string_utils:from_value</code>. As with that verb, this is
          best explained by examples:
      <pre>
$string_utils:to_value(s) gives:

s                               result
"5"                             5
"5 + 3"                         "5 + 3"
{}                              error--&gt;
{1,2,3}                         error--&gt;
"{1,2,3}"                       {1,2,3}                        
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>columnize</b> <i>columnise (list
    <var>items</var>, num <var>n</var> [, num <var>width</var>])</i></dt>
    <dd>
      <a name="IDX380"
          id="IDX380"></a> This verb is used to turn a one-column list of
          items into an <var>n</var> column list. <var>width</var> is the
          last character position that may be occupied; it defaults to a
          standard screen width of 79 characters.
      <p>For example, to tell a player a list of number in three columns, use
      the following code:</p>
      <pre>
player:tell_lines($string:utils:columnise ({1, 2, 3, 4, 5, 6, 7}, 3));
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>parse_command</b> <i>(str <var>command</var>,
    <var>who</var>)</i></dt>
    <dd>
      <a name="IDX381"
          id="IDX381"></a> This verb is used to parse a command line, in the
          same way that the built in command line parser does the job. It
          returns an horrendous list of stuff, that I'm not quite sure about
          yet.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>match_str*ing</b> <i>(str <var>input</var>, str
    <var>match</var>, ...)</i></dt>
    <dd>
      <a name="IDX382"
          id="IDX382"></a> This verb performs wildcard matching of
          <samp>`match'</samp> to <var>input</var>, using the
          <samp>`*'</samp> character as a wildcard. It returns a list of what
          the <code>*</code>s actually matched. Note that this verb will not
          catch every match, if there are several different ways to parse the
          input. More than one wildcard string may be given. If a numeric
          argument is given, it is taken to indicate whether case sensitivity
          should be used.
      <p>For example:</p>
      <pre>
;$string_utils:match_string(\"Jack waves to Jill\",\"* waves to *\")
-|{\"Jack\", \"Jill\"}
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>uppercase</b> <i>lowercase (str
    <var>string</var>)</i></dt>
    <dd>
      <a name="IDX383"
          id="IDX383"></a> This verb returns either the uppercase or
          lowercase version of <var>string</var>, as appropriate.
    </dd>
  </dl>
  <p>No properties are defined on the <code>$string_utils</code> class.</p>
  <h3><a name="SEC22"
     href="LambdaCoreProgMan_toc.html#TOC22"
     id="SEC22">The Permissions Utils Class</a></h3>
  <p>The permission utilities class, <code>$perm_utils</code> provides a
  couple of useful verbs for dealing with permissions of objects, i.e.. the
  ability of a player to read or access another object.</p>
  <dl>
    <dt><u>Verb:</u> num <b>controls</b> <i>(obj <var>who</var>, obj
    <var>what</var>)</i></dt>
    <dd>
      <a name="IDX384"
          id="IDX384"></a> Returns true, <samp>`1'</samp>, if <var>who</var>
          is the owner of <var>what</var>, or if <var>who</var> is a
          <em>wizard</em>, else returns false, <samp>`0'</samp>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>apply</b> <i>(str <var>perms</var>, str
    <var>mods</var>)</i></dt>
    <dd>
      <a name="IDX385"
          id="IDX385"></a> This verb is used to modify the permissions given
          in <var>perms</var> with the modifiers shown in <var>mods</var>.
          The following modifiers are possible:
      <pre>
</pre>
      <dl compact="compact">
        <dt><code>!</code></dt>
        <dd>- negate a permission.</dd>
        <dt><code>+</code></dt>
        <dd>- add a permission.</dd>
        <dt><code>-</code></dt>
        <dd>- remove a permission.</dd>
      </dl>
      <pre>
</pre>
      <p>Consider the following examples:</p>
      <pre>
Verb Call                          Returns
---------                          -------
;$perm_utils:apply("rw", "!w")     "r"
;$perm_utils:apply("rw", "!r")     "w"
;$perm_utils:apply("rw", "-w")     "r"
;$perm_utils:apply("rw", "")       ""
;$perm_utils:apply("rw", "x")      "x"
;$perm_utils:apply("rw", "+x")     "rwx"
</pre>
    </dd>
  </dl>
  <p>No properties are defined on the <code>$perm_utils</code> class.</p>
  <h3><a name="SEC23"
     href="LambdaCoreProgMan_toc.html#TOC23"
     id="SEC23">The Code Utils Class</a></h3>
  <p>The code utils class is somewhere to hang code functions. These are
  defined as verbs of the <code>$code_utils</code> class.</p>
  <dl>
    <dt><u>Verb:</u> list <b>parse_propref</b> <i>(str
    <var>string</var>)</i></dt>
    <dd>
      <a name="IDX386"
          id="IDX386"></a> This function parses <var>string</var> as a
          MOO-code property reference, returning
      <pre>
{<var>object-string</var>, <var>prop-name-string</var>}
</pre>
      <p>for a successful parse and false otherwise. It always returns the
      right object-string to pass to, for example,
      <code>$room:match_object()</code>.</p>
      <p>The following examples show how this verb works:</p>
      <pre>
:parse_propref("me")               returns   0
:parse_propref("me.name")          returns   {"me", "name"}
:parse_propref("$room.location")   returns   {"#3", "location"}
:parse_propref("$thing")           returns   {"#0", "thing"}
:parse_propref("$player:tell")     returns   0
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>parse_verbref</b> <i>(str
    <var>string</var>)</i></dt>
    <dd>
      <a name="IDX387"
          id="IDX387"></a> This function parses <var>string</var> as a
          MOO-code verb reference, returning
      <pre>
{<var>object-string</var>, <var>verb-name-string</var>}
</pre>
      <p>for a successful parse and false otherwise. It always returns the
      right object-string to pass to, for example,
      <code>$room:match_object()</code>.</p>
      <p>The following examples show how this verb works:</p>
      <pre>
:parse_verbref("me")              returns   0
:parse_verbref("me:title")        returns   {"me", "title"}
:parse_verbref("$room:blow_up")   returns   {"#3", "blow_up"}
:parse_verbref("$thing")          returns   0
:parse_verbref("player:tell")     returns   {"player", "tell"}
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>show_object</b> <i>(obj <var>obj</var>)</i></dt>
    <dd>
      <a name="IDX388"
          id="IDX388"></a>
    </dd>
    <dt><u>Verb:</u> none <b>show_property</b> <i>(obj <var>obj</var>, str
    <var>pname</var>)</i></dt>
    <dd>
      <a name="IDX389"
          id="IDX389"></a>
    </dd>
    <dt><u>Verb:</u> none <b>show_verbdef</b> <i>(obj <var>obj</var>, str
    <var>vname</var>)</i></dt>
    <dd>
      <a name="IDX390"
          id="IDX390"></a> These verbs are the ones used by the
          <samp>`@show'</samp> command to display details of an object, a
          property on an object, or a verb on an object. Below is some sample
          code used to display details on the paranoid property of ezeke:
      <pre>
fullpropref = "ezeke.paranoid";
here = player.location;
prop = $code_utils:parse_propref(fullpropref);
if (!prop)
  player:tell("Could not parse string.");
else
  obj = here:match(prop[1]);
  if (obj &lt; #0)
    player:tell("Could not match '", prop[1], "'.");
  else
    $code_utils:show_property(obj, prop[2]);
  endif
endif
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>find_verbs_containing</b> <i>(str
    <var>pattern</var>, num <var>start_obj</var>, num
    <var>count</var>)</i></dt>
    <dd>
      <a name="IDX391"
          id="IDX391"></a> This verb prints to the player the name and owner
          of every verb in the database whose code contains
          <var>pattern</var> as a substring. It starts at the object number
          <var>start_obj</var> (as a number, not an object) and goes to the
          end of the database. <var>count</var> specifies how many verbs have
          been found so far. Because it searches the entire database, this
          function may not be finished when it returns; it may have forked a
          task to continue the job.
      <p>For example:</p>
      <pre>
&gt;;$code_utils:find_verbs_containing ("show_property", 0, 0)
-|#4:@s*how, line 18 [Wizard (#2)]
</pre>
    </dd>
  </dl>
  <h3><a name="SEC24"
     href="LambdaCoreProgMan_toc.html#TOC24"
     id="SEC24">The Command Utilities Class</a></h3>
  <p>The command utilities class, <code>$command_utils</code> provides a
  couple of useful verbs for dealing with player commands, as follows:</p>
  <dl>
    <dt><u>Verb:</u> num <b>object_match_failed</b> <i>(obj
    <var>result</var>, str <var>string</var>)</i></dt>
    <dd>
      <a name="IDX392"
          id="IDX392"></a> This function tells the player of a failed match,
          and returns true if so. If <var>result</var> is valid it returns
          false, without telling the player anything. For example, (where
          <code>#118</code> has been recycled):
      <pre>
Result            String  Ret  Player sees...
------            ------  ---  --------------
$failed_match     "blip"   1   I see no "blip" here.
$ambiguous_match  "blip"   1   I don't know which "blip" you mean.
#118              ""       1   #118 does not exist.
#28               "blip"   0
</pre>
      <p>This could be used in the following way, in the implementation of a
      'bop' command, defined as a verb on a player:</p>
      <pre>
/* bop &lt;any&gt; */
here = player.location;
victim = here:match(dobjstr);
if (!$command_utils:object_match_failed(victim, dobjstr))
  player:tell("You bop ", dobj.name, " over the head!");
  dobj:tell(player.name, " bops you over the head!");
  here:announce_all_but({player,dobj}, 
  player.name + " bops " + dobj.name + " over the head!");
endif
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>player_match_result</b> <i>(list
    <var>results</var>, list <var>strings</var>, [str
    <var>prefix</var>])</i></dt>
    <dd>
      <a name="IDX393"
          id="IDX393"></a> This verb is used to inform the player of the
          results of trying to match the player names in <var>string</var>
          with players in the database. It assumes that <var>results</var>
          are the result of a
          <code>$string_utils:match_player(strings)</code> and prints out
          nasty messages to the player concerning <var>strings</var> that
          didn't match with any player in teh database. It returns a list, in
          the following format:
      <pre>
{<var>our_result</var>, <var>player1</var>, ..., <var>playerN</var>}
</pre>
      <p>where <var>our_result</var> is an overall result, set to
      <samp>`true'</samp> if some string didn't match, followed by the object
      reference numbers of players that matched. An optional third argument,
      <var>prefix</var>, gives an identifying string to prefix to each of the
      nasty messages.</p>
      <p>For example, supposing there are only players named
      <samp>`blip'</samp> and <samp>`blipster'</samp> in the database:</p>
      <pre>
Results            Strings     Ret      Player Sees....
-------            -------     ---      ---------------
{$nothing}         {"George"}  0        <em>nothing</em>
{$failed_match}    {"George"}  1        "George" is not the 
                                            name of any player.
{$ambiguous_match} {"blip"}    1        "blip" could refer to any
                                            of a number of people."
{#28}              {"blip"}    {0, #28} <em>nothing</em>
</pre>
      <p>The following code fragment from <code>$player:page</code> shows how
      you might use this function in your own programs:</p>
      <pre>
who = $string_utils:match_player(args[1]);
if ($command_utils:player_match_result(who, args[1])[1])
  return;
</pre>
      <p>The variable <var>args[1]</var> contains the name of the player we
      are trying to page</p>
    </dd>
  </dl>
  <p>No properties are defined on the <code>$command_utils</code> class.</p>
  <h3><a name="SEC25"
     href="LambdaCoreProgMan_toc.html#TOC25"
     id="SEC25">The List Utilities Class</a></h3>
  <p>The list utilities class, <code>$list_utils</code> defines a number of
  functions that manipulate lists.</p>
  <dl>
    <dt><u>Verb:</u> list <b>map_prop</b> <i>(list <var>objs</var>, string
    <var>prop</var>)</i></dt>
    <dd>
      <a name="IDX394"
          id="IDX394"></a> This function returns a list of the values of a
          specified property <var>prop</var> on each of the objects in the
          list <var>objs</var>. If <var>prop</var> does not exist on one of
          the objects, an error occurs.
      <p>As an example, the following code will list all the locations that
      have at least one player in them. It uses the <code>:map_prop</code>
      verb to generate a list corresponding to each player's location. Set
      addition is used to provide a list of the location names without
      duplication. Note that the <code>players()</code> primitive returns a
      list of all the player objects in the database.</p>
      <pre>
locs = $list_utils:map_prop(players(), "location");
rooms = {};
for x in (locs)
  rooms = setadd(rooms, x.name);
endfor
player:tell("Inhabited locations are ", 
             $string_utils:english_list(rooms), ".");
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>map_verb</b> <i>(list <var>objs</var>, string
    <var>verb</var> [, list <var>varg</var>])</i></dt>
    <dd>
      <a name="IDX395"
          id="IDX395"></a> This function returns a list of the return values
          of a specified verb <var>verb</var> on each of the objects in the
          list <var>objs</var>. <var>varg</var> is optional and defines the
          arguments to <var>verb</var>; it defaults to the empty list {}. If
          <var>verb</var> does not exist on one of the objects, an error
          occurs.
      <p>As an example, the following code will list all the connected
      players, using the <code>:title</code> verb on each to do so. It uses
      the <code>:map_verb</code> function to generate a list of each of the
      player's <em>title strings</em>.</p>
      <pre>
cp = $list_utils:map_verb(connected_players(), "title");
player:tell("Connected players are ", 
              $string_utils:english_list(cp), ".");
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>assoc</b> <i>(<var>target</var>, list
    <var>list</var>, [num <var>index</var>])</i></dt>
    <dd>
      <a name="IDX396"
          id="IDX396"></a> This verb requires <var>list</var> to be a list of
          lists. It returns the first element of <var>list</var> whose own
          <var>index</var>th element is <var>target</var>. If not supplied,
          <var>index</var> defaults to <samp>`1'</samp>.
      <p>Consider the following examples:</p>
      <pre>
Verb Call                        Returned
---------                        --------
:assoc(1, {{2,3}, {1, 2}})       {1,2}
:assoc(1, {{2,3}, {2, 1}})       {}
:assoc(1, {})                    {}
</pre>
      <p>Consider a more interesting example. Suppose that you have a list of
      heights for a number of players, in the following format:</p>
      <pre>
{{<var>name1</var>, <var>height1</var>}, ..., {<var>nameN</var>, <var>heightN</var>}}
</pre>
      <p>and you want to search through the list to find out how tall a
      particular player is. This can be done using the following code,
      assuming that the variable <var>heights</var> is the list of
      <samp>`{<var>name</var>, <var>height</var>}'</samp> pairs, and
      <var>ourplayer</var> is the player whose height you wish to look
      up:</p>
      <pre>
player:tell(ourplayer, "is ", 
    $list_utils:assoc (ourplayer, heights)[2], "ft high");
</pre>
      <p>Suppose that <var>heights</var> is defined as follows:</p>
      <pre>
{{"blip", 2}, {"Ezeke", 6}, {"Geezer", 10}}
</pre>
      <p>For different lookups, we would get the following results:</p>
      <pre>
ourplayer                   Results
blip                        {"blip", 2}
Ezeke                       {"Ezeke", 6}
Fred                        {}
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>iassoc</b> <i>(<var>target</var>, list
    <var>list</var>, [num <var>index</var>])</i></dt>
    <dd>
      <a name="IDX397"
          id="IDX397"></a> This verb works similarly to
          <code>$string_utils:assoc</code> except that it returns an index
          into <var>list</var>, rather than the actual matching element from
          <var>list</var>. If no matching element is found, it returns
          <samp>`0'</samp>. Consider the following examples:
      <pre>
Verb Call                        Returned
---------                        --------
:assoc(1, {{2,3}, {1, 2}})       2
:assoc(1, {{2,3}, {2, 1}})       0
:assoc(1, {})                    0
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>sort_alist</b> <i>(list <var>list</var>, [num
    <var>index</var>])</i></dt>
    <dd>
      <a name="IDX398"
          id="IDX398"></a> This verb requires <var>list</var> to be a list of
          lists. It sorts the <var>list</var> into ascending order, using the
          <var>index</var>th element of each list element as the sort key.
          For example:
      <pre>
Verb Call                         Returned
---------                         --------
sort_alist({{5}, {2}, {3}})       {{2}, {3}, {5}}
sort_alist({})                    {}
sort_alist({{2,3},{5,1},{3,6}},2) {{5,1},{2,3},{3,6}}  
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>map_pronoun_sub</b> <i>(list <var>objects</var>,
    <var>string</var>)</i></dt>
    <dd>
      <a name="IDX399"
          id="IDX399"></a> This verb returns the result of calling
          <code>$string_utils:pronoun_sub</code> for each object in the list
          <var>objects</var> on the <var>string</var> supplied. For example,
          where <samp>`#28'</samp> is named <samp>`blip'</samp>, and
          <samp>`#35'</samp> is named Ezeke:
      <pre>
our_objs={#28,#35};
our_msg="Hello %n";
our_output=$list_utils:map_pronoun_sub(our_objs, our_msg);
player:tell_lines (our_output);
</pre>
      <p>Executing this short program would produce the following output</p>
      <pre>
&gt;run_test_program
-|Hello blip.
-|Hello Ezeke.
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>slice</b> <i>(list <var>list</var>, [num
    <var>index</var>])</i></dt>
    <dd>
      <a name="IDX400"
          id="IDX400"></a> This verb returns a list of the <var>index</var>th
          elements of the elements of <var>list</var>. If <var>index</var> is
          not given, it defaults to <samp>`1'</samp>. For example,
      <pre>
Verb Call                          Returns
---------                          -------
:slice ({{1,2}, {3,4}, {5,6}}})    {1,3,5}
:slice ({{1,2}, {3,4}, {5,6}}},2)  {2,4,6}
:slice ({}}                        {}
</pre>
    </dd>
  </dl>
  <p>No properties are defined on the <code>$list_utils</code> class.</p>
  <h3><a name="SEC26"
     href="LambdaCoreProgMan_toc.html#TOC26"
     id="SEC26">The Building Utils Class</a></h3>
  <p>This class provides a couple of utility functions used in building rooms
  and exits in the core database structure. The verbs provided are used
  mainly by the building command <samp>`@dig'</samp>, although they can, of
  course, be used by other verbs.</p>
  <dl>
    <dt><u>Verb:</u> none <b>set_names</b> <i>(obj <var>object</var>, string
    <var>spec</var>)</i></dt>
    <dd>
      <a name="IDX401"
          id="IDX401"></a> The function is used to set both the name of an
          object and any aliases that the programmer needs. It expects 2
          arguments: first, the object reference whose name is to be set, and
          then a string which contains the name and any aliases as a comma
          delimited string.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>make_exit</b> <i>(string <var>spec</var>, obj
    <var>source</var>, obj <var>dest</var>)</i></dt>
    <dd>
      <a name="IDX402"
          id="IDX402"></a> This is a function that is used to create a named
          exit with given source and destination rooms. The code will do a
          protection check to verify that an exit can be created and which if
          any links specified can be made.
      <p>The following will try to create an exit called <samp>`Out'</samp>
      owned by the calling player and then link that exit to #25 as the
      source (exit from) and #26 as the destination (entrance to).</p>
      <pre>
$building_utils:make_exit("Out", #25, #26);
</pre>
    </dd>
  </dl>
  <h3><a name="SEC27"
     href="LambdaCoreProgMan_toc.html#TOC27"
     id="SEC27">The Lock Utilities Class</a></h3>
  <p>This class provides some useful functions related to the use of
  <em>locks</em> for objects in the database. The LambdaCore database
  supports a simple but powerful notation for specifying locks on objects,
  encryption on notes, and other applications. The idea is to describe a
  constraint that must be satisfied concerning what some object must be or
  contain in order to use some other object.</p>
  <p>The constraint is given in the form of a logical expression, made up of
  object numbers connected with the operators <samp>`and'</samp>,
  <samp>`or'</samp>, and <samp>`not'</samp> (written
  <samp>`&amp;&amp;'</samp>, <samp>`||'</samp>, and <samp>`!'</samp>, for
  compatibility with the MOO programming language).</p>
  <p>These logical expressions (called <em>key expressions</em>) are always
  evaluated in the context of some particular <em>candidate</em> object, to
  see if that object meets the constraint. To do so, we consider the
  candidate object, along with every object it contains (and the ones those
  objects contain, and so on), to be <samp>`true'</samp> and all other
  objects to be <samp>`false'</samp>.</p>
  <p>As an example, suppose the player blip wanted to lock the exit leading
  to his home so that only he and the holder of his magic wand could use it.
  Further, suppose that blip was object #999 and the wand was #1001. blip
  would use the '@lock' command to lock the exit with the following key
  expression:</p>
  <pre>
me || magic wand
</pre>
  <p>and the system would understand this to mean</p>
  <pre>
#999 || #1001
</pre>
  <p>That is, players could only use the exit if they were (or were carrying)
  either #999 or #1001.</p>
  <p>There is one other kind of clause that can appear in a key
  expression:</p>
  <pre>
? <var>object</var>
</pre>
  <p>This is evaluated by testing whether the given object is unlocked for
  the candidate object; if so, this clause is true, and otherwise, it is
  false. This allows you to have several locks all sharing some single other
  one; when the other one is changed, all of the locks change their behavior
  simultaneously.</p>
  <p>The internal representation of key expressions is stored in the property
  <code>.key</code> on every object.</p>
  <h4><a name="SEC28"
     href="LambdaCoreProgMan_toc.html#TOC28"
     id="SEC28">Key Representation For Locks</a></h4>
  <p>Objects are represented by their object numbers and all other kinds of
  key expressions are represented by lists. These lists have as their first
  element a string drawn from the following set:</p>
  <pre>
"&amp;&amp;"     "||"     "!"     "?"
</pre>
  <p>For the first two of these, the list should be three elements long; the
  second and third elements are the representations of the key expressions on
  the left- and right-hand sides of the appropriate operator. In the third
  case, <samp>`!'</samp>, the list should be two elements long; the second
  element is again a representation of the operand. Finally, in the
  <samp>`?'</samp> case, the list is also two elements long but the second
  element must be an object number.</p>
  <p>As an example, the key expression</p>
  <pre>
#45  &amp;&amp;  ?#46  &amp;&amp;  (#47  ||  !#48)
</pre>
  <p>would be represented as follows:</p>
  <pre>
{"&amp;&amp;", {"&amp;&amp;", #45, {"?", #46}}, {"||", #47, {"!", #48}}}
</pre>
  <h3><a name="SEC29"
     href="LambdaCoreProgMan_toc.html#TOC29"
     id="SEC29">Verbs for Manipulating Locks and Keys</a></h3>
  <p>The following utility verbs, defined on the <code>$lock_utils</code>
  class can be used by the programmer to manipulate locks on objects and key
  expressions.</p>
  <dl>
    <dt><u>Verb:</u> num <b>eval_key</b> <i>(list <var>key</var>, obj
    <var>who</var>)</i></dt>
    <dd>
      <a name="IDX403"
          id="IDX403"></a> This verb evaluates the key expression
          <var>key</var>, in the context of the candidate object
          <var>who</var>. It returns <samp>`1'</samp> if the <var>key</var>
          will allow <var>who</var> to pass, otherwise it returns
          <samp>`0'</samp>. The simple examples below are intended to show
          the ways in which this verb can be invoked:
      <pre>
Verb Call                     Returned
---------                     --------
:eval_key(#35, #35)              1
:eval_key({"!", #35}, #35)       0
:eval_key({"!", #35}, #123)      1
</pre>
      <p>The <var>key</var> expression is given as a list, in the format
      described above.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>parse_keyexp</b> <i>(string<var>keyexp</var>,
    obj <var>who</var>)</i></dt>
    <dd>
      <a name="IDX404"
          id="IDX404"></a> This verb parses the string <var>keyexp</var> and
          returns the internal representation of the expression, for use with
          <code>$lock_utils:eval_key</code>. It is used, for example, by the
          verb <code>$player:@lock</code> to parse the text given by a player
          into a key expression to store on the <code>.key</code> property of
          an object.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> none <b>init_scanner</b> <i>()</i></dt>
    <dd>
      <a name="IDX405"
          id="IDX405"></a>
    </dd>
    <dt><u>Verb:</u> none <b>scan_token</b> <i>()</i></dt>
    <dd>
      <a name="IDX406"
          id="IDX406"></a>
    </dd>
    <dt><u>Verb:</u> none <b>match_object</b> <i>()</i></dt>
    <dd>
      <a name="IDX407"
          id="IDX407"></a>
    </dd>
    <dt><u>Verb:</u> none <b>canonicalize_spaces</b> <i>()</i></dt>
    <dd>
      <a name="IDX408"
          id="IDX408"></a>
    </dd>
    <dt><u>Verb:</u> none <b>parse_E</b> <i>()</i></dt>
    <dd>
      <a name="IDX409"
          id="IDX409"></a>
    </dd>
    <dt><u>Verb:</u> none <b>parse_A</b> <i>()</i></dt>
    <dd>
      <a name="IDX410"
          id="IDX410"></a> These verbs are used by the verb
          <code>$lock_utils:parse_keyexp</code> to perform it's parsing
          functions. They can be called from user programs, but are really
          part of the <code>:parse_keyexp</code> verb.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> string <b>unparse_key</b> <i>(list
    <var>keyexp</var>)</i></dt>
    <dd>
      <a name="IDX411"
          id="IDX411"></a> This verb takes the key expression
          <var>keyexp</var> and returns the input expression that could be
          used to obtain that key. It is the reverse operation to
          <code>$lock_utils:parse_keyexp</code>.
    </dd>
  </dl>
  <p>A few properties are defined on the <code>$lock_utils</code> class, but
  these are only used internally by the lock evaluation routines, and are of
  no real interest to the programmer.</p>
  <h3><a name="SEC30"
     href="LambdaCoreProgMan_toc.html#TOC30"
     id="SEC30">The Object Utilities Class</a></h3>
  <p>This class provides some utilities used to ascertain information about
  objects.</p>
  <dl>
    <dt><u>Verb:</u> num <b>contains</b> <i>(obj <var>container</var>,
    <var>target</var>)</i></dt>
    <dd>
      <a name="IDX412"
          id="IDX412"></a> This verb returns `1' if <var>target</var> is in
          any way contained by <var>container</var>. This includes being
          directly in the contents list of the object, and also in the
          contents list of any object that is contained by
          <var>container</var>. This verb is a partner to the
          <code>:match</code> verb, as they both embody the same concept.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>all_properties</b> <i>(obj
    <var>object</var>)</i></dt>
    <dd>
      <a name="IDX413"
          id="IDX413"></a> This verb returns a list of names of all the
          properties of <var>object</var>. This includes properties defined
          on the parent(s) of this object. Recall that properties defined on
          the parent(s) of an object do not appear in the set given by the
          <code>properties(<var>thing</var>)</code> primitive in MOO. The
          <code>:all_properties</code> verb is useful for seeing the
          properties that an object actually has values for.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>all_verbs</b> <i>(obj
    <var>object</var>)</i></dt>
    <dd>
      <a name="IDX414"
          id="IDX414"></a> Returns a list of all the names of the verbs
          defined for <var>object</var>. This includes verbs defined on the
          parent(s) of this object. Again, as for the
          <code>:all_properties</code> verb, <code>:list_all_verbs</code>
          provides the complete list of verbs that define an object's
          behaviour. Using the <code>verbs(<var>thing</var>)</code> primitive
          in MOO lists only those verbs actually <em>defined</em> on
          <var>thing</var>.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>ancestors</b> <i>(obj
    <var>object</var>)</i></dt>
    <dd>
      <a name="IDX415"
          id="IDX415"></a> This verb returns a list of the parent objects of
          this object. This is all the objects that lie above this object in
          the hierarchy. All objects have the <code>$root_class</code> in
          their list of parents. For example, the <code>$newspaper</code>
          class object has the <code>$note</code> class, the
          <code>$thing</code> class and the <code>$root_class</code> as it's
          parents.
      <p>This verb can be used by an object to tell if another object is
      descended from the same ancestor class. Consider, for example, a
      <code>generic zapper</code> object. This is an object which can be used
      to <code>shoot</code> at other people, with amusing and sometimes
      unexpected results. Bearing in mind that it is unfair to try and
      <code>zap</code> someone who is unarmed, the verb
      <code>zapper:shoot</code> looks at the possessions of the victim, and
      decides whether s/he is armed. If this is the case, then the victim is
      fair game and deserves all s/he gets. If not, the zapper refuses to
      shoot, with embarrassing results for the aggressive attacker.</p>
      <p>Considering the implementation of the <code>zapper:shoot</code>
      verb, we could determine if the victim has a zapper by comparing the
      <code>parent</code>s of the assailant's zapper and each of the victim's
      possessions. However, this would only work if the zappers were first
      generation children of the same parent - the <code>generic
      zapper</code> class.</p>
      <p>Suppose, however, that the crafty player has built a <code>super
      zapper</code> class, with radar sights, based on the <code>generic
      zapper</code> class. In this case, the test fails because the children
      of the <code>super zapper</code> class are not first generation
      descendants of the original <code>generic zapper</code> class.</p>
      <p>A better way to code this test is to look at the
      <code>:ancestors</code> of the objects, and see if the <code>generic
      zapper</code> class is numbered amongst them. If this is the case, then
      we can definitely know who is armed and who isn't.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>descendants</b> <i>(obj
    <var>object</var>)</i></dt>
    <dd>
      <a name="IDX416"
          id="IDX416"></a> Returns a list of all this object's descendants,
          going down the object hierarchy.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> obj <b>has_verb</b> <i>(obj <var>object</var> string
    <var>vname</var>)</i></dt>
    <dd>
      <a name="IDX417"
          id="IDX417"></a> This verb returns the object number of
          <var>object</var> if it defines the verb <var>vname</var>. If
          <var>object</var> does not define <var>vname</var>, then the object
          number of any ancestor of <var>object</var> that does define the
          verb is returned. If the verb is not defined on <var>object</var>
          or any of it's ancestors, then <samp>`0'</samp> is returned.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> obj <b>has_property</b> <i>(obj <var>object</var> string
    <var>pname</var>)</i></dt>
    <dd>
      <a name="IDX418"
          id="IDX418"></a> This vernb returns <samp>`1'</samp> if
          <var>object</var> has a property <var>pname</var>, else it returns
          <samp>`0'</samp>.
    </dd>
  </dl>
  <h3><a name="SEC31"
     href="LambdaCoreProgMan_toc.html#TOC31"
     id="SEC31">The Matching Utilities</a></h3>
  <p>The matching utilities class, <code>$match_utils</code> provides several
  useful verbs for matching strings to objects. The following facilities are
  provided:</p>
  <dl>
    <dt><u>Verb:</u> obj <b>match</b> <i>(str <var>string</var>, list
    <var>where</var>)</i></dt>
    <dd>
      <a name="IDX419"
          id="IDX419"></a> This is a general purpose matching verb. It tries
          to match <var>string</var> against the list of objects in
          <var>where</var>, if <var>string</var> does not match any of the
          special cases, listed below.
      <pre>
</pre>
      <dl compact="compact">
        <dt><code>me</code></dt>
        <dd>This matches with the value of the <code>player</code> variable,
        i.e. the player who is running the verb.</dd>
        <dt><code>here</code></dt>
        <dd>This returns the value of the <code>player.location</code>
        property.</dd>
        <dt><code>""</code></dt>
        <dd>If a <code>null</code> argument is supplied, this verb returns
        the value of the <code>caller</code> variable.</dd>
        <dt><code>$<var>class</var></code></dt>
        <dd>This returns the value of the corresponding property on the
        system object, <code>#0</code>. This is used to match with, for
        example, <code>$player</code>, <code>$exit</code> etc.</dd>
        <dt><code>#<var>num</var></code></dt>
        <dd>
          This returns the value of <var>num</var> as an object reference, as
          long as the object referred to is valid, and meets one of the
          following conditions:
          <ul>
            <li>The object is in the object that called this verb.</li>
            <li>The object is in the same location as the player.</li>
            <li>The object is being carried by the player.</li>
            <li>The object is in the same location as the caller.</li>
            <li>The object is owned by the player.</li>
          </ul>
        </dd>
        <dt><code><var>string</var></code></dt>
        <dd>In the general case, a match is attempted using the
        <code>$string_utils:match</code> verb, using the value of
        <var>where</var> as the list of objects to match against. The
        <code>aliases</code> property is used to match the string
        against.</dd>
      </dl>
      <pre>
</pre>
      <p>If no match is found using the above rules, a more general algorithm
      is used. This recognises forms such as the following:</p>
      <pre>
</pre>
      <dl compact="compact">
        <dt><code><var>person</var>'s <var>object</var></code></dt>
        <dd>This matches against the item <var>object</var> in the inventory
        of <var>person</var>. The special case where <var>person</var> is
        specified by using <samp>`my'</samp> is catered for. Note that
        <code>$match_utils:match</code> is used to match the
        <var>person</var> string.</dd>
        <dt><code><var>number</var> <var>object</var></code></dt>
        <dd>This form allows you to specify a particular object in situations
        where the <var>object</var> string would match more than one item.
        The string <var>number</var> is something like <samp>`first'</samp>,
        <samp>`second'</samp>, ... or <samp>`1st'</samp>, <samp>`2nd'</samp>,
        ....</dd>
      </dl>
      <pre>
</pre>
      <p>These two forms can be combined, as show in the examples below. Here
      we assume that wizard(<code>#2</code>) is carrying two newspapers, with
      object numbers <code>#10</code> and <code>#23</code>. Wizard is
      currently standing in a room with object reference <code>#11</code>.
      The verb calls are made by the Wizard, so that referring to
      <samp>`me'</samp> or <samp>`my'</samp> refers to the wizard.</p>
      <pre>
Verb Call                                   Returns
---------                                   -------
:match ("me", {})                              #2
:match ("here", {})                            #11
:match ("", {})                                $nothing
:match ("$player", {})                         #4
:match ("wizard", {})                          $failed_match
:match ("wizard", {#2})                        #2
:match ("my newspaper", {})                    #10
:match ("wizard's newspaper", {})              $failed_match
:match ("wizard's newspaper", {#2})            $ambiguous_match
:match ("wizard's first newspaper", {#2})      #10
:match ("wizard's second newspaper", {#2})     #23
:match ("first newspaper", {#2})               $failed_match
:match ("first newspaper", {#10, #23})         #10
:match ("second newspaper", {#10, #23})        #23
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> obj <b>match_nth</b> <i>(str <var>string</var>, list
    <var>where</var>, num <var>n</var>)</i></dt>
    <dd>
      <a name="IDX420"
          id="IDX420"></a> This verb is used to match the <var>n</var>th
          occurrence of <var>string</var> in the list of objects given in
          <var>where</var>. This verb is used, for example, by
          <code>$match_utils:match</code> to pick out one particular object
          from a list with more than one possible match.
      <p>This verb looks at the <code>aliases</code> property of each of the
      objects in the <var>where</var> list, and returns the <var>n</var>th
      match. If there is no <var>n</var>th match, then
      <code>$failed_match</code> is returned. The idea behind this verb is to
      allow you to specify particular objects in situations where a normal
      match would return <var>$ambiguous_match</var>. This verb uses
      <code>index()</code> to do it's matching, and so returns objects which
      partially match <var>string</var>.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>match_verb</b> <i>(str <var>verb</var>, obj
    <var>what</var>, <var>args</var>)</i></dt>
    <dd>
      <a name="IDX421"
          id="IDX421"></a> This verb returns <samp>`1'</samp> if
          <var>verb</var> is found on the object <var>what</var>. The code
          for this is shown below:
      <pre>
vrb = args[1];
what = args[2];
ret = what:(vrb)(args[3]);
return ret != E_VERBNF;
</pre>
      <p>Note that the verb being matched is executed with the
      <var>args</var> given, but the result returned by the verb is lost. If
      the verb is not found, then <samp>`0'</samp> is returned.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>match_list</b> <i>(str <var>string</var>, list
    <var>where</var>)</i></dt>
    <dd>
      <a name="IDX422"
          id="IDX422"></a> This verb returns a list of objects taken from the
          list <var>where</var> that match with <var>string</var>. The
          <code>aliases</code> property of each object is checked to see if
          it can be matched against <var>string</var>. If it can, then it is
          added to the returned list. This verb is used in cases where you
          wish to know all the objects that match a particular
          <var>string</var>. This verb uses <code>index()</code> to do its
          matching, and so returns objects which partially match
          <var>string</var>.
    </dd>
  </dl>
  <h3><a name="SEC32"
     href="LambdaCoreProgMan_toc.html#TOC32"
     id="SEC32">The Trigonometric Utilities</a></h3>
  <p>This class provides various numerical routines, including trigonometric
  routines, generation of number sequences, and permutations and
  combinations.</p>
  <p>The trigonometric routines all take a parameter <var>x</var> in degrees.
  Result returned are to four decimal places, multiplied by 10000, so that
  they can be represented by numbers. For example:</p>
  <pre>
Verb Call                         Result
---------                         ------
:sin(0)                               0
:sin(90)                          10000
:sin(45)                           7063
:sin(270)                        -10000
</pre>
  <p>The following verbs are available:</p>
  <dl>
    <dt><u>Verb:</u> num <b>sin</b> <i>(num <var>x</var>)</i></dt>
    <dd>
      <a name="IDX423"
          id="IDX423"></a> This verb returns the sine of <var>x</var>, where
          <var>x</var> is in degrees. The returned value is to four decimal
          places, multiplied by 10000.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>cos</b> <i>(num <var>x</var>)</i></dt>
    <dd>
      <a name="IDX424"
          id="IDX424"></a> This verb returns the cosine of <var>x</var>,
          where <var>x</var> is in degrees. The returned value is to four
          decimal places, multiplied by 10000.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>tan</b> <i>(num <var>x</var>)</i></dt>
    <dd>
      <a name="IDX425"
          id="IDX425"></a> This verb returns the tangent of <var>x</var>,
          where <var>x</var> is in degrees. The returned value is to four
          decimal places, multiplied by 10000.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>xsin</b> <i>(num <var>x</var>)</i></dt>
    <dd>
      <a name="IDX426"
          id="IDX426"></a>
    </dd>
    <dt><u>Verb:</u> num <b>xcos</b> <i>(num <var>x</var>)</i></dt>
    <dd>
      <a name="IDX427"
          id="IDX427"></a> These two verbs are used by the above verbs to
          compute the sin, cos and tan values using Taylor's Theorem. They
          are not really of use to the average programmer.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>factorial</b> <i>(num <var>x</var>)</i></dt>
    <dd>
      <a name="IDX428"
          id="IDX428"></a> This verb returns the factorial, using the
          traditional recursive method. Note that <var>n</var> must be
          greater than or equal to 0.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>pow</b> <i>(num <var>x</var>, num
    <var>n</var>)</i></dt>
    <dd>
      <a name="IDX429"
          id="IDX429"></a> This verb returns <var>x</var> raised to the
          <var>n</var>th power. Note that <var>n</var> must be greater than
          or equal to 0. Again, a recursive method is used to generate the
          result.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>exp</b> <i>(num <var>x</var> [, num
    <var>n</var>])</i></dt>
    <dd>
      <a name="IDX430"
          id="IDX430"></a> This verb calculates an <var>n</var>th order
          Taylor approximation for <code>e</code>^<var>x</var>. <var>n</var>
          defaults to 5. The result returned is in the format:
      <pre>
{<var>integer part</var>, <var>fractional part</var>}
</pre>
      <p>For example,</p>
      <pre>
&gt;;$trig_utils:exp(1)
 -|{2, 71666}

&gt;;$trig_utils:exp(2, 6)
 -|{7, 35555}
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>fibonacci</b> <i>(num <var>n</var>)</i></dt>
    <dd>
      <a name="IDX431"
          id="IDX431"></a> This verbn calculates the Fibonacci sequence to
          the <var>n</var>th term, and returns the result as a list of
          numbers. Note that <var>n</var> must be greater than or equal to
          zero.
      <p>For example:</p>
      <pre>
&gt;;$trig_utils:fibonacci(10)
 -| {0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55}
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>geometric</b> <i>(num <var>x</var>, num
    <var>n</var>)</i></dt>
    <dd>
      <a name="IDX432"
          id="IDX432"></a> This verb calculates the value of the geometric
          series at <var>x</var> to the <var>n</var>th term. i.e., it
          approximates <code>1/(1-x)</code> when <code>|x| &lt; 1</code>.
          This, of course, is impossible in MOO, but someone may find it
          useful in some way. <var>n</var> defaults to 5. Note that
          <var>n</var> must be greater than or equal to zero.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>div</b> <i>(num <var>n</var>, num
    <var>q</var>)</i></dt>
    <dd>
      <a name="IDX433"
          id="IDX433"></a> This verb returns a decomposition of <var>n</var>
          by <var>q</var> using the division algorithm. The returned list
          contains the divisor and the remainder.
      <p>For example:</p>
      <pre>
Verb Call                     Returned
---------                     --------
;$trig_utils:div(5,1)          {5, 0}
;$trig_utils:div(5,2)          {2, 1}
;$trig_utils:div(5,3)          {1, 2}
;$trig_utils:div(5,4)          {1, 1}
;$trig_utils:div(5,5)          {1, 0}
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>combinations</b> <i>(num <var>n</var>, num
    <var>r</var>)</i></dt>
    <dd>
      <a name="IDX434"
          id="IDX434"></a> This verb returns the number of ways one can
          choose <var>r</var> objects from <var>n</var> distinct choices. For
          example:
      <pre>
Verb Call                              Returned
---------                              --------
;$trig_utils:combinations(5,1)            5  
;$trig_utils:combinations(5,2)            10
;$trig_utils:combinations(3,2)            3
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>permutations</b> <i>(num <var>n</var>, num
    <var>r</var>)</i></dt>
    <dd>
      <a name="IDX435"
          id="IDX435"></a> This verb returns the number of ways possible for
          <var>r</var> objects to be ordered given <var>n</var> distinct
          locations,using the formula
      <pre>
P(n,r) =  n!
        ----
        (n-r)!
</pre>
      <p>For example:</p>
      <pre>
Verb Call                              Returned
---------                              --------
;$trig_utils:permutations(5,1)            5  
;$trig_utils:permutations(5,2)            20
;$trig_utils:permutations(3,2)            6
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>simpson</b> <i>(list {num <var>a</var>, num
    <var>b</var>}, list {num <var>f(a)</var>, num <var>f((a+b)/2)</var>, num
    <var>f(b)</var>})</i></dt>
    <dd>
      <a name="IDX436"
          id="IDX436"></a> Given two endpoints, <var>a</var> and
          <var>b</var>, and the function's value at <var>a</var>,
          <var>(a+b)/2</var>, and <var>b</var>, this verb will calculate a
          numerical approximation of the integral using Simpson's rule. The
          answer is returned in the form
      <pre>
{<var>integer part</var>, <var>fractional part</var>}
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>abs</b> <i>(num <var>x</var>)</i></dt>
    <dd>
      <a name="IDX437"
          id="IDX437"></a> This verb returns the absoluate value of
          <var>x</var>. Note that this is available in the server as the
          <code>abs()</code> primitive, so this verb is redundant.
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> list <b>parts</b> <i>(num <var>n</var>, num <var>q</var>
    [, num <var>i</var>])</i></dt>
    <dd>
      <a name="IDX438"
          id="IDX438"></a> This verb returns a decomposition of <var>n</var>
          by <var>q</var> into integer and floating point parts. <var>i</var>
          gives the number of digits after the decimal point. If not given,
          <var>i</var> defaults to 5. For example:
      <pre>
Verb Call                       Returned
---------                       --------
;$trig_utils:parts(5,1)          {5, 0}
;$trig_utils:parts(5,2)          {2, 50000}
;$trig_utils:parts(3,2,2)        {1,50}  
</pre>
    </dd>
  </dl>
  <h3><a name="SEC33"
     href="LambdaCoreProgMan_toc.html#TOC33"
     id="SEC33">The Time Utilities</a></h3>
  <p>The time utilities class, <code>$time_utils</code> provides a few useful
  functions for dealing with dates and times. The following verbs are
  provided:</p>
  <dl>
    <dt><u>Verb:</u> str <b>day</b> <i>(<var>time</var>)</i></dt>
    <dd>
      <a name="IDX439"
          id="IDX439"></a> This verb takes a time specification in
          <var>time</var>, and returns the full name of the day. This verb
          expects <var>time</var> to be the result of a either the
          <code>time()</code> primitive or <var>ctime()</var>. In the first
          case, <var>time</var> is a number. In the second case,
          <var>time</var> is a string.
      <p>For example,</p>
      <pre>
&gt;;$time_utils:day(time())
 -|"Friday"
</pre>
      <p>The names for the days are stored on a property list called
      <code>days</code> on the <code>$time_utils</code> class. This is
      indexed from a list of abbreviated day names, stored in a property list
      called <code>dayabbrs</code>.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> str <b>month</b> <i>(<var>time</var>)</i></dt>
    <dd>
      <a name="IDX440"
          id="IDX440"></a> This verb takes a time specification in
          <var>time</var>, and returns the full name of the month. This verb
          expects <var>time</var> to be the result of a either the
          <code>time()</code> primitive or <var>ctime()</var>. In the first
          case, <var>time</var> is a number. In the second case,
          <var>time</var> is a string.
      <p>For example,</p>
      <pre>
&gt;;$time_utils:month(time())
 -|"July"
</pre>
      <p>The names for the months are stored on a property list called
      <code>months</code> on the <code>$time_utils</code> class. This is
      indexed from a list of abbreviated month names, stored in a property
      list called <code>monthabbrs</code>.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> string <b>ampm</b> <i>(<var>time</var> [,num
    <var>precision</var>)</i></dt>
    <dd>
      <a name="IDX441"
          id="IDX441"></a> This verb takes a time specification in
          <var>time</var>, and returns string containing a time in the form
      <pre>
[h]h[:mm[:ss]] {a.m.|p.m.}
</pre>
      <p><var>time</var> is either the result of the <code>time()</code> or
      <var>ctime()</var> primitives, and is either a number or a string
      respectively. If given, <var>precision</var> specifies the accuracy
      required:</p>
      <pre>
</pre>
      <dl compact="compact">
        <dt><code>1</code></dt>
        <dd>Only the hours are returned.</dd>
        <dt><code>2</code></dt>
        <dd>The hours and minutes are returned.</dd>
        <dt><code>3</code></dt>
        <dd>The hours, minutes and seconds are returned.</dd>
      </dl>
      <pre>
</pre>
      <p>If not given, then <var>precision</var> defaults to minutes. For
      example,</p>
      <pre>
Verb Call                   Returns
---------                   -------
:ampm(time())                "8:58 p.m."
:ampm(time(), 1)             "8 p.m."
:ampm(time(), 2)             "8:58 p.m."
:ampm(time(), 3)             "8:58:23 p.m."
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>to_seconds</b> <i>(str
    <var>string</var>)</i></dt>
    <dd>
      <a name="IDX442"
          id="IDX442"></a> This verb takes a <var>string</var> in the form
      <pre>
hh:mm:ss
</pre>
      <p>for example, created using the expression</p>
      <pre>
$string_utils:explode(ctime(time))[4]
</pre>
      <p>and returns the number of seconds elapsed since 00:00:00.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>sun</b> <i>([num <var>time</var>])</i></dt>
    <dd>
      <a name="IDX443"
          id="IDX443"></a> I can't work out what this verb is supposed to do.
          I include the code for those interested persons who might find it
          useful.
      <pre>
r = 10000;
h = r * r + r / 2;
time = args == {} ? time() | args[1];
t = (time + 120) % 86400 / 240;
s = 5 * ((time - 14957676) % 31556952) / 438291;
phi = s + t + this.corr;
cs = $trig_utils:cos(s);
spss = ($trig_utils:sin(phi) * $trig_utils:sin(s) + h) / r - r;
cpcs = ($trig_utils:cos(phi) * cs + h) / r - r;
return (this.stsd * cs - this.ctcd * cpcs - this.ct * spss + h) / r - r;
</pre>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>from_ctime</b> <i>(str
    <var>string</var>)</i></dt>
    <dd>
      <a name="IDX444"
          id="IDX444"></a> This verb, given a string such as that returned by
          <code>ctime()</code>, returns the corresponding
          time-in-seconds-since-1970 time returned by <code>time()</code>, or
          <code>E_DIV</code> if the format is wrong in some essential way.
          Note that <code>ctime()</code> doesn't return a time zone, yet it
          arbitrarily decides whether it's standard or daylight savings time.
    </dd>
  </dl>
  <p>The following properties are defined on the <code>$time_utils</code>
  class:</p>
  <dl>
    <dt><u>Property:</u> <b>stsd</b></dt>
    <dd>
      <a name="IDX445"
          id="IDX445"></a>
    </dd>
    <dt><u>Property:</u> <b>ctcd</b></dt>
    <dd>
      <a name="IDX446"
          id="IDX446"></a>
    </dd>
    <dt><u>Property:</u> <b>ct</b></dt>
    <dd>
      <a name="IDX447"
          id="IDX447"></a>
    </dd>
    <dt><u>Property:</u> <b>corr</b></dt>
    <dd>
      <a name="IDX448"
          id="IDX448"></a> These properties are used by the mysterious
          <code>$time_utils:sun()</code> verb. Becuase of this, I have no
          comment to make on what information they contain, or how they are
          used.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>dayabbrs</b></dt>
    <dd>
      <a name="IDX449"
          id="IDX449"></a> This property contains a list of day
          abbreviations, such as are found in the string returned by
          <code>ctime()</code>. They are used to produce an index into the
          property <code>days</code>, that contains the full names of each
          day of the week.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>days</b></dt>
    <dd>
      <a name="IDX450"
          id="IDX450"></a> This property contains a list of the seven full
          names of the days of the week.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>months</b></dt>
    <dd>
      <a name="IDX451"
          id="IDX451"></a> This property contains a list of the twelve full
          names of the months of the year.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>monthabbrs</b></dt>
    <dd>
      <a name="IDX452"
          id="IDX452"></a> This property contains a list of month name
          abbreviations, such as are returned from <code>ctime()</code>. They
          are used to produce an index into the property <code>months</code>,
          that contains the full names of each month of the year.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>zones</b></dt>
    <dd>
      <a name="IDX453"
          id="IDX453"></a> This contains a list of some time zones, for some
          random purpose as yet unknown. If anyone can enlighten me.....
    </dd>
  </dl>
  <h3><a name="SEC34"
     href="LambdaCoreProgMan_toc.html#TOC34"
     id="SEC34">The Gender Utilities</a></h3>
  <p>The gender utilities class, <code>$gender_utils</code> contains a couple
  of verbs used for manipulating the gender pronouns of objects.</p>
  <dl>
    <dt><u>Verb:</u> num <b>set</b> <i>(obj <var>object</var>, str
    <var>gender</var>)</i></dt>
    <dd>
      <a name="IDX454"
          id="IDX454"></a> This verb is used to set the pronoun properties of
          <var>object</var>, according to the <var>gender</var> specified.
          <var>gender</var> is a string: one of the strings in the property
          list <code>$gender_utils.genders</code>, the list of rcognized
          genders.
      <p>The verb checks <var>gender</var> against the gender list, and sets
      the pronouns on <var>object</var> with strings taken from property
      lists stored on <code>$gender_utils</code>. If the gender change is
      successful, the (full) name of the gender (e.g., <samp>`female'</samp>)
      is returned. <code>E_NONE</code> is returned if gender does not match
      any recognized gender. Any other error encountered (e.g.,
      <code>E_PERM</code>, <code>E_PROPNF</code>) is likewise returned and
      the object's pronoun properties are left unaltered.</p>
    </dd>
  </dl>
  <dl>
    <dt><u>Verb:</u> num <b>add</b> <i>(obj <var>object</var> [,str
    <var>perms</var>] [, obj <var>owner</var>])</i></dt>
    <dd>
      <a name="IDX455"
          id="IDX455"></a> This verb is used to add pronoun properties to
          <var>object</var> if they are not already there. The
          <var>owner</var> and <var>perms</var> arguments allow you to
          optionally specify the permissions and owner of the gender
          properties that are being created. If not given, <var>owner</var>
          defaults to the object's owner, and <var>perms</var> defaults to
          <samp>`rc'</samp>.
    </dd>
  </dl>
  <p>The following properties are defined on the <code>$gender_utils</code>
  class:</p>
  <dl>
    <dt><u>Property:</u> <b>pronouns</b></dt>
    <dd>
      <a name="IDX456"
          id="IDX456"></a> This property holds a list of the pronoun
          properties that can be given to an object. It is used by the
          <code>$gender_utils:add</code> verb when adding the gender
          properties to an object.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>genders</b></dt>
    <dd>
      <a name="IDX457"
          id="IDX457"></a> This property holds a list of legal genders for
          objects, as strings.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>ps</b></dt>
    <dd>
      <a name="IDX458"
          id="IDX458"></a> This property holds the subjective pronouns for
          each different gender. If a gender is given by
          <code>$gender_utils.genders[<var>x</var>]</code>, then the
          corresponding gender pronouns is given by
          <code>$gender_utils:ps[<var>x</var>]</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>po</b></dt>
    <dd>
      <a name="IDX459"
          id="IDX459"></a> This property holds the objective pronouns for
          each different gender. If a gender is given by
          <code>$gender_utils.genders[<var>x</var>]</code>, then the
          corresponding gender pronouns is given by
          <code>$gender_utils:po[<var>x</var>]</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>pp</b></dt>
    <dd>
      <a name="IDX460"
          id="IDX460"></a> This property holds the possessive pronouns for
          each different gender. If a gender is given by
          <code>$gender_utils.genders[<var>x</var>]</code>, then the
          corresponding gender pronouns is given by
          <code>$gender_utils:pp[<var>x</var>]</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>pq</b></dt>
    <dd>
      <a name="IDX461"
          id="IDX461"></a> This property holds the possessive pronouns, in
          the noun form, for each different gender. If a gender is given by
          <code>$gender_utils.genders[<var>x</var>]</code>, then the
          corresponding gender pronouns is given by
          <code>$gender_utils:pq[<var>x</var>]</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>pr</b></dt>
    <dd>
      <a name="IDX462"
          id="IDX462"></a> This property holds the reflexive pronouns for
          each different gender. If a gender is given by
          <code>$gender_utils.genders[<var>x</var>]</code>, then the
          corresponding gender pronouns is given by
          <code>$gender_utils:pr[<var>x</var>]</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>psc</b></dt>
    <dd>
      <a name="IDX463"
          id="IDX463"></a> This property holds the capitalised subjective
          pronouns for each different gender. If a gender is given by
          <code>$gender_utils.genders[<var>x</var>]</code>, then the
          corresponding gender pronouns is given by
          <code>$gender_utils:psc[<var>x</var>]</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>poc</b></dt>
    <dd>
      <a name="IDX464"
          id="IDX464"></a> This property holds the capitalised objective
          pronouns for each different gender. If a gender is given by
          <code>$gender_utils.genders[<var>x</var>]</code>, then the
          corresponding gender pronouns is given by
          <code>$gender_utils:poc[<var>x</var>]</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>ppc</b></dt>
    <dd>
      <a name="IDX465"
          id="IDX465"></a> This property holds the capitalised possessive
          pronouns for each different gender. If a gender is given by
          <code>$gender_utils.genders[<var>x</var>]</code>, then the
          corresponding gender pronouns is given by
          <code>$gender_utils:ppc[<var>x</var>]</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>pqc</b></dt>
    <dd>
      <a name="IDX466"
          id="IDX466"></a> This property holds the capitalised possessive
          pronouns, in their noun form, for each different gender. If a
          gender is given by
          <code>$gender_utils.genders[<var>x</var>]</code>, then the
          corresponding gender pronouns is given by
          <code>$gender_utils:pqc[<var>x</var>]</code>.
    </dd>
  </dl>
  <dl>
    <dt><u>Property:</u> <b>prc</b></dt>
    <dd>
      <a name="IDX467"
          id="IDX467"></a> This property holds the capitalised reflexive
          pronouns for each different gender. If a gender is given by
          <code>$gender_utils.genders[<var>x</var>]</code>, then the
          corresponding gender pronouns is given by
          <code>$gender_utils:prc[<var>x</var>]</code>.
    </dd>
  </dl>
  <h1><a name="SEC35"
     href="LambdaCoreProgMan_toc.html#TOC35"
     id="SEC35">Common Questions - How to do Useful Things</a></h1>
  <p>To be written.</p>
  <h1><a name="SEC36"
     href="LambdaCoreProgMan_toc.html#TOC36"
     id="SEC36">Verb Index</a></h1>
  <p>Jump to: <a href="LambdaCoreProgMan.html#findex_?">?</a> - <a href=
  "LambdaCoreProgMan.html#findex_@">@</a> - <a href=
  "LambdaCoreProgMan.html#findex_a">a</a> - <a href=
  "LambdaCoreProgMan.html#findex_b">b</a> - <a href=
  "LambdaCoreProgMan.html#findex_c">c</a> - <a href=
  "LambdaCoreProgMan.html#findex_d">d</a> - <a href=
  "LambdaCoreProgMan.html#findex_e">e</a> - <a href=
  "LambdaCoreProgMan.html#findex_f">f</a> - <a href=
  "LambdaCoreProgMan.html#findex_g">g</a> - <a href=
  "LambdaCoreProgMan.html#findex_h">h</a> - <a href=
  "LambdaCoreProgMan.html#findex_i">i</a> - <a href=
  "LambdaCoreProgMan.html#findex_l">l</a> - <a href=
  "LambdaCoreProgMan.html#findex_m">m</a> - <a href=
  "LambdaCoreProgMan.html#findex_n">n</a> - <a href=
  "LambdaCoreProgMan.html#findex_o">o</a> - <a href=
  "LambdaCoreProgMan.html#findex_p">p</a> - <a href=
  "LambdaCoreProgMan.html#findex_q">q</a> - <a href=
  "LambdaCoreProgMan.html#findex_r">r</a> - <a href=
  "LambdaCoreProgMan.html#findex_s">s</a> - <a href=
  "LambdaCoreProgMan.html#findex_t">t</a> - <a href=
  "LambdaCoreProgMan.html#findex_u">u</a> - <a href=
  "LambdaCoreProgMan.html#findex_v">v</a> - <a href=
  "LambdaCoreProgMan.html#findex_w">w</a> - <a href=
  "LambdaCoreProgMan.html#findex_x">x</a></p>
  <h2><a name="findex_?"
     id="findex_?">?</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX119">?</a>
    </li>
  </ul>
  <h2><a name="findex_@"
     id="findex_@">@</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX45">@add-entrance</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX44">@add-exit</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX138">@answer</a>, <a href=
      "LambdaCoreProgMan.html#IDX221">@answer</a>, <a href=
      "LambdaCoreProgMan.html#IDX222">@answer</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX161">@audit</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX157">@bug</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX170">@che*ck</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX178">@cl*asses</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX148">@count</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX175">@create</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX174">@desc*ribe</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX177">@dig</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX54">@eject</a>, <a href=
      "LambdaCoreProgMan.html#IDX163">@eject</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX36">@entrances</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX31">@exits</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX112">@gag</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX121">@gender</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX116">@gripe</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX159">@idea</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX47">@lastlog</a>, <a href=
      "LambdaCoreProgMan.html#IDX48">@lastlog</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX113">@listgag</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX166">@lock</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX331">@lock_for_open</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX134">@mail</a>, <a href=
      "LambdaCoreProgMan.html#IDX216">@mail</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX151">@memory</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX168">@mess*ages</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX171">@move</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX143">@next</a>, <a href=
      "LambdaCoreProgMan.html#IDX227">@next</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX154">@notedit</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX337">@opacity</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX172">@par*anoid</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX120">@password</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX144">@prev</a>, <a href=
      "LambdaCoreProgMan.html#IDX228">@prev</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX160">@quit</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX145">@quota</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX137">@read</a>, <a href=
      "LambdaCoreProgMan.html#IDX219">@read</a>, <a href=
      "LambdaCoreProgMan.html#IDX220">@read</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX146">@realm</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX176">@recycle</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX123">@rename</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX140">@renumber</a>, <a href=
      "LambdaCoreProgMan.html#IDX229">@renumber</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX139">@reply</a>, <a href=
      "LambdaCoreProgMan.html#IDX223">@reply</a>, <a href=
      "LambdaCoreProgMan.html#IDX224">@reply</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX135">@rmm*ail</a>, <a href=
      "LambdaCoreProgMan.html#IDX217">@rmm*ail</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX173">@s*how</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX136">@send</a>, <a href=
      "LambdaCoreProgMan.html#IDX218">@send</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX129">@sethome</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX158">@suggest*ion</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX169">@sw*eep</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX156">@typo</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX114">@ungag</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX165">@unlock</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX332">@unlock_for_open</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX167">@version</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX133">@whereis</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX155">@who</a>
    </li>
  </ul>
  <h2><a name="findex_a"
     id="findex_a">a</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX271">abort</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX272">abortable</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX437">abs</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX6">accept</a>, <a href=
      "LambdaCoreProgMan.html#IDX33">accept</a>, <a href=
      "LambdaCoreProgMan.html#IDX124">accept</a>, <a href=
      "LambdaCoreProgMan.html#IDX256">accept</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX455">add</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX34">add_entrance</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX28">add_exit</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX263">add_line</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX258">add_writer</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX413">all_properties</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX414">all_verbs</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX283">also*-to</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX239">also*-to:</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX441">ampm</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX415">ancestors</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX24">announce</a>, <a href=
      "LambdaCoreProgMan.html#IDX152">announce</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX39">announce_all</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX25">announce_all_but</a>, <a href=
      "LambdaCoreProgMan.html#IDX153">announce_all_but</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX385">apply</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX95">arrive_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX396">assoc</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX162">audit_2</a>
    </li>
  </ul>
  <h2><a name="findex_b"
     id="findex_b">b</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX35">bless_for_entry</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX350">burn</a>
    </li>
  </ul>
  <h2><a name="findex_c"
     id="findex_c">c</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX408">canonicalize_spaces</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX372">cap_fast</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX377">cap_property</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX370">capitalise</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX371">capitalize</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX364">centre</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX245">check_answer_flags</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX179">classes_2</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX274">clear_abortable</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX334">close</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX380">columnize</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX434">combinations</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX19">confunc</a>, <a href=
      "LambdaCoreProgMan.html#IDX130">confunc</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX412">contains</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX384">controls</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX424">cos</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX149">count_2</a>
    </li>
  </ul>
  <h2><a name="findex_d"
     id="findex_d">d</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX71">d*rop</a>, <a href=
      "LambdaCoreProgMan.html#IDX324">d*rop</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX439">day</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX347">decrypt</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX342">del*ete</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX416">descendants</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX2">describe</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX1">description</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX276">destroy</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX20">disfunc</a>, <a href=
      "LambdaCoreProgMan.html#IDX131">disfunc</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX433">div</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX78">drop_failed_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX79">drop_succeeded_msg</a>
    </li>
  </ul>
  <h2><a name="findex_e"
     id="findex_e">e</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX15">eject</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX55">ejection_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX22">emote</a>, <a href=
      "LambdaCoreProgMan.html#IDX262">emote</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX23">emote1</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX346">encrypt</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX366">english_list</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX40">enterfunc</a>, <a href=
      "LambdaCoreProgMan.html#IDX257">enterfunc</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX340">er*ase</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX403">eval_key</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX8">exam*ine</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX41">exitfunc</a>, <a href=
      "LambdaCoreProgMan.html#IDX275">exitfunc</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX430">exp</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX52">explain_syntax</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX357">explode</a>
    </li>
  </ul>
  <h2><a name="findex_f"
     id="findex_f">f</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX428">factorial</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX431">fibonacci</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX368">find_prefix</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX354">find_topics</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX391">find_verbs_containing</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX142">fix_current_message</a>,
      <a href="LambdaCoreProgMan.html#IDX226">fix_current_message</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX444">from_ctime</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX358">from_list</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX367">from_seconds</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX360">from_value</a>
    </li>
  </ul>
  <h2><a name="findex_g"
     id="findex_g">g</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX69">g*et</a>, <a href=
      "LambdaCoreProgMan.html#IDX107">g*et</a>, <a href=
      "LambdaCoreProgMan.html#IDX327">g*et</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX127">gag_p</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX432">geometric</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX117">gi*ve</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX37">go</a>
    </li>
  </ul>
  <h2><a name="findex_h"
     id="findex_h">h</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX118">ha*nd</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX418">has_property</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX417">has_verb</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX270">help</a>, <a href=
      "LambdaCoreProgMan.html#IDX351">help</a>, <a href=
      "LambdaCoreProgMan.html#IDX352">help</a>, <a href=
      "LambdaCoreProgMan.html#IDX353">help</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX128">home</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX26">huh</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX53">huh2</a>
    </li>
  </ul>
  <h2><a name="findex_i"
     id="findex_i">i</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX109">i*nventory</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX397">iassoc</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX325">in*sert</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX378">index_delimited</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX405">init_scanner</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX232">init_session</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX90">invoke</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX333">is_openable_by</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX345">is_readable_by</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX11">is_unlocked_for</a>
    </li>
  </ul>
  <h2><a name="findex_l"
     id="findex_l">l</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX93">leave_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX365">left</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX38">look</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX3">look_self</a>, <a href=
      "LambdaCoreProgMan.html#IDX32">look_self</a>, <a href=
      "LambdaCoreProgMan.html#IDX111">look_self</a>, <a href=
      "LambdaCoreProgMan.html#IDX269">look_self</a>
    </li>
  </ul>
  <h2><a name="findex_m"
     id="findex_m">m</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX402">make_exit</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX242">make_message</a>, <a href=
      "LambdaCoreProgMan.html#IDX284">make_message</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX399">map_pronoun_sub</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX394">map_prop</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX395">map_verb</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX7">match</a>, <a href=
      "LambdaCoreProgMan.html#IDX359">match</a>, <a href=
      "LambdaCoreProgMan.html#IDX419">match</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX27">match_exit</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX422">match_list</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX420">match_nth</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX30">match_object</a>, <a href=
      "LambdaCoreProgMan.html#IDX407">match_object</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX374">match_player</a>, <a href=
      "LambdaCoreProgMan.html#IDX375">match_player</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX382">match_str*ing</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX421">match_verb</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX260">message_so_far</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX235">message_with_headers</a>,
      <a href="LambdaCoreProgMan.html#IDX278">message_with_headers</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX440">month</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX91">move</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX5">moveto</a>, <a href=
      "LambdaCoreProgMan.html#IDX73">moveto</a>
    </li>
  </ul>
  <h2><a name="findex_n"
     id="findex_n">n</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX49">n*orth/e*east/w*west/s*south</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX243">name_list</a>, <a href=
      "LambdaCoreProgMan.html#IDX285">name_list</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX115">news</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX97">nogo_msg</a>
    </li>
    <li>
      <a href=
      "LambdaCoreProgMan.html#IDX50">northwest/northeast/southwest/southeast</a>
    </li>
  </ul>
  <h2><a name="findex_o"
     id="findex_o">o</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX96">oarrive_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX392">object_match_failed</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX80">odrop_failed_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX81">odrop_succeeded_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX56">oejection_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX94">oleave_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX98">onogo_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX330">open</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX76">otake_failed_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX77">otake_succeeded_msg</a>
    </li>
  </ul>
  <h2><a name="findex_p"
     id="findex_p">p</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX326">p*ut</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX122">page</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX184">page_absent_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX183">page_echo_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX182">page_origin_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX410">parse_A</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX381">parse_command</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX409">parse_E</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX231">parse_invoke</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX404">parse_keyexp</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX244">parse_msg_headers</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX386">parse_propref</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX240">parse_recipients</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX387">parse_verbref</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX438">parts</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX267">pause</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX435">permutations</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX393">player_match_result</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX429">pow</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX233">pri*nt</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX264">print</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX355">print_index</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX234">print_msg</a>, <a href=
      "LambdaCoreProgMan.html#IDX265">print_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX356">print_topic</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX361">pronoun_sub</a>
    </li>
  </ul>
  <h2><a name="findex_q"
     id="findex_q">q</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX164">QUIT</a>
    </li>
  </ul>
  <h2><a name="findex_r"
     id="findex_r">r</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX339">r*ead</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX329">re*move</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX147">realm2</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX141">receive_message</a>, <a href=
      "LambdaCoreProgMan.html#IDX225">receive_message</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX241">recipient_names</a>, <a href=
      "LambdaCoreProgMan.html#IDX266">recipient_names</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX259">recipients</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX13">recycle</a>, <a href=
      "LambdaCoreProgMan.html#IDX46">recycle</a>, <a href=
      "LambdaCoreProgMan.html#IDX92">recycle</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX343">rem*ove</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX43">remove_entrance</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX42">remove_exit</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX246">reply-to*:</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX363">right</a>
    </li>
  </ul>
  <h2><a name="findex_s"
     id="findex_s">s</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX21">say</a>, <a href=
      "LambdaCoreProgMan.html#IDX261">say</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX406">scan_token</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX247">send</a>, <a href=
      "LambdaCoreProgMan.html#IDX277">send</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX268">send_back</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX250">send_message</a>, <a href=
      "LambdaCoreProgMan.html#IDX286">send_message</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX454">set</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX273">set_abortable</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX10">set_name</a>, <a href=
      "LambdaCoreProgMan.html#IDX150">set_name</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX401">set_names</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX338">set_opaque</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX336">set_opened</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX237">set_subject</a>, <a href=
      "LambdaCoreProgMan.html#IDX282">set_subject</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX388">show_object</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX389">show_property</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX390">show_verbdef</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX249">showlists</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX436">simpson</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX423">sin</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX400">slice</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX398">sort_alist</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX362">space</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX373">strip_chars</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX280">sub*ject</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX236">subj*ect:</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX251">subsc*ribe</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX443">sun</a>
    </li>
  </ul>
  <h2><a name="findex_t"
     id="findex_t">t</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX70">t*ake</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX328">ta*ke</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX108">take</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX74">take_failed_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX75">take_succeeded_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX425">tan</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX4">tell</a>, <a href=
      "LambdaCoreProgMan.html#IDX125">tell</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX29">tell_contents</a>, <a href=
      "LambdaCoreProgMan.html#IDX335">tell_contents</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX9">tell_lines</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX344">text</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX72">th*row</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX279">the_subject</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX12">title</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX14">titlec</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX281">to</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX238">to*:</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX442">to_seconds</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX379">to_value</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX369">trim</a>
    </li>
  </ul>
  <h2><a name="findex_u"
     id="findex_u">u</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX411">unparse_key</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX252">unsubsc*ribe</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX51">up/down</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX383">uppercase</a>
    </li>
  </ul>
  <h2><a name="findex_v"
     id="findex_v">v</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX57">victim_ejection_msg</a>
    </li>
  </ul>
  <h2><a name="findex_w"
     id="findex_w">w</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX110">wh*isper</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX132">whereis</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX181">whereis_location_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX248">who</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX180">who_location_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX126">whodunnit</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX376">words</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX230">working_on</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX341">wr*ite</a>
    </li>
  </ul>
  <h2><a name="findex_x"
     id="findex_x">x</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX427">xcos</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX426">xsin</a>
    </li>
  </ul>
  <h1><a name="SEC37"
     href="LambdaCoreProgMan_toc.html#TOC37"
     id="SEC37">Property Index</a></h1>
  <p>Jump to: <a href="LambdaCoreProgMan.html#vindex_a">a</a> - <a href=
  "LambdaCoreProgMan.html#vindex_b">b</a> - <a href=
  "LambdaCoreProgMan.html#vindex_c">c</a> - <a href=
  "LambdaCoreProgMan.html#vindex_d">d</a> - <a href=
  "LambdaCoreProgMan.html#vindex_e">e</a> - <a href=
  "LambdaCoreProgMan.html#vindex_f">f</a> - <a href=
  "LambdaCoreProgMan.html#vindex_g">g</a> - <a href=
  "LambdaCoreProgMan.html#vindex_h">h</a> - <a href=
  "LambdaCoreProgMan.html#vindex_k">k</a> - <a href=
  "LambdaCoreProgMan.html#vindex_l">l</a> - <a href=
  "LambdaCoreProgMan.html#vindex_m">m</a> - <a href=
  "LambdaCoreProgMan.html#vindex_n">n</a> - <a href=
  "LambdaCoreProgMan.html#vindex_o">o</a> - <a href=
  "LambdaCoreProgMan.html#vindex_p">p</a> - <a href=
  "LambdaCoreProgMan.html#vindex_r">r</a> - <a href=
  "LambdaCoreProgMan.html#vindex_s">s</a> - <a href=
  "LambdaCoreProgMan.html#vindex_t">t</a> - <a href=
  "LambdaCoreProgMan.html#vindex_v">v</a> - <a href=
  "LambdaCoreProgMan.html#vindex_w">w</a> - <a href=
  "LambdaCoreProgMan.html#vindex_z">z</a></p>
  <h2><a name="vindex_a"
     id="vindex_a">a</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX288">abortable</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX17">aliases</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX306">ambiguous_match</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX103">arrive_msg</a>
    </li>
  </ul>
  <h2><a name="vindex_b"
     id="vindex_b">b</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX64">blessed_object</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX65">blessed_task</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX308">building_utils</a>
    </li>
  </ul>
  <h2><a name="vindex_c"
     id="vindex_c">c</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX302">code_utils</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX298">command_utils</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX313">container</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX448">corr</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX447">ct</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX446">ctcd</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX68">ctype</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX185">current_message</a>
    </li>
  </ul>
  <h2><a name="vindex_d"
     id="vindex_d">d</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX67">dark</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX449">dayabbrs</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX450">days</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX18">description</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX100">dest</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX89">drop_failed_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX88">drop_succeeded_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX320">dump_interval</a>
    </li>
  </ul>
  <h2><a name="vindex_e"
     id="vindex_e">e</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX215">edit_options</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX293">editor</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX59">ejection_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX348">encryption_key</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX63">entrances</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX315">exit</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX66">exits</a>
    </li>
  </ul>
  <h2><a name="vindex_f"
     id="vindex_f">f</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX305">failed_match</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX62">free_entry</a>
    </li>
  </ul>
  <h2><a name="vindex_g"
     id="vindex_g">g</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX202">gaglist</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX189">gender</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX457">genders</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX319">gripe_recipients</a>
    </li>
  </ul>
  <h2><a name="vindex_h"
     id="vindex_h">h</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX303">help</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX200">home</a>
    </li>
  </ul>
  <h2><a name="vindex_k"
     id="vindex_k">k</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX16">key</a>
    </li>
  </ul>
  <h2><a name="vindex_l"
     id="vindex_l">l</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX187">last_connect_time</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX106">leave_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX312">letter</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX205">lines</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX297">list_utils</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX296">lock_utils</a>
    </li>
  </ul>
  <h2><a name="vindex_m"
     id="vindex_m">m</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX214">mail_forward</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX212">mail_notify</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX213">mail_options</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX294">mail_room</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX186">messages</a>, <a href=
      "LambdaCoreProgMan.html#IDX291">messages</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX452">monthabbrs</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX451">months</a>
    </li>
  </ul>
  <h2><a name="vindex_n"
     id="vindex_n">n</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX310">news</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX101">nogo_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX311">note</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX304">nothing</a>
    </li>
  </ul>
  <h2><a name="vindex_o"
     id="vindex_o">o</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX104">oarrive_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX206">object_gaglist</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX295">object_utils</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX87">odrop_failed_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX86">odrop_succeeded_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX60">oejection_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX105">oleave_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX102">onogo_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX83">otake_failed_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX82">otake_succeeded_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX188">ownership_quota</a>
    </li>
  </ul>
  <h2><a name="vindex_p"
     id="vindex_p">p</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX207">page_absent_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX209">page_echo_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX208">page_origin_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX203">paranoid</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX201">password</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX307">perm_utils</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX289">places</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX299">player</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX323">player_class</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX322">player_start</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX191">po</a>, <a href=
      "LambdaCoreProgMan.html#IDX459">po</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX196">poc</a>, <a href=
      "LambdaCoreProgMan.html#IDX464">poc</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX192">pp</a>, <a href=
      "LambdaCoreProgMan.html#IDX460">pp</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX197">ppc</a>, <a href=
      "LambdaCoreProgMan.html#IDX465">ppc</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX194">pq</a>, <a href=
      "LambdaCoreProgMan.html#IDX461">pq</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX199">pqc</a>, <a href=
      "LambdaCoreProgMan.html#IDX466">pqc</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX193">pr</a>, <a href=
      "LambdaCoreProgMan.html#IDX462">pr</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX198">prc</a>, <a href=
      "LambdaCoreProgMan.html#IDX467">prc</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX301">prog</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX456">pronouns</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX190">ps</a>, <a href=
      "LambdaCoreProgMan.html#IDX458">ps</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX195">psc</a>, <a href=
      "LambdaCoreProgMan.html#IDX463">psc</a>
    </li>
  </ul>
  <h2><a name="vindex_r"
     id="vindex_r">r</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX254">recipients</a>, <a href=
      "LambdaCoreProgMan.html#IDX290">recipients</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX253">replytos</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX61">residents</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX204">responsible</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX316">room</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX317">root_class</a>
    </li>
  </ul>
  <h2><a name="vindex_s"
     id="vindex_s">s</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX99">source</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX309">string_utils</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX445">stsd</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX255">subjects</a>, <a href=
      "LambdaCoreProgMan.html#IDX287">subjects</a>
    </li>
  </ul>
  <h2><a name="vindex_t"
     id="vindex_t">t</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX85">take_failed_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX84">take_succeeded_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX349">text</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX314">thing</a>
    </li>
  </ul>
  <h2><a name="vindex_v"
     id="vindex_v">v</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX58">victim_ejection_msg</a>
    </li>
  </ul>
  <h2><a name="vindex_w"
     id="vindex_w">w</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX321">welcome_message</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX210">whereis_location_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX211">who_location_msg</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX300">wiz</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX318">wizard_mail_recipients</a>
    </li>
    <li>
      <a href="LambdaCoreProgMan.html#IDX292">writers</a>
    </li>
  </ul>
  <h2><a name="vindex_z"
     id="vindex_z">z</a></h2>
  <ul>
    <li>
      <a href="LambdaCoreProgMan.html#IDX453">zones</a>
    </li>
  </ul>
  <hr />
  <p>This document was generated on 25 August 1999 using <a href=
  "http://web.archive.org/web/20090303122757/http://wwwinfo.cern.ch/dis/texi2html/">
  texi2html</a>&nbsp;1.56k.</p><!--
     FILE ARCHIVED ON 12:27:57 Mar 3, 2009 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 7:48:13 Mar 26, 2012.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
</body>
</html>
